import{r as e,R as t}from"./BqUCZHEx.js";import{a as n}from"./DhsIdmQp.js";import{N as r,u as a,a as i,b as o,l as s,D as c,c as u,R as l,d as f,e as d,m as v}from"./3hKh35sJ.js";import{c as p,b as w,s as h,d as m,E as y}from"./DuHg4J4c.js";
/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function g(){return g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g.apply(this,arguments)}function S(e){return void 0===e&&(e=""),new URLSearchParams("string"==typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce(((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map((e=>[n,e])):[[n,r]])}),[]))}const R=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(N){}function T(e,t){return p({basename:void 0,future:g({},void 0,{v7_prependBasename:!0}),history:w({window:void 0}),hydrationData:b(),routes:e,mapRouteProperties:v,dataStrategy:void 0,patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function b(){var e;let t=null==(e=window)?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=g({},t,{errors:L(t.errors)})),t}function L(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,a]of t)if(a&&"RouteErrorResponse"===a.__type)n[r]=new y(a.status,a.statusText,a.data,!0===a.internal);else if(a&&"Error"===a.__type){if(a.__subType){let e=window[a.__subType];if("function"==typeof e)try{let t=new e(a.message);t.stack="",n[r]=t}catch(N){}}if(null==n[r]){let e=new Error(a.message);e.stack="",n[r]=e}}else n[r]=a;return n}const E=e.createContext({isTransitioning:!1}),_=e.createContext(new Map),k=t.startTransition,x=n.flushSync;function P(e){x?x(e):e()}class j{constructor(){this.status="pending",this.promise=new Promise(((e,t)=>{this.resolve=t=>{"pending"===this.status&&(this.status="resolved",e(t))},this.reject=e=>{"pending"===this.status&&(this.status="rejected",t(e))}}))}}function U(t){let{fallbackElement:n,router:r,future:a}=t,[i,o]=e.useState(r.state),[f,d]=e.useState(),[v,p]=e.useState({isTransitioning:!1}),[w,h]=e.useState(),[m,y]=e.useState(),[g,S]=e.useState(),R=e.useRef(new Map),{v7_startTransition:T}=a||{},b=e.useCallback((e=>{T?function(e){k?k(e):e()}(e):e()}),[T]),L=e.useCallback(((e,t)=>{let{deletedFetchers:n,flushSync:a,viewTransitionOpts:i}=t;e.fetchers.forEach(((e,t)=>{void 0!==e.data&&R.current.set(t,e.data)})),n.forEach((e=>R.current.delete(e)));let s=null==r.window||null==r.window.document||"function"!=typeof r.window.document.startViewTransition;if(i&&!s){if(a){P((()=>{m&&(w&&w.resolve(),m.skipTransition()),p({isTransitioning:!0,flushSync:!0,currentLocation:i.currentLocation,nextLocation:i.nextLocation})}));let t=r.window.document.startViewTransition((()=>{P((()=>o(e)))}));return t.finished.finally((()=>{P((()=>{h(void 0),y(void 0),d(void 0),p({isTransitioning:!1})}))})),void P((()=>y(t)))}m?(w&&w.resolve(),m.skipTransition(),S({state:e,currentLocation:i.currentLocation,nextLocation:i.nextLocation})):(d(e),p({isTransitioning:!0,flushSync:!1,currentLocation:i.currentLocation,nextLocation:i.nextLocation}))}else a?P((()=>o(e))):b((()=>o(e)))}),[r.window,m,w,R,b]);e.useLayoutEffect((()=>r.subscribe(L)),[r,L]),e.useEffect((()=>{v.isTransitioning&&!v.flushSync&&h(new j)}),[v]),e.useEffect((()=>{if(w&&f&&r.window){let e=f,t=w.promise,n=r.window.document.startViewTransition((async()=>{b((()=>o(e))),await t}));n.finished.finally((()=>{h(void 0),y(void 0),d(void 0),p({isTransitioning:!1})})),y(n)}}),[b,f,w,r.window]),e.useEffect((()=>{w&&f&&i.location.key===f.location.key&&w.resolve()}),[w,m,i.location,f]),e.useEffect((()=>{!v.isTransitioning&&g&&(d(g.state),p({isTransitioning:!0,flushSync:!1,currentLocation:g.currentLocation,nextLocation:g.nextLocation}),S(void 0))}),[v.isTransitioning,g]),e.useEffect((()=>{}),[]);let x=e.useMemo((()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:e=>r.navigate(e),push:(e,t,n)=>r.navigate(e,{state:t,preventScrollReset:null==n?void 0:n.preventScrollReset}),replace:(e,t,n)=>r.navigate(e,{replace:!0,state:t,preventScrollReset:null==n?void 0:n.preventScrollReset})})),[r]),U=r.basename||"/",F=e.useMemo((()=>({router:r,navigator:x,static:!1,basename:U})),[r,x,U]),O=e.useMemo((()=>({v7_relativeSplatPath:r.future.v7_relativeSplatPath})),[r.future.v7_relativeSplatPath]);return e.useEffect((()=>s(a,r.future)),[a,r.future]),e.createElement(e.Fragment,null,e.createElement(c.Provider,{value:F},e.createElement(u.Provider,{value:i},e.createElement(_.Provider,{value:R.current},e.createElement(E.Provider,{value:v},e.createElement(l,{basename:U,location:i.location,navigationType:i.historyAction,navigator:x,future:O},i.initialized||r.future.v7_partialHydration?e.createElement(C,{routes:r.routes,future:r.future,state:i}):n))))),null)}const C=e.memo(F);function F(e){let{routes:t,future:n,state:r}=e;return d(t,void 0,r,n)}const O="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,A=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,D=e.forwardRef((function(t,n){let s,{onClick:c,relative:u,reloadDocument:l,replace:d,state:v,target:p,to:w,preventScrollReset:y,viewTransition:S}=t,T=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(t,R),{basename:b}=e.useContext(r),L=!1;if("string"==typeof w&&A.test(w)&&(s=w,O))try{let e=new URL(window.location.href),t=w.startsWith("//")?new URL(e.protocol+w):new URL(w),n=h(t.pathname,b);t.origin===e.origin&&null!=n?w=n+t.search+t.hash:L=!0}catch(N){}let E=a(w,{relative:u}),_=function(t,n){let{target:r,replace:a,state:s,preventScrollReset:c,relative:u,viewTransition:l}=void 0===n?{}:n,d=o(),v=i(),p=f(t,{relative:u});return e.useCallback((e=>{if(function(e,t){return!(0!==e.button||t&&"_self"!==t||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e))}(e,r)){e.preventDefault();let n=void 0!==a?a:m(v)===m(p);d(t,{replace:n,state:s,preventScrollReset:c,relative:u,viewTransition:l})}}),[v,d,p,a,s,r,t,c,u,l])}(w,{replace:d,state:v,target:p,preventScrollReset:y,relative:u,viewTransition:S});return e.createElement("a",g({},T,{href:s||E,onClick:L||l?c:function(e){c&&c(e),e.defaultPrevented||_(e)},ref:n,target:p}))}));var M,V,z,H;function K(t){let n=e.useRef(S(t)),r=e.useRef(!1),a=i(),s=e.useMemo((()=>function(e,t){let n=S(e);return t&&t.forEach(((e,r)=>{n.has(r)||t.getAll(r).forEach((e=>{n.append(r,e)}))})),n}(a.search,r.current?null:n.current)),[a.search]),c=o(),u=e.useCallback(((e,t)=>{const n=S("function"==typeof e?e(s):e);r.current=!0,c("?"+n,t)}),[c,s]);return[s,u]}(V=M||(M={})).UseScrollRestoration="useScrollRestoration",V.UseSubmit="useSubmit",V.UseSubmitFetcher="useSubmitFetcher",V.UseFetcher="useFetcher",V.useViewTransitionState="useViewTransitionState",(H=z||(z={})).UseFetcher="useFetcher",H.UseFetchers="useFetchers",H.UseScrollRestoration="useScrollRestoration";export{D as L,U as R,T as c,K as u};
