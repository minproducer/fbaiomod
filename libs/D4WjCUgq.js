import{r as t,a as e}from"./BqUCZHEx.js";import{r}from"./wC0AGGH2.js";import{m as n}from"./l8gDnGEN.js";import"./Co2HKlK5.js";import"./sei_8-d4.js";import"./D1uS_Pz3.js";import"./B5-6tKAF.js";var i="__react_svg_text_measurement_id";const o=n((function(t,e){try{var r=document.getElementById(i);if(!r){var n=document.createElementNS("http://www.w3.org/2000/svg","svg");n.setAttribute("aria-hidden","true"),n.style.width="0",n.style.height="0",n.style.position="absolute",n.style.top="-100%",n.style.left="-100%",(r=document.createElementNS("http://www.w3.org/2000/svg","text")).setAttribute("id",i),n.appendChild(r),document.body.appendChild(n)}return Object.assign(r.style,e),r.textContent=t,r.getComputedTextLength()}catch(o){return null}}),(function(t,e){return t+"_"+JSON.stringify(e)}));var s=["verticalAnchor","scaleToFit","angle","width","lineHeight","capHeight","children","style"];function a(t){return"number"==typeof t}function l(t){return"number"==typeof t&&Number.isFinite(t)||"string"==typeof t}function d(e){var n=e.verticalAnchor,i=void 0===n?"end":n,d=e.scaleToFit,u=void 0!==d&&d,c=e.angle,h=e.width,f=e.lineHeight,g=void 0===f?"1em":f,m=e.capHeight,v=void 0===m?"0.71em":m,p=e.children,w=e.style,y=function(t,e){if(null==t)return{};var r,n,i={},o=Object.keys(t);for(n=0;n<o.length;n++)r=o[n],e.indexOf(r)>=0||(i[r]=t[r]);return i}(e,s),x=y.x,b=void 0===x?0:x,j=y.y,A=void 0===j?0:j,O=!l(b)||!l(A),W=t.useMemo((function(){return{wordsWithWidth:(null==p?[]:p.toString().split(/(?:(?!\u00A0+)\s+)/)).map((function(t){return{word:t,wordWidth:o(t,w)||0}})),spaceWidth:o("Â ",w)||0}}),[p,w]),H=W.wordsWithWidth,S=W.spaceWidth,T=t.useMemo((function(){return O?[]:h||u?H.reduce((function(t,e){var r=e.word,n=e.wordWidth,i=t[t.length-1];if(i&&(null==h||u||(i.width||0)+n+S<h))i.words.push(r),i.width=i.width||0,i.width+=n+S;else{var o={words:[r],width:n};t.push(o)}return t}),[]):[{words:null==p?[]:p.toString().split(/(?:(?!\u00A0+)\s+)/)}]}),[O,h,u,p,H,S]),_=t.useMemo((function(){return O?"":r("start"===i?"calc("+v+")":"middle"===i?"calc("+(T.length-1)/2+" * -"+g+" + ("+v+" / 2))":"calc("+(T.length-1)+" * -"+g+")")}),[O,i,v,T.length,g]),E=t.useMemo((function(){var t=[];if(O)return"";if(a(b)&&a(A)&&a(h)&&u&&T.length>0){var e=T[0].width||1,r="shrink-only"===u?Math.min(h/e,1):h/e,n=r,i=b-r*b,o=A-n*A;t.push("matrix("+r+", 0, 0, "+n+", "+i+", "+o+")")}return c&&t.push("rotate("+c+", "+b+", "+A+")"),t.length>0?t.join(" "):""}),[O,b,A,h,u,T,c]);return{wordsByLines:T,startDy:_,transform:E}}var u=["dx","dy","textAnchor","innerRef","innerTextRef","verticalAnchor","angle","lineHeight","scaleToFit","capHeight","width"];function c(){return c=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},c.apply(this,arguments)}var h={overflow:"visible"};function f(t){var r=t.dx,n=void 0===r?0:r,i=t.dy,o=void 0===i?0:i,s=t.textAnchor,a=void 0===s?"start":s,l=t.innerRef,f=t.innerTextRef;t.verticalAnchor,t.angle;var g=t.lineHeight,m=void 0===g?"1em":g;t.scaleToFit,t.capHeight,t.width;var v=function(t,e){if(null==t)return{};var r,n,i={},o=Object.keys(t);for(n=0;n<o.length;n++)r=o[n],e.indexOf(r)>=0||(i[r]=t[r]);return i}(t,u),p=v.x,w=void 0===p?0:p,y=v.fontSize,x=d(t),b=x.wordsByLines,j=x.startDy,A=x.transform;return e.createElement("svg",{ref:l,x:n,y:o,fontSize:y,style:h},b.length>0?e.createElement("text",c({ref:f,transform:A},v,{textAnchor:a}),b.map((function(t,r){return e.createElement("tspan",{key:r,x:w,dy:0===r?j:m},t.words.join(" "))}))):null)}export{f as Text,o as getStringWidth,d as useText};
