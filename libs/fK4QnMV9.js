import{k as e,g as n,e as t,c as r}from"./Co2HKlK5.js";import{r as i,a}from"./BqUCZHEx.js";import{c as o}from"./D61fuREp.js";import{R as s}from"./BIU5KoPJ.js";import{q as l,d as u,u as c}from"./CWL1kuGj.js";import{r as f}from"./DhsIdmQp.js";var m=["prefixCls","invalidate","item","renderItem","responsive","responsiveDisabled","registerSize","itemKey","className","style","children","display","order","component"],d=void 0;function v(r,a){var l=r.prefixCls,u=r.invalidate,c=r.item,f=r.renderItem,v=r.responsive,p=r.responsiveDisabled,y=r.registerSize,h=r.itemKey,E=r.className,g=r.style,N=r.children,b=r.display,R=r.order,C=r.component,I=void 0===C?"div":C,x=e(r,m),w=v&&!b;function S(e){y(h,e)}i.useEffect((function(){return function(){S(null)}}),[]);var M,k=f&&c!==d?f(c,{index:R}):N;u||(M={opacity:w?0:1,height:w?0:d,overflowY:w?"hidden":d,order:v?R:d,pointerEvents:w?"none":d,position:w?"absolute":d});var z={};w&&(z["aria-hidden"]=!0);var j=i.createElement(I,n({className:o(!u&&l,E),style:t(t({},M),g)},z,x,{ref:a}),k);return v&&(j=i.createElement(s,{onResize:function(e){S(e.offsetWidth)},disabled:p},j)),j}var p=i.forwardRef(v);function y(){var e=i.useRef(null);return function(n){e.current||(e.current=[],function(e){if("undefined"==typeof MessageChannel)l(e);else{var n=new MessageChannel;n.port1.onmessage=function(){return e()},n.port2.postMessage(void 0)}}((function(){f.unstable_batchedUpdates((function(){e.current.forEach((function(e){e()})),e.current=null}))}))),e.current.push(n)}}function h(e,n){var t=i.useState(n),a=r(t,2),o=a[0],s=a[1];return[o,u((function(n){e((function(){s(n)}))}))]}p.displayName="Item";var E=a.createContext(null),g=["component"],N=["className"],b=["className"],R=function(t,r){var a=i.useContext(E);if(!a){var s=t.component,l=void 0===s?"div":s,u=e(t,g);return i.createElement(l,n({},u,{ref:r}))}var c=a.className,f=e(a,N),m=t.className,d=e(t,b);return i.createElement(E.Provider,{value:null},i.createElement(p,n({ref:r,className:o(c,m)},f,d)))},C=i.forwardRef(R);C.displayName="RawItem";var I=["prefixCls","data","renderItem","renderRawItem","itemKey","itemWidth","ssr","style","className","maxCount","renderRest","renderRawRest","suffix","component","itemComponent","onVisibleChange"],x="responsive",w="invalidate";function S(e){return"+ ".concat(e.length," ...")}function M(a,l){var u=a.prefixCls,f=void 0===u?"rc-overflow":u,m=a.data,d=void 0===m?[]:m,v=a.renderItem,g=a.renderRawItem,N=a.itemKey,b=a.itemWidth,R=void 0===b?10:b,C=a.ssr,M=a.style,k=a.className,z=a.maxCount,j=a.renderRest,A=a.renderRawRest,K=a.suffix,_=a.component,D=void 0===_?"div":_,P=a.itemComponent,V=a.onVisibleChange,W=e(a,I),F="full"===C,T=y(),G=h(T,null),O=r(G,2),X=O[0],q=O[1],L=X||0,U=h(T,new Map),Y=r(U,2),B=Y[0],H=Y[1],J=h(T,0),Q=r(J,2),Z=Q[0],$=Q[1],ee=h(T,0),ne=r(ee,2),te=ne[0],re=ne[1],ie=h(T,0),ae=r(ie,2),oe=ae[0],se=ae[1],le=i.useState(null),ue=r(le,2),ce=ue[0],fe=ue[1],me=i.useState(null),de=r(me,2),ve=de[0],pe=de[1],ye=i.useMemo((function(){return null===ve&&F?Number.MAX_SAFE_INTEGER:ve||0}),[ve,X]),he=i.useState(!1),Ee=r(he,2),ge=Ee[0],Ne=Ee[1],be="".concat(f,"-item"),Re=Math.max(Z,te),Ce=z===x,Ie=d.length&&Ce,xe=z===w,we=Ie||"number"==typeof z&&d.length>z,Se=i.useMemo((function(){var e=d;return Ie?e=null===X&&F?d:d.slice(0,Math.min(d.length,L/R)):"number"==typeof z&&(e=d.slice(0,z)),e}),[d,R,X,z,Ie]),Me=i.useMemo((function(){return Ie?d.slice(ye+1):d.slice(Se.length)}),[d,Se,Ie,ye]),ke=i.useCallback((function(e,n){var t;return"function"==typeof N?N(e):null!==(t=N&&(null==e?void 0:e[N]))&&void 0!==t?t:n}),[N]),ze=i.useCallback(v||function(e){return e},[v]);function je(e,n,t){(ve!==e||void 0!==n&&n!==ce)&&(pe(e),t||(Ne(e<d.length-1),null==V||V(e)),void 0!==n&&fe(n))}function Ae(e,n){H((function(t){var r=new Map(t);return null===n?r.delete(e):r.set(e,n),r}))}function Ke(e){return B.get(ke(Se[e],e))}c((function(){if(L&&"number"==typeof Re&&Se){var e=oe,n=Se.length,t=n-1;if(!n)return void je(0,null);for(var r=0;r<n;r+=1){var i=Ke(r);if(F&&(i=i||0),void 0===i){je(r-1,void 0,!0);break}if(e+=i,0===t&&e<=L||r===t-1&&e+Ke(t)<=L){je(t,null);break}if(e+Re>L){je(r-1,e-i-oe+te);break}}K&&Ke(0)+oe>L&&fe(null)}}),[L,B,te,oe,ke,Se]);var _e=ge&&!!Me.length,De={};null!==ce&&Ie&&(De={position:"absolute",left:ce,top:0});var Pe={prefixCls:be,responsive:Ie,component:P,invalidate:xe},Ve=g?function(e,n){var r=ke(e,n);return i.createElement(E.Provider,{key:r,value:t(t({},Pe),{},{order:n,item:e,itemKey:r,registerSize:Ae,display:n<=ye})},g(e,n))}:function(e,t){var r=ke(e,t);return i.createElement(p,n({},Pe,{order:t,key:r,item:e,renderItem:ze,itemKey:r,registerSize:Ae,display:t<=ye}))},We={order:_e?ye:Number.MAX_SAFE_INTEGER,className:"".concat(be,"-rest"),registerSize:function(e,n){re(n),$(te)},display:_e},Fe=j||S,Te=A?i.createElement(E.Provider,{value:t(t({},Pe),We)},A(Me)):i.createElement(p,n({},Pe,We),"function"==typeof Fe?Fe(Me):Fe),Ge=i.createElement(D,n({className:o(!xe&&f,k),style:M,ref:l},W),Se.map(Ve),we?Te:null,K&&i.createElement(p,n({},Pe,{responsive:Ce,responsiveDisabled:!Ie,order:ye,className:"".concat(be,"-suffix"),registerSize:function(e,n){se(n)},display:!0,style:De}),K));return Ce?i.createElement(s,{onResize:function(e,n){q(n.clientWidth)},disabled:!Ie},Ge):Ge}var k=i.forwardRef(M);k.displayName="Overflow",k.Item=C,k.RESPONSIVE=x,k.INVALIDATE=w;export{k as F};
