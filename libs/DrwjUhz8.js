const t={direction:"forward",speed:2,startDelay:1e3,active:!0,breakpoints:{},playOnInit:!0,stopOnFocusIn:!0,stopOnInteraction:!0,stopOnMouseEnter:!1,rootNode:null};function n(o={}){let e,i,r,s,c,a=0,u=!1,l=!1;function f(){if(r)return;if(u)return;i.emit("autoScroll:play");const t=i.internalEngine(),{ownerWindow:n}=t;a=n.setTimeout((()=>{t.scrollBody=function(t){const{location:n,previousLocation:o,offsetLocation:r,target:s,scrollTarget:c,index:a,indexPrevious:u,limit:{reachedMin:l,reachedMax:f,constrain:p},options:{loop:g}}=t,O="forward"===e.direction?-1:1,y=()=>F;let m=0,w=0,I=n.get(),v=0,D=!1;function E(){let t=0;o.set(n),m=O*e.speed,I+=m,n.add(m),s.set(n),t=I-v,w=Math.sign(t),v=I;const y=c.byDistance(0,!1).index;a.get()!==y&&(u.set(a.get()),a.set(y),i.emit("select"));const E="forward"===e.direction?l(r.get()):f(r.get());if(!g&&E){D=!0;const t=p(n.get());n.set(t),s.set(n),d()}return F}const F={direction:()=>w,duration:()=>-1,velocity:()=>m,settled:()=>D,seek:E,useBaseFriction:y,useBaseDuration:y,useFriction:y,useDuration:y};return F}(t),t.animation.start()}),s),u=!0}function d(){if(r)return;if(!u)return;i.emit("autoScroll:stop");const t=i.internalEngine(),{ownerWindow:n}=t;t.scrollBody=c,n.clearTimeout(a),a=0,u=!1}function p(){l||d()}function g(){l||w()}function O(){l=!0,d()}function y(){l=!1,f()}function m(){i.off("settle",m),f()}function w(){i.on("settle",m)}return{name:"autoScroll",options:o,init:function(a,u){i=a;const{mergeOptions:l,optionsAtMedia:m}=u,w=l(t,n.globalOptions),I=l(w,o);if(e=m(I),i.scrollSnapList().length<=1)return;s=e.startDelay,r=!1,c=i.internalEngine().scrollBody;const{eventStore:v}=i.internalEngine(),D=!!i.internalEngine().options.watchDrag,E=function(t,n){const o=t.rootNode();return n&&n(o)||o}(i,e.rootNode);D&&i.on("pointerDown",p),D&&!e.stopOnInteraction&&i.on("pointerUp",g),e.stopOnMouseEnter&&v.add(E,"mouseenter",O),e.stopOnMouseEnter&&!e.stopOnInteraction&&v.add(E,"mouseleave",y),e.stopOnFocusIn&&i.on("slideFocusStart",d),e.stopOnFocusIn&&!e.stopOnInteraction&&v.add(i.containerNode(),"focusout",f),e.playOnInit&&f()},destroy:function(){i.off("pointerDown",p).off("pointerUp",g).off("slideFocusStart",d).off("settle",m),d(),r=!0,u=!1},play:function(t){void 0!==t&&(s=t),f()},stop:function(){u&&d()},reset:function(){u&&(d(),w())},isPlaying:function(){return u}}}n.globalOptions=void 0;export{n as A};
