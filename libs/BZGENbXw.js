import{g as n,j as t,f as r}from"./tGqEq4tZ.js";import{b as e,t as o}from"./Dp8Orpqo.js";import{f as u,a as i}from"./DLIMCz4Q.js";function a(n,t){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(t).domain(n)}return this}function c(n){return+n}var l=[0,1];function f(n){return n}function h(n,t){return(t-=n=+n)?function(r){return(r-n)/t}:(r=isNaN(t)?NaN:.5,function(){return r});var r}function s(n,t,r){var e=n[0],o=n[1],u=t[0],i=t[1];return o<e?(e=h(o,e),u=r(i,u)):(e=h(e,o),u=r(u,i)),function(n){return u(e(n))}}function g(n,t,r){var o=Math.min(n.length,t.length)-1,u=new Array(o),i=new Array(o),a=-1;for(n[o]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++a<o;)u[a]=h(n[a],n[a+1]),i[a]=r(t[a],t[a+1]);return function(t){var r=e(n,t,1,o)-1;return i[r](u[r](t))}}function m(){var e,o,u,i,a,h,m=l,p=l,M=t,v=f;function d(){var n,t,r,e=Math.min(m.length,p.length);return v!==f&&(n=m[0],t=m[e-1],n>t&&(r=n,n=t,t=r),v=function(r){return Math.max(n,Math.min(t,r))}),i=e>2?g:s,a=h=null,k}function k(n){return null==n||isNaN(n=+n)?u:(a||(a=i(m.map(e),p,M)))(e(v(n)))}return k.invert=function(t){return v(o((h||(h=i(p,m.map(e),n)))(t)))},k.domain=function(n){return arguments.length?(m=Array.from(n,c),d()):m.slice()},k.range=function(n){return arguments.length?(p=Array.from(n),d()):p.slice()},k.rangeRound=function(n){return p=Array.from(n),M=r,d()},k.clamp=function(n){return arguments.length?(v=!!n||f,d()):v!==f},k.interpolate=function(n){return arguments.length?(M=n,d()):M},k.unknown=function(n){return arguments.length?(u=n,k):u},function(n,t){return e=n,o=t,d()}}function p(n){return Math.log(n)}function M(n){return Math.exp(n)}function v(n){return-Math.log(-n)}function d(n){return-Math.exp(-n)}function k(n){return isFinite(n)?+("1e"+n):n<0?0:n}function b(n){return(t,r)=>-n(-t,r)}function y(n){const t=n(p,M),r=t.domain;let e,a,c=10;function l(){return e=function(n){return n===Math.E?Math.log:10===n&&Math.log10||2===n&&Math.log2||(n=Math.log(n),t=>Math.log(t)/n)}(c),a=function(n){return 10===n?k:n===Math.E?Math.exp:t=>Math.pow(n,t)}(c),r()[0]<0?(e=b(e),a=b(a),n(v,d)):n(p,M),t}return t.base=function(n){return arguments.length?(c=+n,l()):c},t.domain=function(n){return arguments.length?(r(n),l()):r()},t.ticks=n=>{const t=r();let u=t[0],i=t[t.length-1];const l=i<u;l&&([u,i]=[i,u]);let f,h,s=e(u),g=e(i);const m=null==n?10:+n;let p=[];if(!(c%1)&&g-s<m){if(s=Math.floor(s),g=Math.ceil(g),u>0){for(;s<=g;++s)for(f=1;f<c;++f)if(h=s<0?f/a(-s):f*a(s),!(h<u)){if(h>i)break;p.push(h)}}else for(;s<=g;++s)for(f=c-1;f>=1;--f)if(h=s>0?f/a(-s):f*a(s),!(h<u)){if(h>i)break;p.push(h)}2*p.length<m&&(p=o(u,i,m))}else p=o(s,g,Math.min(g-s,m)).map(a);return l?p.reverse():p},t.tickFormat=(n,r)=>{if(null==n&&(n=10),null==r&&(r=10===c?"s":","),"function"!=typeof r&&(c%1||null!=(r=u(r)).precision||(r.trim=!0),r=i(r)),n===1/0)return r;const o=Math.max(1,c*n/t.ticks().length);return n=>{let t=n/a(Math.round(e(n)));return t*c<c-.5&&(t*=c),t<=o?r(n):""}},t.nice=()=>r(function(n,t){var r,e=0,o=(n=n.slice()).length-1,u=n[e],i=n[o];return i<u&&(r=e,e=o,o=r,r=u,u=i,i=r),n[e]=t.floor(u),n[o]=t.ceil(i),n}(r(),{floor:n=>a(Math.floor(e(n))),ceil:n=>a(Math.ceil(e(n)))})),t}function w(){const n=y(m()).domain([1,10]);return n.copy=()=>{return(t=n,r=w(),r.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())).base(n.base());var t,r},a.apply(n,arguments),n}export{w as l};
