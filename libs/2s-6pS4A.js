import{c as n,f as t}from"./Co2HKlK5.js";import{r as e}from"./BqUCZHEx.js";import{r}from"./DhsIdmQp.js";import{c as o,u,f as c,a,r as i,s as f,h as l}from"./CWL1kuGj.js";var d=e.createContext(null),s=[];var m="rc-util-locker-".concat(Date.now()),v=0;function h(t){var r=!!t,o=e.useState((function(){return v+=1,"".concat(m,"_").concat(v)})),f=n(o,1)[0];u((function(){if(r){var n=c(document.body).width,t=document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth;a("\nhtml body {\n  overflow-y: hidden;\n  ".concat(t?"width: calc(100% - ".concat(n,"px);"):"","\n}"),f)}else i(f);return function(){i(f)}}),[r,f])}var p=function(n){return!1!==n&&(o()&&n?"string"==typeof n?document.querySelector(n):"function"==typeof n?n():n:null)},y=e.forwardRef((function(c,a){var i=c.open,m=c.autoLock,v=c.getContainer;c.debug;var y=c.autoDestroy,w=void 0===y||y,E=c.children,b=e.useState(i),g=n(b,2),C=g[0],S=g[1],j=C||i;e.useEffect((function(){(w||i)&&S(i)}),[i,w]);var x=e.useState((function(){return p(v)})),H=n(x,2),P=H[0],k=H[1];e.useEffect((function(){var n=p(v);k(null!=n?n:null)}));var D=function(r){var c=e.useState((function(){return o()?document.createElement("div"):null})),a=n(c,1)[0],i=e.useRef(!1),f=e.useContext(d),l=e.useState(s),m=n(l,2),v=m[0],h=m[1],p=f||(i.current?void 0:function(n){h((function(e){return[n].concat(t(e))}))});function y(){a.parentElement||document.body.appendChild(a),i.current=!0}function w(){var n;null===(n=a.parentElement)||void 0===n||n.removeChild(a),i.current=!1}return u((function(){return r?f?f(y):y():w(),w}),[r]),u((function(){v.length&&(v.forEach((function(n){return n()})),h(s))}),[v]),[a,p]}(j&&!P),R=n(D,2),W=R[0],q=R[1],L=null!=P?P:W;h(m&&i&&o()&&(L===W||L===document.body));var _=null;E&&f(E)&&a&&(_=E.ref);var z=l(_,a);if(!j||!o()||void 0===P)return null;var A=!1===L||!1,B=E;return a&&(B=e.cloneElement(E,{ref:z})),e.createElement(d.Provider,{value:q},A?B:r.createPortal(B,L))}));export{y as P};
