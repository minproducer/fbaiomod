import{c as t,e,k as n,g as o,b as a,d as i}from"./Co2HKlK5.js";import{c as l}from"./D61fuREp.js";import{u as r,j as u,e as c,B as s}from"./CWL1kuGj.js";import{r as d}from"./BqUCZHEx.js";import{C as m}from"./SEPaX3IY.js";var v=function(t,e){if(!t)return null;var n={left:t.offsetLeft,right:t.parentElement.clientWidth-t.clientWidth-t.offsetLeft,width:t.clientWidth,top:t.offsetTop,bottom:t.parentElement.clientHeight-t.clientHeight-t.offsetTop,height:t.clientHeight};return e?{left:0,right:0,width:0,top:n.top,bottom:n.bottom,height:n.height}:{left:n.left,right:n.right,width:n.width,top:0,bottom:0,height:0}},f=function(t){return void 0!==t?"".concat(t,"px"):void 0};function h(n){var o=n.prefixCls,a=n.containerRef,i=n.value,c=n.getValueIndex,s=n.motionName,h=n.onMotionStart,p=n.onMotionEnd,b=n.direction,g=n.vertical,w=void 0!==g&&g,N=d.useRef(null),x=d.useState(i),y=t(x,2),C=y[0],E=y[1],S=function(t){var e,n=c(t),i=null===(e=a.current)||void 0===e?void 0:e.querySelectorAll(".".concat(o,"-item"))[n];return(null==i?void 0:i.offsetParent)&&i},M=d.useState(null),A=t(M,2),j=A[0],k=A[1],D=d.useState(null),K=t(D,2),R=K[0],V=K[1];r((function(){if(C!==i){var t=S(C),e=S(i),n=v(t,w),o=v(e,w);E(i),k(n),V(o),t&&e?h():p()}}),[i]);var I=d.useMemo((function(){var t;return f(w?null!==(t=null==j?void 0:j.top)&&void 0!==t?t:0:"rtl"===b?-(null==j?void 0:j.right):null==j?void 0:j.left)}),[w,b,j]),B=d.useMemo((function(){var t;return f(w?null!==(t=null==R?void 0:R.top)&&void 0!==t?t:0:"rtl"===b?-(null==R?void 0:R.right):null==R?void 0:R.left)}),[w,b,R]);return j&&R?d.createElement(m,{visible:!0,motionName:s,motionAppear:!0,onAppearStart:function(){return w?{transform:"translateY(var(--thumb-start-top))",height:"var(--thumb-start-height)"}:{transform:"translateX(var(--thumb-start-left))",width:"var(--thumb-start-width)"}},onAppearActive:function(){return w?{transform:"translateY(var(--thumb-active-top))",height:"var(--thumb-active-height)"}:{transform:"translateX(var(--thumb-active-left))",width:"var(--thumb-active-width)"}},onVisibleChanged:function(){k(null),V(null),p()}},(function(t,n){var a=t.className,i=t.style,r=e(e({},i),{},{"--thumb-start-left":I,"--thumb-start-width":f(null==j?void 0:j.width),"--thumb-active-left":B,"--thumb-active-width":f(null==R?void 0:R.width),"--thumb-start-top":I,"--thumb-start-height":f(null==j?void 0:j.height),"--thumb-active-top":B,"--thumb-active-height":f(null==R?void 0:R.height)}),c={ref:u(N,n),style:r,className:l("".concat(o,"-thumb"),a)};return d.createElement("div",c)})):null}var p=["prefixCls","direction","vertical","options","disabled","defaultValue","value","name","onChange","className","motionName"];function b(t){return t.map((function(t){if("object"===i(t)&&null!==t){var n=function(t){return void 0!==t.title?t.title:"object"!==i(t.label)?null===(e=t.label)||void 0===e?void 0:e.toString():void 0;var e}(t);return e(e({},t),{},{title:n})}return{label:null==t?void 0:t.toString(),title:null==t?void 0:t.toString(),value:t}}))}var g=function(t){var e=t.prefixCls,n=t.className,o=t.disabled,i=t.checked,r=t.label,u=t.title,c=t.value,s=t.name,m=t.onChange,v=t.onFocus,f=t.onBlur,h=t.onKeyDown,p=t.onKeyUp,b=t.onMouseDown;return d.createElement("label",{className:l(n,a({},"".concat(e,"-item-disabled"),o)),onMouseDown:b},d.createElement("input",{name:s,className:"".concat(e,"-item-input"),type:"radio",disabled:o,checked:i,onChange:function(t){o||m(t,c)},onFocus:v,onBlur:f,onKeyDown:h,onKeyUp:p}),d.createElement("div",{className:"".concat(e,"-item-label"),title:u,"aria-selected":i},r))},w=d.forwardRef((function(e,i){var r,m,v=e.prefixCls,f=void 0===v?"rc-segmented":v,w=e.direction,N=e.vertical,x=e.options,y=void 0===x?[]:x,C=e.disabled,E=e.defaultValue,S=e.value,M=e.name,A=e.onChange,j=e.className,k=void 0===j?"":j,D=e.motionName,K=void 0===D?"thumb-motion":D,R=n(e,p),V=d.useRef(null),I=d.useMemo((function(){return u(V,i)}),[V,i]),B=d.useMemo((function(){return b(y)}),[y]),T=c(null===(r=B[0])||void 0===r?void 0:r.value,{value:S,defaultValue:E}),U=t(T,2),F=U[0],H=U[1],L=d.useState(!1),W=t(L,2),X=W[0],Y=W[1],q=function(t,e){H(e),null==A||A(e)},J=s(R,["children"]),P=d.useState(!1),z=t(P,2),G=z[0],O=z[1],Q=d.useState(!1),Z=t(Q,2),$=Z[0],_=Z[1],tt=function(){_(!0)},et=function(){_(!1)},nt=function(){O(!1)},ot=function(t){"Tab"===t.key&&O(!0)},at=function(t){var e=B.findIndex((function(t){return t.value===F})),n=B.length,o=B[(e+t+n)%n];o&&(H(o.value),null==A||A(o.value))},it=function(t){switch(t.key){case"ArrowLeft":case"ArrowUp":at(-1);break;case"ArrowRight":case"ArrowDown":at(1)}};return d.createElement("div",o({role:"radiogroup","aria-label":"segmented control",tabIndex:C?void 0:0},J,{className:l(f,(m={},a(m,"".concat(f,"-rtl"),"rtl"===w),a(m,"".concat(f,"-disabled"),C),a(m,"".concat(f,"-vertical"),N),m),k),ref:I}),d.createElement("div",{className:"".concat(f,"-group")},d.createElement(h,{vertical:N,prefixCls:f,value:F,containerRef:V,motionName:"".concat(f,"-").concat(K),direction:w,getValueIndex:function(t){return B.findIndex((function(e){return e.value===t}))},onMotionStart:function(){Y(!0)},onMotionEnd:function(){Y(!1)}}),B.map((function(t){var e;return d.createElement(g,o({},t,{name:M,key:t.value,prefixCls:f,className:l(t.className,"".concat(f,"-item"),(e={},a(e,"".concat(f,"-item-selected"),t.value===F&&!X),a(e,"".concat(f,"-item-focused"),$&&G&&t.value===F),e)),checked:t.value===F,onChange:q,onFocus:tt,onBlur:et,onKeyDown:it,onKeyUp:ot,onMouseDown:nt,disabled:!!C||!!t.disabled}))}))))}));export{w as T};
