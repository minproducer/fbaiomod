import{F as t,E as e,a as n}from"./45Fec78L.js";import{p as o}from"./BSGZz8QH.js";import{U as r}from"./DLJglTM3.js";import"./Co2HKlK5.js";
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function a(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s=function(){return s=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},s.apply(this,arguments)};function u(t,e,n,o){return new(n||(n=Promise))((function(e,r){function i(t){try{s(o.next(t))}catch(e){r(e)}}function a(t){try{s(o.throw(t))}catch(e){r(e)}}function s(t){var o;t.done?e(t.value):(o=t.value,o instanceof n?o:new n((function(t){t(o)}))).then(i,a)}s((o=o.apply(t,[])).next())}))}function c(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function h(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var o=Array(t),r=0;for(e=0;e<n;e++)for(var i=arguments[e],a=0,s=i.length;a<s;a++,r++)o[r]=i[a];return o}for(var l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f=new Uint8Array(256),d=0;d<64;d++)f[l.charCodeAt(d)]=d;var p,g,y=function(t){for(var e="",n=t.length,o=0;o<n;o+=3)e+=l[t[o]>>2],e+=l[(3&t[o])<<4|t[o+1]>>4],e+=l[(15&t[o+1])<<2|t[o+2]>>6],e+=l[63&t[o+2]];return n%3==2?e=e.substring(0,e.length-1)+"=":n%3==1&&(e=e.substring(0,e.length-2)+"=="),e},v=function(t){var e,n,o,r,i,a=.75*t.length,s=t.length,u=0;"="===t[t.length-1]&&(a--,"="===t[t.length-2]&&a--);var c=new Uint8Array(a);for(e=0;e<s;e+=4)n=f[t.charCodeAt(e)],o=f[t.charCodeAt(e+1)],r=f[t.charCodeAt(e+2)],i=f[t.charCodeAt(e+3)],c[u++]=n<<2|o>>4,c[u++]=(15&o)<<4|r>>2,c[u++]=(3&r)<<6|63&i;return c},b=/^(data)?:?([\w\/\+]+)?;?(charset=[\w-]+|base64)?.*,/i,m=function(t){var e=t.trim(),n=e.substring(0,100).match(b);if(!n)return v(e);var o=n[0],r=e.substring(o.length);return v(r)},w=function(t){return t.charCodeAt(0)},x=function(t){return t.codePointAt(0)},C=function(t,e){return k(t.toString(16),e,"0").toUpperCase()},S=function(t){return C(t,2)},F=function(t){return String.fromCharCode(t)},A=function(t){return F(parseInt(t,16))},k=function(t,e,n){for(var o="",r=0,i=e-t.length;r<i;r++)o+=n;return o+t},D=function(t,e,n){for(var o=t.length,r=0;r<o;r++)e[n++]=t.charCodeAt(r);return o},B=function(t,e){return void 0===e&&(e=4),t+"-"+Math.floor(Math.random()*Math.pow(10,e))},P=function(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},T=function(t){return t.replace(/\t|\u0085|\u2028|\u2029/g,"    ").replace(/[\b\v]/g,"")},O=["\\n","\\f","\\r","\\u000B"],N=["\n","\f","\r","\v"],j=function(t){return/^[\n\f\r\u000B]$/.test(t)},I=function(t){return t.split(/[\n\f\r\u000B]/)},R=function(t){return t.replace(/[\n\f\r\u000B]/g," ")},M=function(t,e){var n,o=t.charCodeAt(e),r=e+1,i=1;return o>=55296&&o<=56319&&t.length>r&&(n=t.charCodeAt(r))>=56320&&n<=57343&&(i=2),[t.slice(e,e+i),i]},E=function(t){for(var e=[],n=0,o=t.length;n<o;){var r=M(t,n),i=r[0],a=r[1];e.push(i),n+=a}return e},W=function(t,e,n,o){for(var r=function(t){for(var e=O.join("|"),n=["$"],o=0,r=t.length;o<r;o++){var i=t[o];if(j(i))throw new TypeError("`wordBreak` must not include "+e);n.push(""===i?".":P(i))}var a=n.join("|");return new RegExp("("+e+")|((.*?)("+a+"))","gm")}(e),i=T(t).match(r),a="",s=0,u=[],c=function(){""!==a&&u.push(a),a="",s=0},h=0,l=i.length;h<l;h++){var f=i[h];if(j(f))c();else{var d=o(f);s+d>n&&c(),a+=f,s+=d}}return c(),u},z=/^D:(\d\d\d\d)(\d\d)?(\d\d)?(\d\d)?(\d\d)?(\d\d)?([+\-Z])?(\d\d)?'?(\d\d)?'?$/,L=function(t){var e=t.match(z);if(e){var n=e[1],o=e[2],r=void 0===o?"01":o,i=e[3],a=void 0===i?"01":i,s=e[4],u=void 0===s?"00":s,c=e[5],h=void 0===c?"00":c,l=e[6],f=void 0===l?"00":l,d=e[7],p=void 0===d?"Z":d,g=e[8],y=void 0===g?"00":g,v=e[9];return new Date(n+"-"+r+"-"+a+"T"+u+":"+h+":"+f+("Z"===p?"Z":""+p+y+":"+(void 0===v?"00":v)))}},U=function(t,e){for(var n,o,r=0;r<t.length;){var i=t.substring(r).match(e);if(!i)return{match:o,pos:r};o=i,r+=(null!==(n=i.index)&&void 0!==n?n:0)+i[0].length}return{match:o,pos:r}},K=function(t){return t[t.length-1]},G=function(t){if(t instanceof Uint8Array)return t;for(var e=t.length,n=new Uint8Array(e),o=0;o<e;o++)n[o]=t.charCodeAt(o);return n},V=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=t.length,o=[],r=0;r<n;r++){var i=t[r];o[r]=i instanceof Uint8Array?i:G(i)}var a=0;for(r=0;r<n;r++)a+=t[r].length;for(var s=new Uint8Array(a),u=0,c=0;c<n;c++)for(var h=o[c],l=0,f=h.length;l<f;l++)s[u++]=h[l];return s},H=function(t){for(var e=0,n=0,o=t.length;n<o;n++)e+=t[n].length;var r=new Uint8Array(e),i=0;for(n=0,o=t.length;n<o;n++){var a=t[n];r.set(a,i),i+=a.length}return r},X=function(t){for(var e="",n=0,o=t.length;n<o;n++)e+=F(t[n]);return e},q=function(t,e){return t.id-e.id},Z=function(t,e){for(var n=[],o=0,r=t.length;o<r;o++){var i=t[o],a=t[o-1];0!==o&&e(i)===e(a)||n.push(i)}return n},J=function(t){for(var e=t.length,n=0,o=Math.floor(e/2);n<o;n++){var r=n,i=e-n-1,a=t[n];t[r]=t[i],t[i]=a}return t},Y=function(t){for(var e=0,n=0,o=t.length;n<o;n++)e+=t[n];return e},_=function(t,e){for(var n=new Array(e-t),o=0,r=n.length;o<r;o++)n[o]=t+o;return n},Q=function(t,e){for(var n=new Array(e.length),o=0,r=e.length;o<r;o++)n[o]=t[e[o]];return n},$=function(t){return t instanceof Uint8Array||t instanceof ArrayBuffer||"string"==typeof t},tt=function(t){if("string"==typeof t)return m(t);if(t instanceof ArrayBuffer)return new Uint8Array(t);if(t instanceof Uint8Array)return t;throw new TypeError("`input` must be one of `string | ArrayBuffer | Uint8Array`")},et=function(){return new Promise((function(t){setTimeout((function(){return t()}),0)}))},nt=function(t,e){void 0===e&&(e=!0);var n=[];e&&n.push(239,187,191);for(var o=0,r=t.length;o<r;){var i=t.codePointAt(o);if(i<128){var a=127&i;n.push(a),o+=1}else if(i<2048){a=i>>6&31|192;var s=63&i|128;n.push(a,s),o+=1}else if(i<65536){a=i>>12&15|224,s=i>>6&63|128;var u=63&i|128;n.push(a,s,u),o+=1}else{if(!(i<1114112))throw new Error("Invalid code point: 0x"+S(i));a=i>>18&7|240,s=i>>12&63|128,u=i>>6&63|128;var c=63&i|128;n.push(a,s,u,c),o+=2}}return new Uint8Array(n)},ot=function(t,e){void 0===e&&(e=!0);var n=[];e&&n.push(65279);for(var o=0,r=t.length;o<r;){var i=t.codePointAt(o);if(i<65536)n.push(i),o+=1;else{if(!(i<1114112))throw new Error("Invalid code point: 0x"+S(i));n.push(at(i),st(i)),o+=2}}return new Uint16Array(n)},rt=function(t){return t>=0&&t<=65535},it=function(t){return t>=65536&&t<=1114111},at=function(t){return Math.floor((t-65536)/1024)+55296},st=function(t){return(t-65536)%1024+56320};(g=p||(p={})).BigEndian="BigEndian",g.LittleEndian="LittleEndian";for(var ut="�".codePointAt(0),ct=function(t,e){if(void 0===e&&(e=!0),t.length<=1)return String.fromCodePoint(ut);for(var n=e?dt(t):p.BigEndian,o=e?2:0,r=[];t.length-o>=2;){var i=ft(t[o++],t[o++],n);if(ht(i))if(t.length-o<2)r.push(ut);else{var a=ft(t[o++],t[o++],n);lt(a)?r.push(i,a):r.push(ut)}else lt(i)?(o+=2,r.push(ut)):r.push(i)}return o<t.length&&r.push(ut),String.fromCodePoint.apply(String,r)},ht=function(t){return t>=55296&&t<=56319},lt=function(t){return t>=56320&&t<=57343},ft=function(t,e,n){if(n===p.LittleEndian)return e<<8|t;if(n===p.BigEndian)return t<<8|e;throw new Error("Invalid byteOrder: "+n)},dt=function(t){return pt(t)?p.BigEndian:gt(t)?p.LittleEndian:p.BigEndian},pt=function(t){return 254===t[0]&&255===t[1]},gt=function(t){return 255===t[0]&&254===t[1]},yt=function(t){return pt(t)||gt(t)},vt=function(t){var e,n=String(t);if(Math.abs(t)<1){if(e=parseInt(t.toString().split("e-")[1])){var o=t<0;o&&(t*=-1),t*=Math.pow(10,e-1),n="0."+new Array(e).join("0")+t.toString().substring(2),o&&(n="-"+n)}}else(e=parseInt(t.toString().split("+")[1]))>20&&(e-=20,n=(t/=Math.pow(10,e)).toString()+new Array(e+1).join("0"));return n},bt=function(t){return Math.ceil(t.toString(2).length/8)},mt=function(t){for(var e=new Uint8Array(bt(t)),n=1;n<=e.length;n++)e[n-1]=t>>8*(e.length-n);return e},wt=function(t){throw new Error(t)},xt=function(t){return Object.keys(t).map((function(e){return t[e]}))},Ct=xt(t),St=function(t){return Ct.includes(t)},Ft=function(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height},At=function(t){return"`"+t+"`"},kt=function(t){return"'"+t+"'"},Dt=function(t){var e=typeof t;return"string"===e?kt(t):"undefined"===e?At(t):t},Bt=function(t,e,n){for(var o=new Array(n.length),r=0,i=n.length;r<i;r++){var a=n[r];o[r]=Dt(a)}var s=o.join(" or ");return At(e)+" must be one of "+s+", but was actually "+Dt(t)},Pt=function(t,e,n){Array.isArray(n)||(n=xt(n));for(var o=0,r=n.length;o<r;o++)if(t===n[o])return;throw new TypeError(Bt(t,e,n))},Tt=function(t,e,n){Array.isArray(n)||(n=xt(n)),Pt(t,e,n.concat(void 0))},Ot=function(t,e,n){Array.isArray(n)||(n=xt(n));for(var o=0,r=t.length;o<r;o++)Pt(t[o],e,n)},Nt=function(t){return null===t?"null":void 0===t?"undefined":"string"==typeof t?"string":isNaN(t)?"NaN":"number"==typeof t?"number":"boolean"==typeof t?"boolean":"symbol"==typeof t?"symbol":"bigint"==typeof t?"bigint":t.constructor&&t.constructor.name?t.constructor.name:t.name?t.name:t.constructor?String(t.constructor):String(t)},jt=function(t,e){return"null"===e?null===t:"undefined"===e?void 0===t:"string"===e?"string"==typeof t:"number"===e?"number"==typeof t&&!isNaN(t):"boolean"===e?"boolean"==typeof t:"symbol"===e?"symbol"==typeof t:"bigint"===e?"bigint"==typeof t:e===Date?t instanceof Date:e===Array?t instanceof Array:e===Uint8Array?t instanceof Uint8Array:e===ArrayBuffer?t instanceof ArrayBuffer:e===Function?t instanceof Function:t instanceof e[0]},It=function(t,e,n){for(var o=new Array(n.length),r=0,i=n.length;r<i;r++){var a=n[r];"null"===a&&(o[r]=At("null")),"undefined"===a&&(o[r]=At("undefined")),"string"===a?o[r]=At("string"):"number"===a?o[r]=At("number"):"boolean"===a?o[r]=At("boolean"):"symbol"===a?o[r]=At("symbol"):"bigint"===a?o[r]=At("bigint"):a===Array?o[r]=At("Array"):a===Uint8Array?o[r]=At("Uint8Array"):a===ArrayBuffer?o[r]=At("ArrayBuffer"):o[r]=At(a[1])}var s=o.join(" or ");return At(e)+" must be of type "+s+", but was actually of type "+At(Nt(t))},Rt=function(t,e,n){for(var o=0,r=n.length;o<r;o++)if(jt(t,n[o]))return;throw new TypeError(It(t,e,n))},Mt=function(t,e,n){Rt(t,e,n.concat("undefined"))},Et=function(t,e,n){for(var o=0,r=t.length;o<r;o++)Rt(t[o],e,n)},Wt=function(t,e,n,o){if(Rt(t,e,["number"]),Rt(n,"min",["number"]),Rt(o,"max",["number"]),o=Math.max(n,o),t<n||t>o)throw new Error(At(e)+" must be at least "+n+" and at most "+o+", but was actually "+t)},zt=function(t,e,n,o){Rt(t,e,["number","undefined"]),"number"==typeof t&&Wt(t,e,n,o)},Lt=function(t,e,n){if(Rt(t,e,["number"]),t%n!==0)throw new Error(At(e)+" must be a multiple of "+n+", but was actually "+t)},Ut=function(t,e){if(!Number.isInteger(t))throw new Error(At(e)+" must be an integer, but was actually "+t)},Kt=function(t,e){if(![1,0].includes(Math.sign(t)))throw new Error(At(e)+" must be a positive number or 0, but was actually "+t)},Gt=new Uint16Array(256),Vt=0;Vt<256;Vt++)Gt[Vt]=Vt;Gt[22]=w(""),Gt[24]=w("˘"),Gt[25]=w("ˇ"),Gt[26]=w("ˆ"),Gt[27]=w("˙"),Gt[28]=w("˝"),Gt[29]=w("˛"),Gt[30]=w("˚"),Gt[31]=w("˜"),Gt[127]=w("�"),Gt[128]=w("•"),Gt[129]=w("†"),Gt[130]=w("‡"),Gt[131]=w("…"),Gt[132]=w("—"),Gt[133]=w("–"),Gt[134]=w("ƒ"),Gt[135]=w("⁄"),Gt[136]=w("‹"),Gt[137]=w("›"),Gt[138]=w("−"),Gt[139]=w("‰"),Gt[140]=w("„"),Gt[141]=w("“"),Gt[142]=w("”"),Gt[143]=w("‘"),Gt[144]=w("’"),Gt[145]=w("‚"),Gt[146]=w("™"),Gt[147]=w("ﬁ"),Gt[148]=w("ﬂ"),Gt[149]=w("Ł"),Gt[150]=w("Œ"),Gt[151]=w("Š"),Gt[152]=w("Ÿ"),Gt[153]=w("Ž"),Gt[154]=w("ı"),Gt[155]=w("ł"),Gt[156]=w("œ"),Gt[157]=w("š"),Gt[158]=w("ž"),Gt[159]=w("�"),Gt[160]=w("€"),Gt[173]=w("�");var Ht,Xt,qt=function(t){for(var e=new Array(t.length),n=0,o=t.length;n<o;n++)e[n]=Gt[t[n]];return String.fromCodePoint.apply(String,e)},Zt=function(){function t(t){this.populate=t,this.value=void 0}return t.prototype.getValue=function(){return this.value},t.prototype.access=function(){return this.value||(this.value=this.populate()),this.value},t.prototype.invalidate=function(){this.value=void 0},t.populatedBy=function(e){return new t(e)},t}(),Jt=function(t){function e(e,n){var o="Method "+e+"."+n+"() not implemented";return t.call(this,o)||this}return a(e,t),e}(Error),Yt=function(t){function e(e){var n="Cannot construct "+e+" - it has a private constructor";return t.call(this,n)||this}return a(e,t),e}(Error),_t=function(t){function e(e,n){var o=function(t){var e,n;return null!==(e=null==t?void 0:t.name)&&void 0!==e?e:null===(n=null==t?void 0:t.constructor)||void 0===n?void 0:n.name},r="Expected instance of "+(Array.isArray(e)?e.map(o):[o(e)]).join(" or ")+", but got instance of "+(n?o(n):n);return t.call(this,r)||this}return a(e,t),e}(Error),Qt=function(t){function e(e){var n=e+" stream encoding not supported";return t.call(this,n)||this}return a(e,t),e}(Error),$t=function(t){function e(e,n){var o="Cannot call "+e+"."+n+"() more than once";return t.call(this,o)||this}return a(e,t),e}(Error),te=function(t){function e(e){var n="Missing catalog (ref="+e+")";return t.call(this,n)||this}return a(e,t),e}(Error),ee=function(t){function e(){return t.call(this,"Can't embed page with missing Contents")||this}return a(e,t),e}(Error),ne=function(t){function e(e){var n,o,r,i="Unrecognized stream type: "+(null!==(r=null!==(o=null===(n=null==e?void 0:e.contructor)||void 0===n?void 0:n.name)&&void 0!==o?o:null==e?void 0:e.name)&&void 0!==r?r:e);return t.call(this,i)||this}return a(e,t),e}(Error),oe=function(t){function e(){return t.call(this,"Found mismatched contexts while embedding pages. All pages in the array passed to `PDFDocument.embedPages()` must be from the same document.")||this}return a(e,t),e}(Error),re=function(t){function e(e){var n="Attempted to convert PDFArray with "+e+" elements to rectangle, but must have exactly 4 elements.";return t.call(this,n)||this}return a(e,t),e}(Error),ie=function(t){function e(e){var n='Attempted to convert "'+e+'" to a date, but it does not match the PDF date string format.';return t.call(this,n)||this}return a(e,t),e}(Error),ae=function(t){function e(e,n){var o="Invalid targetIndex specified: targetIndex="+e+" must be less than Count="+n;return t.call(this,o)||this}return a(e,t),e}(Error),se=function(t){function e(e,n){var o="Failed to "+n+" at targetIndex="+e+" due to corrupt page tree: It is likely that one or more 'Count' entries are invalid";return t.call(this,o)||this}return a(e,t),e}(Error),ue=function(t){function e(e,n,o){var r="index should be at least "+n+" and at most "+o+", but was actually "+e;return t.call(this,r)||this}return a(e,t),e}(Error),ce=function(t){function e(){return t.call(this,"Attempted to set invalid field value")||this}return a(e,t),e}(Error),he=function(t){function e(){return t.call(this,"Attempted to select multiple values for single-select field")||this}return a(e,t),e}(Error),le=function(t){function e(e){var n="No /DA (default appearance) entry found for field: "+e;return t.call(this,n)||this}return a(e,t),e}(Error),fe=function(t){function e(e){var n="No Tf operator found for DA of field: "+e;return t.call(this,n)||this}return a(e,t),e}(Error),de=function(t){function e(e,n){var o="Failed to parse number (line:"+e.line+" col:"+e.column+" offset="+e.offset+'): "'+n+'"';return t.call(this,o)||this}return a(e,t),e}(Error),pe=function(t){function e(e,n){var o="Failed to parse PDF document (line:"+e.line+" col:"+e.column+" offset="+e.offset+"): "+n;return t.call(this,o)||this}return a(e,t),e}(Error),ge=function(t){function e(e,n,o){var r="Expected next byte to be "+n+" but it was actually "+o;return t.call(this,e,r)||this}return a(e,t),e}(pe),ye=function(t){function e(e,n){var o="Failed to parse PDF object starting with the following byte: "+n;return t.call(this,e,o)||this}return a(e,t),e}(pe),ve=function(t){function e(e){return t.call(this,e,"Failed to parse invalid PDF object")||this}return a(e,t),e}(pe),be=function(t){function e(e){return t.call(this,e,"Failed to parse PDF stream")||this}return a(e,t),e}(pe),me=function(t){function e(e){return t.call(this,e,"Failed to parse PDF literal string due to unbalanced parenthesis")||this}return a(e,t),e}(pe),we=function(t){function e(e){return t.call(this,e,"Parser stalled")||this}return a(e,t),e}(pe),xe=function(t){function e(e){return t.call(this,e,"No PDF header found")||this}return a(e,t),e}(pe),Ce=function(t){function e(e,n){var o="Did not find expected keyword '"+X(n)+"'";return t.call(this,e,o)||this}return a(e,t),e}(pe);(Xt=Ht||(Ht={}))[Xt.Null=0]="Null",Xt[Xt.Backspace=8]="Backspace",Xt[Xt.Tab=9]="Tab",Xt[Xt.Newline=10]="Newline",Xt[Xt.FormFeed=12]="FormFeed",Xt[Xt.CarriageReturn=13]="CarriageReturn",Xt[Xt.Space=32]="Space",Xt[Xt.ExclamationPoint=33]="ExclamationPoint",Xt[Xt.Hash=35]="Hash",Xt[Xt.Percent=37]="Percent",Xt[Xt.LeftParen=40]="LeftParen",Xt[Xt.RightParen=41]="RightParen",Xt[Xt.Plus=43]="Plus",Xt[Xt.Minus=45]="Minus",Xt[Xt.Dash=45]="Dash",Xt[Xt.Period=46]="Period",Xt[Xt.ForwardSlash=47]="ForwardSlash",Xt[Xt.Zero=48]="Zero",Xt[Xt.One=49]="One",Xt[Xt.Two=50]="Two",Xt[Xt.Three=51]="Three",Xt[Xt.Four=52]="Four",Xt[Xt.Five=53]="Five",Xt[Xt.Six=54]="Six",Xt[Xt.Seven=55]="Seven",Xt[Xt.Eight=56]="Eight",Xt[Xt.Nine=57]="Nine",Xt[Xt.LessThan=60]="LessThan",Xt[Xt.GreaterThan=62]="GreaterThan",Xt[Xt.A=65]="A",Xt[Xt.D=68]="D",Xt[Xt.E=69]="E",Xt[Xt.F=70]="F",Xt[Xt.O=79]="O",Xt[Xt.P=80]="P",Xt[Xt.R=82]="R",Xt[Xt.LeftSquareBracket=91]="LeftSquareBracket",Xt[Xt.BackSlash=92]="BackSlash",Xt[Xt.RightSquareBracket=93]="RightSquareBracket",Xt[Xt.a=97]="a",Xt[Xt.b=98]="b",Xt[Xt.d=100]="d",Xt[Xt.e=101]="e",Xt[Xt.f=102]="f",Xt[Xt.i=105]="i",Xt[Xt.j=106]="j",Xt[Xt.l=108]="l",Xt[Xt.m=109]="m",Xt[Xt.n=110]="n",Xt[Xt.o=111]="o",Xt[Xt.r=114]="r",Xt[Xt.s=115]="s",Xt[Xt.t=116]="t",Xt[Xt.u=117]="u",Xt[Xt.x=120]="x",Xt[Xt.LeftCurly=123]="LeftCurly",Xt[Xt.RightCurly=125]="RightCurly",Xt[Xt.Tilde=126]="Tilde";var Se=function(){function t(t,e){this.major=String(t),this.minor=String(e)}return t.prototype.toString=function(){var t=F(129);return"%PDF-"+this.major+"."+this.minor+"\n%"+t+t+t+t},t.prototype.sizeInBytes=function(){return 12+this.major.length+this.minor.length},t.prototype.copyBytesInto=function(t,e){var n=e;return t[e++]=Ht.Percent,t[e++]=Ht.P,t[e++]=Ht.D,t[e++]=Ht.F,t[e++]=Ht.Dash,e+=D(this.major,t,e),t[e++]=Ht.Period,e+=D(this.minor,t,e),t[e++]=Ht.Newline,t[e++]=Ht.Percent,t[e++]=129,t[e++]=129,t[e++]=129,t[e++]=129,e-n},t.forVersion=function(e,n){return new t(e,n)},t}(),Fe=function(){function t(){}return t.prototype.clone=function(t){throw new Jt(this.constructor.name,"clone")},t.prototype.toString=function(){throw new Jt(this.constructor.name,"toString")},t.prototype.sizeInBytes=function(){throw new Jt(this.constructor.name,"sizeInBytes")},t.prototype.copyBytesInto=function(t,e){throw new Jt(this.constructor.name,"copyBytesInto")},t}(),Ae=function(t){function e(e){var n=t.call(this)||this;return n.numberValue=e,n.stringValue=vt(e),n}return a(e,t),e.prototype.asNumber=function(){return this.numberValue},e.prototype.value=function(){return this.numberValue},e.prototype.clone=function(){return e.of(this.numberValue)},e.prototype.toString=function(){return this.stringValue},e.prototype.sizeInBytes=function(){return this.stringValue.length},e.prototype.copyBytesInto=function(t,e){return e+=D(this.stringValue,t,e),this.stringValue.length},e.of=function(t){return new e(t)},e}(Fe),ke=function(t){function e(e){var n=t.call(this)||this;return n.array=[],n.context=e,n}return a(e,t),e.prototype.size=function(){return this.array.length},e.prototype.push=function(t){this.array.push(t)},e.prototype.insert=function(t,e){this.array.splice(t,0,e)},e.prototype.indexOf=function(t){var e=this.array.indexOf(t);return-1===e?void 0:e},e.prototype.remove=function(t){this.array.splice(t,1)},e.prototype.set=function(t,e){this.array[t]=e},e.prototype.get=function(t){return this.array[t]},e.prototype.lookupMaybe=function(t){for(var e,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];return(e=this.context).lookupMaybe.apply(e,h([this.get(t)],n))},e.prototype.lookup=function(t){for(var e,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];return(e=this.context).lookup.apply(e,h([this.get(t)],n))},e.prototype.asRectangle=function(){if(4!==this.size())throw new re(this.size());var t=this.lookup(0,Ae).asNumber(),e=this.lookup(1,Ae).asNumber();return{x:t,y:e,width:this.lookup(2,Ae).asNumber()-t,height:this.lookup(3,Ae).asNumber()-e}},e.prototype.asArray=function(){return this.array.slice()},e.prototype.clone=function(t){for(var n=e.withContext(t||this.context),o=0,r=this.size();o<r;o++)n.push(this.array[o]);return n},e.prototype.toString=function(){for(var t="[ ",e=0,n=this.size();e<n;e++)t+=this.get(e).toString(),t+=" ";return t+="]"},e.prototype.sizeInBytes=function(){for(var t=3,e=0,n=this.size();e<n;e++)t+=this.get(e).sizeInBytes()+1;return t},e.prototype.copyBytesInto=function(t,e){var n=e;t[e++]=Ht.LeftSquareBracket,t[e++]=Ht.Space;for(var o=0,r=this.size();o<r;o++)e+=this.get(o).copyBytesInto(t,e),t[e++]=Ht.Space;return t[e++]=Ht.RightSquareBracket,e-n},e.prototype.scalePDFNumbers=function(t,e){for(var n=0,o=this.size();n<o;n++){var r=this.lookup(n);if(r instanceof Ae){var i=n%2==0?t:e;this.set(n,Ae.of(r.asNumber()*i))}}},e.withContext=function(t){return new e(t)},e}(Fe),De={},Be=function(t){function e(e,n){var o=this;if(e!==De)throw new Yt("PDFBool");return(o=t.call(this)||this).value=n,o}return a(e,t),e.prototype.asBoolean=function(){return this.value},e.prototype.clone=function(){return this},e.prototype.toString=function(){return String(this.value)},e.prototype.sizeInBytes=function(){return this.value?4:5},e.prototype.copyBytesInto=function(t,e){return this.value?(t[e++]=Ht.t,t[e++]=Ht.r,t[e++]=Ht.u,t[e++]=Ht.e,4):(t[e++]=Ht.f,t[e++]=Ht.a,t[e++]=Ht.l,t[e++]=Ht.s,t[e++]=Ht.e,5)},e.True=new e(De,!0),e.False=new e(De,!1),e}(Fe),Pe=new Uint8Array(256);Pe[Ht.LeftParen]=1,Pe[Ht.RightParen]=1,Pe[Ht.LessThan]=1,Pe[Ht.GreaterThan]=1,Pe[Ht.LeftSquareBracket]=1,Pe[Ht.RightSquareBracket]=1,Pe[Ht.LeftCurly]=1,Pe[Ht.RightCurly]=1,Pe[Ht.ForwardSlash]=1,Pe[Ht.Percent]=1;var Te=new Uint8Array(256);Te[Ht.Null]=1,Te[Ht.Tab]=1,Te[Ht.Newline]=1,Te[Ht.FormFeed]=1,Te[Ht.CarriageReturn]=1,Te[Ht.Space]=1;for(var Oe=new Uint8Array(256),Ne=0;Ne<256;Ne++)Oe[Ne]=Te[Ne]||Pe[Ne]?1:0;Oe[Ht.Hash]=1;var je={},Ie=new Map,Re=function(t){function e(e,n){var o=this;if(e!==je)throw new Yt("PDFName");o=t.call(this)||this;for(var r,i="/",a=0,s=n.length;a<s;a++){var u=n[a],c=w(u);i+=(r=c)>=Ht.ExclamationPoint&&r<=Ht.Tilde&&!Oe[r]?u:"#"+S(c)}return o.encodedName=i,o}return a(e,t),e.prototype.asBytes=function(){for(var t=[],e="",n=!1,o=function(e){void 0!==e&&t.push(e),n=!1},r=1,i=this.encodedName.length;r<i;r++){var a=this.encodedName[r],s=w(a),u=this.encodedName[r+1];n?s>=Ht.Zero&&s<=Ht.Nine||s>=Ht.a&&s<=Ht.f||s>=Ht.A&&s<=Ht.F?2!==(e+=a).length&&(u>="0"&&u<="9"||u>="a"&&u<="f"||u>="A"&&u<="F")||(o(parseInt(e,16)),e=""):o(s):s===Ht.Hash?n=!0:o(s)}return new Uint8Array(t)},e.prototype.decodeText=function(){var t=this.asBytes();return String.fromCharCode.apply(String,Array.from(t))},e.prototype.asString=function(){return this.encodedName},e.prototype.value=function(){return this.encodedName},e.prototype.clone=function(){return this},e.prototype.toString=function(){return this.encodedName},e.prototype.sizeInBytes=function(){return this.encodedName.length},e.prototype.copyBytesInto=function(t,e){return e+=D(this.encodedName,t,e),this.encodedName.length},e.of=function(t){var n=function(t){return t.replace(/#([\dABCDEF]{2})/g,(function(t,e){return A(e)}))}(t),o=Ie.get(n);return o||(o=new e(je,n),Ie.set(n,o)),o},e.Length=e.of("Length"),e.FlateDecode=e.of("FlateDecode"),e.Resources=e.of("Resources"),e.Font=e.of("Font"),e.XObject=e.of("XObject"),e.ExtGState=e.of("ExtGState"),e.Contents=e.of("Contents"),e.Type=e.of("Type"),e.Parent=e.of("Parent"),e.MediaBox=e.of("MediaBox"),e.Page=e.of("Page"),e.Annots=e.of("Annots"),e.TrimBox=e.of("TrimBox"),e.ArtBox=e.of("ArtBox"),e.BleedBox=e.of("BleedBox"),e.CropBox=e.of("CropBox"),e.Rotate=e.of("Rotate"),e.Title=e.of("Title"),e.Author=e.of("Author"),e.Subject=e.of("Subject"),e.Creator=e.of("Creator"),e.Keywords=e.of("Keywords"),e.Producer=e.of("Producer"),e.CreationDate=e.of("CreationDate"),e.ModDate=e.of("ModDate"),e}(Fe);const Me=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.asNull=function(){return null},e.prototype.clone=function(){return this},e.prototype.toString=function(){return"null"},e.prototype.sizeInBytes=function(){return 4},e.prototype.copyBytesInto=function(t,e){return t[e++]=Ht.n,t[e++]=Ht.u,t[e++]=Ht.l,t[e++]=Ht.l,4},e}(Fe));var Ee,We,ze=function(t){function e(e,n){var o=t.call(this)||this;return o.dict=e,o.context=n,o}return a(e,t),e.prototype.keys=function(){return Array.from(this.dict.keys())},e.prototype.values=function(){return Array.from(this.dict.values())},e.prototype.entries=function(){return Array.from(this.dict.entries())},e.prototype.set=function(t,e){this.dict.set(t,e)},e.prototype.get=function(t,e){void 0===e&&(e=!1);var n=this.dict.get(t);if(n!==Me||e)return n},e.prototype.has=function(t){var e=this.dict.get(t);return void 0!==e&&e!==Me},e.prototype.lookupMaybe=function(t){for(var e,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];var r=n.includes(Me),i=(e=this.context).lookupMaybe.apply(e,h([this.get(t,r)],n));if(i!==Me||r)return i},e.prototype.lookup=function(t){for(var e,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];var r=n.includes(Me),i=(e=this.context).lookup.apply(e,h([this.get(t,r)],n));if(i!==Me||r)return i},e.prototype.delete=function(t){return this.dict.delete(t)},e.prototype.asMap=function(){return new Map(this.dict)},e.prototype.uniqueKey=function(t){void 0===t&&(t="");for(var e=this.keys(),n=Re.of(this.context.addRandomSuffix(t,10));e.includes(n);)n=Re.of(this.context.addRandomSuffix(t,10));return n},e.prototype.clone=function(t){for(var n=e.withContext(t||this.context),o=this.entries(),r=0,i=o.length;r<i;r++){var a=o[r],s=a[0],u=a[1];n.set(s,u)}return n},e.prototype.toString=function(){for(var t="<<\n",e=this.entries(),n=0,o=e.length;n<o;n++){var r=e[n],i=r[0],a=r[1];t+=i.toString()+" "+a.toString()+"\n"}return t+=">>"},e.prototype.sizeInBytes=function(){for(var t=5,e=this.entries(),n=0,o=e.length;n<o;n++){var r=e[n],i=r[0],a=r[1];t+=i.sizeInBytes()+a.sizeInBytes()+2}return t},e.prototype.copyBytesInto=function(t,e){var n=e;t[e++]=Ht.LessThan,t[e++]=Ht.LessThan,t[e++]=Ht.Newline;for(var o=this.entries(),r=0,i=o.length;r<i;r++){var a=o[r],s=a[0],u=a[1];e+=s.copyBytesInto(t,e),t[e++]=Ht.Space,e+=u.copyBytesInto(t,e),t[e++]=Ht.Newline}return t[e++]=Ht.GreaterThan,t[e++]=Ht.GreaterThan,e-n},e.withContext=function(t){return new e(new Map,t)},e.fromMapWithContext=function(t,n){return new e(t,n)},e}(Fe),Le=function(t){function e(e){var n=t.call(this)||this;return n.dict=e,n}return a(e,t),e.prototype.clone=function(t){throw new Jt(this.constructor.name,"clone")},e.prototype.getContentsString=function(){throw new Jt(this.constructor.name,"getContentsString")},e.prototype.getContents=function(){throw new Jt(this.constructor.name,"getContents")},e.prototype.getContentsSize=function(){throw new Jt(this.constructor.name,"getContentsSize")},e.prototype.updateDict=function(){var t=this.getContentsSize();this.dict.set(Re.Length,Ae.of(t))},e.prototype.sizeInBytes=function(){return this.updateDict(),this.dict.sizeInBytes()+this.getContentsSize()+18},e.prototype.toString=function(){this.updateDict();var t=this.dict.toString();return t+="\nstream\n",t+=this.getContentsString(),t+="\nendstream"},e.prototype.copyBytesInto=function(t,e){this.updateDict();var n=e;e+=this.dict.copyBytesInto(t,e),t[e++]=Ht.Newline,t[e++]=Ht.s,t[e++]=Ht.t,t[e++]=Ht.r,t[e++]=Ht.e,t[e++]=Ht.a,t[e++]=Ht.m,t[e++]=Ht.Newline;for(var o=this.getContents(),r=0,i=o.length;r<i;r++)t[e++]=o[r];return t[e++]=Ht.Newline,t[e++]=Ht.e,t[e++]=Ht.n,t[e++]=Ht.d,t[e++]=Ht.s,t[e++]=Ht.t,t[e++]=Ht.r,t[e++]=Ht.e,t[e++]=Ht.a,t[e++]=Ht.m,e-n},e}(Fe),Ue=function(t){function e(e,n){var o=t.call(this,e)||this;return o.contents=n,o}return a(e,t),e.prototype.asUint8Array=function(){return this.contents.slice()},e.prototype.clone=function(t){return e.of(this.dict.clone(t),this.contents.slice())},e.prototype.getContentsString=function(){return X(this.contents)},e.prototype.getContents=function(){return this.contents},e.prototype.getContentsSize=function(){return this.contents.length},e.of=function(t,n){return new e(t,n)},e}(Le),Ke={},Ge=new Map,Ve=function(t){function e(e,n,o){var r=this;if(e!==Ke)throw new Yt("PDFRef");return(r=t.call(this)||this).objectNumber=n,r.generationNumber=o,r.tag=n+" "+o+" R",r}return a(e,t),e.prototype.clone=function(){return this},e.prototype.toString=function(){return this.tag},e.prototype.sizeInBytes=function(){return this.tag.length},e.prototype.copyBytesInto=function(t,e){return e+=D(this.tag,t,e),this.tag.length},e.of=function(t,n){void 0===n&&(n=0);var o=t+" "+n+" R",r=Ge.get(o);return r||(r=new e(Ke,t,n),Ge.set(o,r)),r},e}(Fe),He=function(){function t(t,e){this.name=t,this.args=e||[]}return t.prototype.clone=function(e){for(var n=new Array(this.args.length),o=0,r=n.length;o<r;o++){var i=this.args[o];n[o]=i instanceof Fe?i.clone(e):i}return t.of(this.name,n)},t.prototype.toString=function(){for(var t="",e=0,n=this.args.length;e<n;e++)t+=String(this.args[e])+" ";return t+=this.name},t.prototype.sizeInBytes=function(){for(var t=0,e=0,n=this.args.length;e<n;e++){var o=this.args[e];t+=(o instanceof Fe?o.sizeInBytes():o.length)+1}return t+=this.name.length},t.prototype.copyBytesInto=function(t,e){for(var n=e,o=0,r=this.args.length;o<r;o++){var i=this.args[o];e+=i instanceof Fe?i.copyBytesInto(t,e):D(i,t,e),t[e++]=Ht.Space}return(e+=D(this.name,t,e))-n},t.of=function(e,n){return new t(e,n)},t}();(We=Ee||(Ee={})).NonStrokingColor="sc",We.NonStrokingColorN="scn",We.NonStrokingColorRgb="rg",We.NonStrokingColorGray="g",We.NonStrokingColorCmyk="k",We.NonStrokingColorspace="cs",We.StrokingColor="SC",We.StrokingColorN="SCN",We.StrokingColorRgb="RG",We.StrokingColorGray="G",We.StrokingColorCmyk="K",We.StrokingColorspace="CS",We.BeginMarkedContentSequence="BDC",We.BeginMarkedContent="BMC",We.EndMarkedContent="EMC",We.MarkedContentPointWithProps="DP",We.MarkedContentPoint="MP",We.DrawObject="Do",We.ConcatTransformationMatrix="cm",We.PopGraphicsState="Q",We.PushGraphicsState="q",We.SetFlatness="i",We.SetGraphicsStateParams="gs",We.SetLineCapStyle="J",We.SetLineDashPattern="d",We.SetLineJoinStyle="j",We.SetLineMiterLimit="M",We.SetLineWidth="w",We.SetTextMatrix="Tm",We.SetRenderingIntent="ri",We.AppendRectangle="re",We.BeginInlineImage="BI",We.BeginInlineImageData="ID",We.EndInlineImage="EI",We.ClipEvenOdd="W*",We.ClipNonZero="W",We.CloseAndStroke="s",We.CloseFillEvenOddAndStroke="b*",We.CloseFillNonZeroAndStroke="b",We.ClosePath="h",We.AppendBezierCurve="c",We.CurveToReplicateFinalPoint="y",We.CurveToReplicateInitialPoint="v",We.EndPath="n",We.FillEvenOddAndStroke="B*",We.FillEvenOdd="f*",We.FillNonZeroAndStroke="B",We.FillNonZero="f",We.LegacyFillNonZero="F",We.LineTo="l",We.MoveTo="m",We.ShadingFill="sh",We.StrokePath="S",We.BeginText="BT",We.EndText="ET",We.MoveText="Td",We.MoveTextSetLeading="TD",We.NextLine="T*",We.SetCharacterSpacing="Tc",We.SetFontAndSize="Tf",We.SetTextHorizontalScaling="Tz",We.SetTextLineHeight="TL",We.SetTextRenderingMode="Tr",We.SetTextRise="Ts",We.SetWordSpacing="Tw",We.ShowText="Tj",We.ShowTextAdjusted="TJ",We.ShowTextLine="'",We.ShowTextLineAndSpace='"',We.Type3D0="d0",We.Type3D1="d1",We.BeginCompatibilitySection="BX",We.EndCompatibilitySection="EX";var Xe,qe,Ze=function(t){function e(e,n){var r=t.call(this,e)||this;return r.computeContents=function(){var t=r.getUnencodedContents();return r.encode?o.deflate(t):t},r.encode=n,n&&e.set(Re.of("Filter"),Re.of("FlateDecode")),r.contentsCache=Zt.populatedBy(r.computeContents),r}return a(e,t),e.prototype.getContents=function(){return this.contentsCache.access()},e.prototype.getContentsSize=function(){return this.contentsCache.access().length},e.prototype.getUnencodedContents=function(){throw new Jt(this.constructor.name,"getUnencodedContents")},e}(Le),Je=function(t){function e(e,n,o){void 0===o&&(o=!0);var r=t.call(this,e,o)||this;return r.operators=n,r}return a(e,t),e.prototype.push=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];(t=this.operators).push.apply(t,e)},e.prototype.clone=function(t){for(var n=new Array(this.operators.length),o=0,r=this.operators.length;o<r;o++)n[o]=this.operators[o].clone(t);var i=this.dict,a=this.encode;return e.of(i.clone(t),n,a)},e.prototype.getContentsString=function(){for(var t="",e=0,n=this.operators.length;e<n;e++)t+=this.operators[e]+"\n";return t},e.prototype.getUnencodedContents=function(){for(var t=new Uint8Array(this.getUnencodedContentsSize()),e=0,n=0,o=this.operators.length;n<o;n++)e+=this.operators[n].copyBytesInto(t,e),t[e++]=Ht.Newline;return t},e.prototype.getUnencodedContentsSize=function(){for(var t=0,e=0,n=this.operators.length;e<n;e++)t+=this.operators[e].sizeInBytes()+1;return t},e.of=function(t,n,o){return void 0===o&&(o=!0),new e(t,n,o)},e}(Ze),Ye=function(){function t(t){this.seed=t}return t.prototype.nextInt=function(){var t=1e4*Math.sin(this.seed++);return t-Math.floor(t)},t.withSeed=function(e){return new t(e)},t}(),_e=function(t,e){var n=t[0],o=e[0];return n.objectNumber-o.objectNumber},Qe=function(){function t(){this.largestObjectNumber=0,this.header=Se.forVersion(1,7),this.trailerInfo={},this.indirectObjects=new Map,this.rng=Ye.withSeed(1)}return t.prototype.assign=function(t,e){this.indirectObjects.set(t,e),t.objectNumber>this.largestObjectNumber&&(this.largestObjectNumber=t.objectNumber)},t.prototype.nextRef=function(){return this.largestObjectNumber+=1,Ve.of(this.largestObjectNumber)},t.prototype.register=function(t){var e=this.nextRef();return this.assign(e,t),e},t.prototype.delete=function(t){return this.indirectObjects.delete(t)},t.prototype.lookupMaybe=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var o=e.includes(Me),r=t instanceof Ve?this.indirectObjects.get(t):t;if(r&&(r!==Me||o)){for(var i=0,a=e.length;i<a;i++){var s=e[i];if(s===Me){if(r===Me)return r}else if(r instanceof s)return r}throw new _t(e,r)}},t.prototype.lookup=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var o=t instanceof Ve?this.indirectObjects.get(t):t;if(0===e.length)return o;for(var r=0,i=e.length;r<i;r++){var a=e[r];if(a===Me){if(o===Me)return o}else if(o instanceof a)return o}throw new _t(e,o)},t.prototype.getObjectRef=function(t){for(var e=Array.from(this.indirectObjects.entries()),n=0,o=e.length;n<o;n++){var r=e[n],i=r[0];if(r[1]===t)return i}},t.prototype.enumerateIndirectObjects=function(){return Array.from(this.indirectObjects.entries()).sort(_e)},t.prototype.obj=function(t){if(t instanceof Fe)return t;if(null==t)return Me;if("string"==typeof t)return Re.of(t);if("number"==typeof t)return Ae.of(t);if("boolean"==typeof t)return t?Be.True:Be.False;if(Array.isArray(t)){for(var e=ke.withContext(this),n=0,o=t.length;n<o;n++)e.push(this.obj(t[n]));return e}var r=ze.withContext(this),i=Object.keys(t);for(n=0,o=i.length;n<o;n++){var a=i[n],s=t[a];void 0!==s&&r.set(Re.of(a),this.obj(s))}return r},t.prototype.stream=function(t,e){return void 0===e&&(e={}),Ue.of(this.obj(e),G(t))},t.prototype.flateStream=function(t,e){return void 0===e&&(e={}),this.stream(o.deflate(G(t)),s(s({},e),{Filter:"FlateDecode"}))},t.prototype.contentStream=function(t,e){return void 0===e&&(e={}),Je.of(this.obj(e),t)},t.prototype.formXObject=function(t,e){return void 0===e&&(e={}),this.contentStream(t,s(s({BBox:this.obj([0,0,0,0]),Matrix:this.obj([1,0,0,1,0,0])},e),{Type:"XObject",Subtype:"Form"}))},t.prototype.getPushGraphicsStateContentStream=function(){if(this.pushGraphicsStateContentStreamRef)return this.pushGraphicsStateContentStreamRef;var t=this.obj({}),e=He.of(Ee.PushGraphicsState),n=Je.of(t,[e]);return this.pushGraphicsStateContentStreamRef=this.register(n),this.pushGraphicsStateContentStreamRef},t.prototype.getPopGraphicsStateContentStream=function(){if(this.popGraphicsStateContentStreamRef)return this.popGraphicsStateContentStreamRef;var t=this.obj({}),e=He.of(Ee.PopGraphicsState),n=Je.of(t,[e]);return this.popGraphicsStateContentStreamRef=this.register(n),this.popGraphicsStateContentStreamRef},t.prototype.addRandomSuffix=function(t,e){return void 0===e&&(e=4),t+"-"+Math.floor(this.rng.nextInt()*Math.pow(10,e))},t.create=function(){return new t},t}(),$e=function(t){function e(e,n,o){void 0===o&&(o=!0);var r=t.call(this,e,n)||this;return r.normalized=!1,r.autoNormalizeCTM=o,r}return a(e,t),e.prototype.clone=function(t){for(var n=e.fromMapWithContext(new Map,t||this.context,this.autoNormalizeCTM),o=this.entries(),r=0,i=o.length;r<i;r++){var a=o[r],s=a[0],u=a[1];n.set(s,u)}return n},e.prototype.Parent=function(){return this.lookupMaybe(Re.Parent,ze)},e.prototype.Contents=function(){return this.lookup(Re.of("Contents"))},e.prototype.Annots=function(){return this.lookupMaybe(Re.Annots,ke)},e.prototype.BleedBox=function(){return this.lookupMaybe(Re.BleedBox,ke)},e.prototype.TrimBox=function(){return this.lookupMaybe(Re.TrimBox,ke)},e.prototype.ArtBox=function(){return this.lookupMaybe(Re.ArtBox,ke)},e.prototype.Resources=function(){var t=this.getInheritableAttribute(Re.Resources);return this.context.lookupMaybe(t,ze)},e.prototype.MediaBox=function(){var t=this.getInheritableAttribute(Re.MediaBox);return this.context.lookup(t,ke)},e.prototype.CropBox=function(){var t=this.getInheritableAttribute(Re.CropBox);return this.context.lookupMaybe(t,ke)},e.prototype.Rotate=function(){var t=this.getInheritableAttribute(Re.Rotate);return this.context.lookupMaybe(t,Ae)},e.prototype.getInheritableAttribute=function(t){var e;return this.ascend((function(n){e||(e=n.get(t))})),e},e.prototype.setParent=function(t){this.set(Re.Parent,t)},e.prototype.addContentStream=function(t){var e=this.normalizedEntries().Contents||this.context.obj([]);this.set(Re.Contents,e),e.push(t)},e.prototype.wrapContentStreams=function(t,e){var n=this.Contents();return n instanceof ke&&(n.insert(0,t),n.push(e),!0)},e.prototype.addAnnot=function(t){this.normalizedEntries().Annots.push(t)},e.prototype.removeAnnot=function(t){var e=this.normalizedEntries().Annots,n=e.indexOf(t);void 0!==n&&e.remove(n)},e.prototype.setFontDictionary=function(t,e){this.normalizedEntries().Font.set(t,e)},e.prototype.newFontDictionaryKey=function(t){return this.normalizedEntries().Font.uniqueKey(t)},e.prototype.newFontDictionary=function(t,e){var n=this.newFontDictionaryKey(t);return this.setFontDictionary(n,e),n},e.prototype.setXObject=function(t,e){this.normalizedEntries().XObject.set(t,e)},e.prototype.newXObjectKey=function(t){return this.normalizedEntries().XObject.uniqueKey(t)},e.prototype.newXObject=function(t,e){var n=this.newXObjectKey(t);return this.setXObject(n,e),n},e.prototype.setExtGState=function(t,e){this.normalizedEntries().ExtGState.set(t,e)},e.prototype.newExtGStateKey=function(t){return this.normalizedEntries().ExtGState.uniqueKey(t)},e.prototype.newExtGState=function(t,e){var n=this.newExtGStateKey(t);return this.setExtGState(n,e),n},e.prototype.ascend=function(t){t(this);var e=this.Parent();e&&e.ascend(t)},e.prototype.normalize=function(){if(!this.normalized){var t=this.context,e=this.get(Re.Contents);this.context.lookup(e)instanceof Le&&this.set(Re.Contents,t.obj([e])),this.autoNormalizeCTM&&this.wrapContentStreams(this.context.getPushGraphicsStateContentStream(),this.context.getPopGraphicsStateContentStream());var n=this.getInheritableAttribute(Re.Resources),o=t.lookupMaybe(n,ze)||t.obj({});this.set(Re.Resources,o);var r=o.lookupMaybe(Re.Font,ze)||t.obj({});o.set(Re.Font,r);var i=o.lookupMaybe(Re.XObject,ze)||t.obj({});o.set(Re.XObject,i);var a=o.lookupMaybe(Re.ExtGState,ze)||t.obj({});o.set(Re.ExtGState,a);var s=this.Annots()||t.obj([]);this.set(Re.Annots,s),this.normalized=!0}},e.prototype.normalizedEntries=function(){this.normalize();var t=this.Annots(),e=this.Resources();return{Annots:t,Resources:e,Contents:this.Contents(),Font:e.lookup(Re.Font,ze),XObject:e.lookup(Re.XObject,ze),ExtGState:e.lookup(Re.ExtGState,ze)}},e.InheritableEntries=["Resources","MediaBox","CropBox","Rotate"],e.withContextAndParent=function(t,n){var o=new Map;return o.set(Re.Type,Re.Page),o.set(Re.Parent,n),o.set(Re.Resources,t.obj({})),o.set(Re.MediaBox,t.obj([0,0,612,792])),new e(o,t,!1)},e.fromMapWithContext=function(t,n,o){return void 0===o&&(o=!0),new e(t,n,o)},e}(ze),tn=function(){function t(t,e){var n=this;this.traversedObjects=new Map,this.copy=function(t){return t instanceof $e?n.copyPDFPage(t):t instanceof ze?n.copyPDFDict(t):t instanceof ke?n.copyPDFArray(t):t instanceof Le?n.copyPDFStream(t):t instanceof Ve?n.copyPDFIndirectObject(t):t.clone()},this.copyPDFPage=function(t){for(var e=t.clone(),o=$e.InheritableEntries,r=0,i=o.length;r<i;r++){var a=Re.of(o[r]),s=e.getInheritableAttribute(a);!e.get(a)&&s&&e.set(a,s)}return e.delete(Re.of("Parent")),n.copyPDFDict(e)},this.copyPDFDict=function(t){if(n.traversedObjects.has(t))return n.traversedObjects.get(t);var e=t.clone(n.dest);n.traversedObjects.set(t,e);for(var o=t.entries(),r=0,i=o.length;r<i;r++){var a=o[r],s=a[0],u=a[1];e.set(s,n.copy(u))}return e},this.copyPDFArray=function(t){if(n.traversedObjects.has(t))return n.traversedObjects.get(t);var e=t.clone(n.dest);n.traversedObjects.set(t,e);for(var o=0,r=t.size();o<r;o++){var i=t.get(o);e.set(o,n.copy(i))}return e},this.copyPDFStream=function(t){if(n.traversedObjects.has(t))return n.traversedObjects.get(t);var e=t.clone(n.dest);n.traversedObjects.set(t,e);for(var o=t.dict.entries(),r=0,i=o.length;r<i;r++){var a=o[r],s=a[0],u=a[1];e.dict.set(s,n.copy(u))}return e},this.copyPDFIndirectObject=function(t){if(!n.traversedObjects.has(t)){var e=n.dest.nextRef();n.traversedObjects.set(t,e);var o=n.src.lookup(t);if(o){var r=n.copy(o);n.dest.assign(e,r)}}return n.traversedObjects.get(t)},this.src=t,this.dest=e}return t.for=function(e,n){return new t(e,n)},t}(),en=function(){function t(t){this.subsections=t?[[t]]:[],this.chunkIdx=0,this.chunkLength=t?1:0}return t.prototype.addEntry=function(t,e){this.append({ref:t,offset:e,deleted:!1})},t.prototype.addDeletedEntry=function(t,e){this.append({ref:t,offset:e,deleted:!0})},t.prototype.toString=function(){for(var t="xref\n",e=0,n=this.subsections.length;e<n;e++){var o=this.subsections[e];t+=o[0].ref.objectNumber+" "+o.length+"\n";for(var r=0,i=o.length;r<i;r++){var a=o[r];t+=k(String(a.offset),10,"0"),t+=" ",t+=k(String(a.ref.generationNumber),5,"0"),t+=" ",t+=a.deleted?"f":"n",t+=" \n"}}return t},t.prototype.sizeInBytes=function(){for(var t=5,e=0,n=this.subsections.length;e<n;e++){var o=this.subsections[e],r=o.length,i=o[0];t+=2,t+=String(i.ref.objectNumber).length,t+=String(r).length,t+=20*r}return t},t.prototype.copyBytesInto=function(t,e){var n=e;return t[e++]=Ht.x,t[e++]=Ht.r,t[e++]=Ht.e,t[e++]=Ht.f,t[e++]=Ht.Newline,(e+=this.copySubsectionsIntoBuffer(this.subsections,t,e))-n},t.prototype.copySubsectionsIntoBuffer=function(t,e,n){for(var o=n,r=t.length,i=0;i<r;i++){var a=this.subsections[i],s=String(a[0].ref.objectNumber);n+=D(s,e,n),e[n++]=Ht.Space;var u=String(a.length);n+=D(u,e,n),e[n++]=Ht.Newline,n+=this.copyEntriesIntoBuffer(a,e,n)}return n-o},t.prototype.copyEntriesIntoBuffer=function(t,e,n){for(var o=t.length,r=0;r<o;r++){var i=t[r],a=k(String(i.offset),10,"0");n+=D(a,e,n),e[n++]=Ht.Space;var s=k(String(i.ref.generationNumber),5,"0");n+=D(s,e,n),e[n++]=Ht.Space,e[n++]=i.deleted?Ht.f:Ht.n,e[n++]=Ht.Space,e[n++]=Ht.Newline}return 20*o},t.prototype.append=function(t){if(0===this.chunkLength)return this.subsections.push([t]),this.chunkIdx=0,void(this.chunkLength=1);var e=this.subsections[this.chunkIdx],n=e[this.chunkLength-1];t.ref.objectNumber-n.ref.objectNumber>1?(this.subsections.push([t]),this.chunkIdx+=1,this.chunkLength=1):(e.push(t),this.chunkLength+=1)},t.create=function(){return new t({ref:Ve.of(0,65535),offset:0,deleted:!0})},t.createEmpty=function(){return new t},t}(),nn=function(){function t(t){this.lastXRefOffset=String(t)}return t.prototype.toString=function(){return"startxref\n"+this.lastXRefOffset+"\n%%EOF"},t.prototype.sizeInBytes=function(){return 16+this.lastXRefOffset.length},t.prototype.copyBytesInto=function(t,e){var n=e;return t[e++]=Ht.s,t[e++]=Ht.t,t[e++]=Ht.a,t[e++]=Ht.r,t[e++]=Ht.t,t[e++]=Ht.x,t[e++]=Ht.r,t[e++]=Ht.e,t[e++]=Ht.f,t[e++]=Ht.Newline,e+=D(this.lastXRefOffset,t,e),t[e++]=Ht.Newline,t[e++]=Ht.Percent,t[e++]=Ht.Percent,t[e++]=Ht.E,t[e++]=Ht.O,t[e++]=Ht.F,e-n},t.forLastCrossRefSectionOffset=function(e){return new t(e)},t}(),on=function(){function t(t){this.dict=t}return t.prototype.toString=function(){return"trailer\n"+this.dict.toString()},t.prototype.sizeInBytes=function(){return 8+this.dict.sizeInBytes()},t.prototype.copyBytesInto=function(t,e){var n=e;return t[e++]=Ht.t,t[e++]=Ht.r,t[e++]=Ht.a,t[e++]=Ht.i,t[e++]=Ht.l,t[e++]=Ht.e,t[e++]=Ht.r,t[e++]=Ht.Newline,(e+=this.dict.copyBytesInto(t,e))-n},t.of=function(e){return new t(e)},t}(),rn=function(t){function e(e,n,o){void 0===o&&(o=!0);var r=t.call(this,e.obj({}),o)||this;return r.objects=n,r.offsets=r.computeObjectOffsets(),r.offsetsString=r.computeOffsetsString(),r.dict.set(Re.of("Type"),Re.of("ObjStm")),r.dict.set(Re.of("N"),Ae.of(r.objects.length)),r.dict.set(Re.of("First"),Ae.of(r.offsetsString.length)),r}return a(e,t),e.prototype.getObjectsCount=function(){return this.objects.length},e.prototype.clone=function(t){return e.withContextAndObjects(t||this.dict.context,this.objects.slice(),this.encode)},e.prototype.getContentsString=function(){for(var t=this.offsetsString,e=0,n=this.objects.length;e<n;e++){t+=this.objects[e][1]+"\n"}return t},e.prototype.getUnencodedContents=function(){for(var t=new Uint8Array(this.getUnencodedContentsSize()),e=D(this.offsetsString,t,0),n=0,o=this.objects.length;n<o;n++){e+=this.objects[n][1].copyBytesInto(t,e),t[e++]=Ht.Newline}return t},e.prototype.getUnencodedContentsSize=function(){return this.offsetsString.length+K(this.offsets)[1]+K(this.objects)[1].sizeInBytes()+1},e.prototype.computeOffsetsString=function(){for(var t="",e=0,n=this.offsets.length;e<n;e++){var o=this.offsets[e];t+=o[0]+" "+o[1]+" "}return t},e.prototype.computeObjectOffsets=function(){for(var t=0,e=new Array(this.objects.length),n=0,o=this.objects.length;n<o;n++){var r=this.objects[n],i=r[0],a=r[1];e[n]=[i.objectNumber,t],t+=a.sizeInBytes()+1}return e},e.withContextAndObjects=function(t,n,o){return void 0===o&&(o=!0),new e(t,n,o)},e}(Ze),an=function(){function t(t,e){var n=this;this.parsedObjects=0,this.shouldWaitForTick=function(t){return n.parsedObjects+=t,n.parsedObjects%n.objectsPerTick===0},this.context=t,this.objectsPerTick=e}return t.prototype.serializeToBuffer=function(){return u(this,0,void 0,(function(){var t,e,n,o,r,i,a,s,u,h,l,f,d,p,g,y,v;return c(this,(function(c){switch(c.label){case 0:return[4,this.computeBufferSize()];case 1:t=c.sent(),e=t.size,n=t.header,o=t.indirectObjects,r=t.xref,i=t.trailerDict,a=t.trailer,s=0,u=new Uint8Array(e),s+=n.copyBytesInto(u,s),u[s++]=Ht.Newline,u[s++]=Ht.Newline,h=0,l=o.length,c.label=2;case 2:return h<l?(f=o[h],d=f[0],p=f[1],g=String(d.objectNumber),s+=D(g,u,s),u[s++]=Ht.Space,y=String(d.generationNumber),s+=D(y,u,s),u[s++]=Ht.Space,u[s++]=Ht.o,u[s++]=Ht.b,u[s++]=Ht.j,u[s++]=Ht.Newline,s+=p.copyBytesInto(u,s),u[s++]=Ht.Newline,u[s++]=Ht.e,u[s++]=Ht.n,u[s++]=Ht.d,u[s++]=Ht.o,u[s++]=Ht.b,u[s++]=Ht.j,u[s++]=Ht.Newline,u[s++]=Ht.Newline,v=p instanceof rn?p.getObjectsCount():1,this.shouldWaitForTick(v)?[4,et()]:[3,4]):[3,5];case 3:c.sent(),c.label=4;case 4:return h++,[3,2];case 5:return r&&(s+=r.copyBytesInto(u,s),u[s++]=Ht.Newline),i&&(s+=i.copyBytesInto(u,s),u[s++]=Ht.Newline,u[s++]=Ht.Newline),s+=a.copyBytesInto(u,s),[2,u]}}))}))},t.prototype.computeIndirectObjectSize=function(t){var e=t[0],n=t[1];return e.sizeInBytes()+3+(n.sizeInBytes()+9)},t.prototype.createTrailerDict=function(){return this.context.obj({Size:this.context.largestObjectNumber+1,Root:this.context.trailerInfo.Root,Encrypt:this.context.trailerInfo.Encrypt,Info:this.context.trailerInfo.Info,ID:this.context.trailerInfo.ID})},t.prototype.computeBufferSize=function(){return u(this,0,void 0,(function(){var t,e,n,o,r,i,a,s,u,h,l;return c(this,(function(c){switch(c.label){case 0:t=Se.forVersion(1,7),e=t.sizeInBytes()+2,n=en.create(),o=this.context.enumerateIndirectObjects(),r=0,i=o.length,c.label=1;case 1:return r<i?(a=o[r],s=a[0],n.addEntry(s,e),e+=this.computeIndirectObjectSize(a),this.shouldWaitForTick(1)?[4,et()]:[3,3]):[3,4];case 2:c.sent(),c.label=3;case 3:return r++,[3,1];case 4:return u=e,e+=n.sizeInBytes()+1,h=on.of(this.createTrailerDict()),e+=h.sizeInBytes()+2,l=nn.forLastCrossRefSectionOffset(u),[2,{size:e+=l.sizeInBytes(),header:t,indirectObjects:o,xref:n,trailerDict:h,trailer:l}]}}))}))},t.forContext=function(e,n){return new t(e,n)},t}(),sn=function(t){function e(e){var n=t.call(this)||this;return n.data=e,n}return a(e,t),e.prototype.clone=function(){return e.of(this.data.slice())},e.prototype.toString=function(){return"PDFInvalidObject("+this.data.length+" bytes)"},e.prototype.sizeInBytes=function(){return this.data.length},e.prototype.copyBytesInto=function(t,e){for(var n=this.data.length,o=0;o<n;o++)t[e++]=this.data[o];return n},e.of=function(t){return new e(t)},e}(Fe);(qe=Xe||(Xe={}))[qe.Deleted=0]="Deleted",qe[qe.Uncompressed=1]="Uncompressed",qe[qe.Compressed=2]="Compressed";var un,cn,hn=function(t){function e(e,n,o){void 0===o&&(o=!0);var r=t.call(this,e,o)||this;return r.computeIndex=function(){for(var t=[],e=0,n=0,o=r.entries.length;n<o;n++){var i=r.entries[n],a=r.entries[n-1];0===n?t.push(i.ref.objectNumber):i.ref.objectNumber-a.ref.objectNumber>1&&(t.push(e),t.push(i.ref.objectNumber),e=0),e+=1}return t.push(e),t},r.computeEntryTuples=function(){for(var t=new Array(r.entries.length),e=0,n=r.entries.length;e<n;e++){var o=r.entries[e];if(o.type===Xe.Deleted){var i=o.type,a=o.nextFreeObjectNumber,s=o.ref;t[e]=[i,a,s.generationNumber]}if(o.type===Xe.Uncompressed){i=o.type;var u=o.offset;s=o.ref;t[e]=[i,u,s.generationNumber]}if(o.type===Xe.Compressed){i=o.type;var c=o.objectStreamRef,h=o.index;t[e]=[i,c.objectNumber,h]}}return t},r.computeMaxEntryByteWidths=function(){for(var t=r.entryTuplesCache.access(),e=[0,0,0],n=0,o=t.length;n<o;n++){var i=t[n],a=i[0],s=i[1],u=i[2],c=bt(a),h=bt(s),l=bt(u);c>e[0]&&(e[0]=c),h>e[1]&&(e[1]=h),l>e[2]&&(e[2]=l)}return e},r.entries=n||[],r.entryTuplesCache=Zt.populatedBy(r.computeEntryTuples),r.maxByteWidthsCache=Zt.populatedBy(r.computeMaxEntryByteWidths),r.indexCache=Zt.populatedBy(r.computeIndex),e.set(Re.of("Type"),Re.of("XRef")),r}return a(e,t),e.prototype.addDeletedEntry=function(t,e){var n=Xe.Deleted;this.entries.push({type:n,ref:t,nextFreeObjectNumber:e}),this.entryTuplesCache.invalidate(),this.maxByteWidthsCache.invalidate(),this.indexCache.invalidate(),this.contentsCache.invalidate()},e.prototype.addUncompressedEntry=function(t,e){var n=Xe.Uncompressed;this.entries.push({type:n,ref:t,offset:e}),this.entryTuplesCache.invalidate(),this.maxByteWidthsCache.invalidate(),this.indexCache.invalidate(),this.contentsCache.invalidate()},e.prototype.addCompressedEntry=function(t,e,n){var o=Xe.Compressed;this.entries.push({type:o,ref:t,objectStreamRef:e,index:n}),this.entryTuplesCache.invalidate(),this.maxByteWidthsCache.invalidate(),this.indexCache.invalidate(),this.contentsCache.invalidate()},e.prototype.clone=function(t){var n=this,o=n.dict,r=n.entries,i=n.encode;return e.of(o.clone(t),r.slice(),i)},e.prototype.getContentsString=function(){for(var t=this.entryTuplesCache.access(),e=this.maxByteWidthsCache.access(),n="",o=0,r=t.length;o<r;o++){for(var i=t[o],a=i[0],s=i[1],u=i[2],c=J(mt(a)),h=J(mt(s)),l=J(mt(u)),f=e[0]-1;f>=0;f--)n+=(c[f]||0).toString(2);for(f=e[1]-1;f>=0;f--)n+=(h[f]||0).toString(2);for(f=e[2]-1;f>=0;f--)n+=(l[f]||0).toString(2)}return n},e.prototype.getUnencodedContents=function(){for(var t=this.entryTuplesCache.access(),e=this.maxByteWidthsCache.access(),n=new Uint8Array(this.getUnencodedContentsSize()),o=0,r=0,i=t.length;r<i;r++){for(var a=t[r],s=a[0],u=a[1],c=a[2],h=J(mt(s)),l=J(mt(u)),f=J(mt(c)),d=e[0]-1;d>=0;d--)n[o++]=h[d]||0;for(d=e[1]-1;d>=0;d--)n[o++]=l[d]||0;for(d=e[2]-1;d>=0;d--)n[o++]=f[d]||0}return n},e.prototype.getUnencodedContentsSize=function(){var t=this.maxByteWidthsCache.access();return Y(t)*this.entries.length},e.prototype.updateDict=function(){t.prototype.updateDict.call(this);var e=this.maxByteWidthsCache.access(),n=this.indexCache.access(),o=this.dict.context;this.dict.set(Re.of("W"),o.obj(e)),this.dict.set(Re.of("Index"),o.obj(n))},e.create=function(t,n){void 0===n&&(n=!0);var o=new e(t,[],n);return o.addDeletedEntry(Ve.of(0,65535),0),o},e.of=function(t,n,o){return void 0===o&&(o=!0),new e(t,n,o)},e}(Ze),ln=function(t){function e(e,n,o,r){var i=t.call(this,e,n)||this;return i.encodeStreams=o,i.objectsPerStream=r,i}return a(e,t),e.prototype.computeBufferSize=function(){return u(this,0,void 0,(function(){var t,e,n,o,r,i,a,s,u,h,l,f,d,p,g,y,v,b,m;return c(this,(function(c){switch(c.label){case 0:t=this.context.largestObjectNumber+1,e=Se.forVersion(1,7),n=e.sizeInBytes()+2,o=hn.create(this.createTrailerDict(),this.encodeStreams),r=[],i=[],a=[],s=this.context.enumerateIndirectObjects(),f=0,d=s.length,c.label=1;case 1:return f<d?(u=s[f],g=u[0],h=u[1],g===this.context.trailerInfo.Encrypt||h instanceof Le||h instanceof sn||0!==g.generationNumber?(r.push(u),o.addUncompressedEntry(g,n),n+=this.computeIndirectObjectSize(u),this.shouldWaitForTick(1)?[4,et()]:[3,3]):[3,4]):[3,6];case 2:c.sent(),c.label=3;case 3:return[3,5];case 4:p=K(i),l=K(a),p&&p.length%this.objectsPerStream!==0||(p=[],i.push(p),l=Ve.of(t++),a.push(l)),o.addCompressedEntry(g,l,p.length),p.push(u),c.label=5;case 5:return f++,[3,1];case 6:f=0,d=i.length,c.label=7;case 7:return f<d?(p=i[f],g=a[f],y=rn.withContextAndObjects(this.context,p,this.encodeStreams),o.addUncompressedEntry(g,n),n+=this.computeIndirectObjectSize([g,y]),r.push([g,y]),this.shouldWaitForTick(p.length)?[4,et()]:[3,9]):[3,10];case 8:c.sent(),c.label=9;case 9:return f++,[3,7];case 10:return v=Ve.of(t++),o.dict.set(Re.of("Size"),Ae.of(t)),o.addUncompressedEntry(v,n),b=n,n+=this.computeIndirectObjectSize([v,o]),r.push([v,o]),m=nn.forLastCrossRefSectionOffset(b),[2,{size:n+=m.sizeInBytes(),header:e,indirectObjects:r,trailer:m}]}}))}))},e.forContext=function(t,n,o,r){return void 0===o&&(o=!0),void 0===r&&(r=50),new e(t,n,o,r)},e}(an),fn=function(t){function e(e){var n=t.call(this)||this;return n.value=e,n}return a(e,t),e.prototype.asBytes=function(){for(var t=this.value+(this.value.length%2==1?"0":""),e=t.length,n=new Uint8Array(t.length/2),o=0,r=0;o<e;){var i=parseInt(t.substring(o,o+2),16);n[r]=i,o+=2,r+=1}return n},e.prototype.decodeText=function(){var t=this.asBytes();return yt(t)?ct(t):qt(t)},e.prototype.decodeDate=function(){var t=this.decodeText(),e=L(t);if(!e)throw new ie(t);return e},e.prototype.asString=function(){return this.value},e.prototype.clone=function(){return e.of(this.value)},e.prototype.toString=function(){return"<"+this.value+">"},e.prototype.sizeInBytes=function(){return this.value.length+2},e.prototype.copyBytesInto=function(t,e){return t[e++]=Ht.LessThan,e+=D(this.value,t,e),t[e++]=Ht.GreaterThan,this.value.length+2},e.of=function(t){return new e(t)},e.fromText=function(t){for(var n=ot(t),o="",r=0,i=n.length;r<i;r++)o+=C(n[r],4);return new e(o)},e}(Fe),dn=function(){function o(o,r){this.encoding=o===t.ZapfDingbats?e.ZapfDingbats:o===t.Symbol?e.Symbol:e.WinAnsi,this.font=n.load(o),this.fontName=this.font.FontName,this.customName=r}return o.prototype.encodeText=function(t){for(var e=this.encodeTextAsGlyphs(t),n=new Array(e.length),o=0,r=e.length;o<r;o++)n[o]=S(e[o].code);return fn.of(n.join(""))},o.prototype.widthOfTextAtSize=function(t,e){for(var n=this.encodeTextAsGlyphs(t),o=0,r=0,i=n.length;r<i;r++){var a=n[r].name,s=(n[r+1]||{}).name,u=this.font.getXAxisKerningForPair(a,s)||0;o+=this.widthOfGlyph(a)+u}return o*(e/1e3)},o.prototype.heightOfFontAtSize=function(t,e){void 0===e&&(e={});var n=e.descender,o=void 0===n||n,r=this.font,i=r.Ascender,a=r.Descender,s=r.FontBBox,u=(i||s[3])-(a||s[1]);return o||(u+=a||0),u/1e3*t},o.prototype.sizeOfFontAtHeight=function(t){var e=this.font,n=e.Ascender,o=e.Descender,r=e.FontBBox;return 1e3*t/((n||r[3])-(o||r[1]))},o.prototype.embedIntoContext=function(t,n){var o=t.obj({Type:"Font",Subtype:"Type1",BaseFont:this.customName||this.fontName,Encoding:this.encoding===e.WinAnsi?"WinAnsiEncoding":void 0});return n?(t.assign(n,o),n):t.register(o)},o.prototype.widthOfGlyph=function(t){return this.font.getWidthOfGlyph(t)||250},o.prototype.encodeTextAsGlyphs=function(t){for(var e=Array.from(t),n=new Array(e.length),o=0,r=e.length;o<r;o++){var i=x(e[o]);n[o]=this.encoding.encodeUnicodeCodePoint(i)}return n},o.for=function(t,e){return new o(t,e)},o}(),pn=function(t){return"/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange\n"+t.length+" beginbfchar\n"+t.map((function(t){return t[0]+" "+t[1]})).join("\n")+"\nendbfchar\nendcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"},gn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"<"+t.join("")+">"},yn=function(t){return C(t,4)},vn=function(t){if(rt(t))return yn(t);if(it(t)){var e=at(t),n=st(t);return""+yn(e)+yn(n)}var o=S(t);throw new Error("0x"+o+" is not a valid UTF-8 or UTF-16 codepoint.")},bn=function(t){function e(e){var n=t.call(this)||this;return n.value=e,n}return a(e,t),e.prototype.asBytes=function(){for(var t=[],e="",n=!1,o=function(e){void 0!==e&&t.push(e),n=!1},r=0,i=this.value.length;r<i;r++){var a=this.value[r],s=w(a),u=this.value[r+1];n?s===Ht.Newline||s===Ht.CarriageReturn?o():s===Ht.n?o(Ht.Newline):s===Ht.r?o(Ht.CarriageReturn):s===Ht.t?o(Ht.Tab):s===Ht.b?o(Ht.Backspace):s===Ht.f?o(Ht.FormFeed):s===Ht.LeftParen?o(Ht.LeftParen):s===Ht.RightParen?o(Ht.RightParen):s===Ht.Backspace?o(Ht.BackSlash):s>=Ht.Zero&&s<=Ht.Seven?3!==(e+=a).length&&u>="0"&&u<="7"||(o(parseInt(e,8)),e=""):o(s):s===Ht.BackSlash?n=!0:o(s)}return new Uint8Array(t)},e.prototype.decodeText=function(){var t=this.asBytes();return yt(t)?ct(t):qt(t)},e.prototype.decodeDate=function(){var t=this.decodeText(),e=L(t);if(!e)throw new ie(t);return e},e.prototype.asString=function(){return this.value},e.prototype.clone=function(){return e.of(this.value)},e.prototype.toString=function(){return"("+this.value+")"},e.prototype.sizeInBytes=function(){return this.value.length+2},e.prototype.copyBytesInto=function(t,e){return t[e++]=Ht.LeftParen,e+=D(this.value,t,e),t[e++]=Ht.RightParen,this.value.length+2},e.of=function(t){return new e(t)},e.fromDate=function(t){return new e("D:"+k(String(t.getUTCFullYear()),4,"0")+k(String(t.getUTCMonth()+1),2,"0")+k(String(t.getUTCDate()),2,"0")+k(String(t.getUTCHours()),2,"0")+k(String(t.getUTCMinutes()),2,"0")+k(String(t.getUTCSeconds()),2,"0")+"Z")},e}(Fe),mn=function(){function t(t,e,n,o){var r=this;this.allGlyphsInFontSortedById=function(){for(var t=new Array(r.font.characterSet.length),e=0,n=t.length;e<n;e++){var o=r.font.characterSet[e];t[e]=r.font.glyphForCodePoint(o)}return Z(t.sort(q),(function(t){return t.id}))},this.font=t,this.scale=1e3/this.font.unitsPerEm,this.fontData=e,this.fontName=this.font.postscriptName||"Font",this.customName=n,this.fontFeatures=o,this.baseFontName="",this.glyphCache=Zt.populatedBy(this.allGlyphsInFontSortedById)}return t.for=function(e,n,o,r){return u(this,0,void 0,(function(){return c(this,(function(i){switch(i.label){case 0:return[4,e.create(n)];case 1:return[2,new t(i.sent(),n,o,r)]}}))}))},t.prototype.encodeText=function(t){for(var e=this.font.layout(t,this.fontFeatures).glyphs,n=new Array(e.length),o=0,r=e.length;o<r;o++)n[o]=C(e[o].id,4);return fn.of(n.join(""))},t.prototype.widthOfTextAtSize=function(t,e){for(var n=this.font.layout(t,this.fontFeatures).glyphs,o=0,r=0,i=n.length;r<i;r++)o+=n[r].advanceWidth*this.scale;return o*(e/1e3)},t.prototype.heightOfFontAtSize=function(t,e){void 0===e&&(e={});var n=e.descender,o=void 0===n||n,r=this.font,i=r.ascent,a=r.descent,s=r.bbox,u=(i||s.maxY)*this.scale-(a||s.minY)*this.scale;return o||(u-=Math.abs(a)||0),u/1e3*t},t.prototype.sizeOfFontAtHeight=function(t){var e=this.font,n=e.ascent,o=e.descent,r=e.bbox;return 1e3*t/((n||r.maxY)*this.scale-(o||r.minY)*this.scale)},t.prototype.embedIntoContext=function(t,e){return this.baseFontName=this.customName||t.addRandomSuffix(this.fontName),this.embedFontDict(t,e)},t.prototype.embedFontDict=function(t,e){return u(this,0,void 0,(function(){var n,o,r;return c(this,(function(i){switch(i.label){case 0:return[4,this.embedCIDFontDict(t)];case 1:return n=i.sent(),o=this.embedUnicodeCmap(t),r=t.obj({Type:"Font",Subtype:"Type0",BaseFont:this.baseFontName,Encoding:"Identity-H",DescendantFonts:[n],ToUnicode:o}),e?(t.assign(e,r),[2,e]):[2,t.register(r)]}}))}))},t.prototype.isCFF=function(){return this.font.cff},t.prototype.embedCIDFontDict=function(t){return u(this,0,void 0,(function(){var e,n;return c(this,(function(o){switch(o.label){case 0:return[4,this.embedFontDescriptor(t)];case 1:return e=o.sent(),n=t.obj({Type:"Font",Subtype:this.isCFF()?"CIDFontType0":"CIDFontType2",CIDToGIDMap:"Identity",BaseFont:this.baseFontName,CIDSystemInfo:{Registry:bn.of("Adobe"),Ordering:bn.of("Identity"),Supplement:0},FontDescriptor:e,W:this.computeWidths()}),[2,t.register(n)]}}))}))},t.prototype.embedFontDescriptor=function(t){return u(this,0,void 0,(function(){var e,n,o,r,i,a,s,u,h,l,f,d,p,g,y;return c(this,(function(c){switch(c.label){case 0:return[4,this.embedFontStream(t)];case 1:return e=c.sent(),n=this.scale,o=this.font,r=o.italicAngle,i=o.ascent,a=o.descent,s=o.capHeight,u=o.xHeight,h=this.font.bbox,l=h.minX,f=h.minY,d=h.maxX,p=h.maxY,g=t.obj(((y={Type:"FontDescriptor",FontName:this.baseFontName,Flags:(w=this.font,x=w["OS/2"]?w["OS/2"].sFamilyClass:0,v={fixedPitch:w.post.isFixedPitch,serif:1<=x&&x<=7,script:10===x,italic:w.head.macStyle.italic},b=0,m=function(t){b|=1<<t-1},v.fixedPitch&&m(1),v.serif&&m(2),m(3),v.script&&m(4),v.nonsymbolic&&m(6),v.italic&&m(7),v.allCap&&m(17),v.smallCap&&m(18),v.forceBold&&m(19),b),FontBBox:[l*n,f*n,d*n,p*n],ItalicAngle:r,Ascent:i*n,Descent:a*n,CapHeight:(s||i)*n,XHeight:(u||0)*n,StemV:0})[this.isCFF()?"FontFile3":"FontFile2"]=e,y)),[2,t.register(g)]}var v,b,m,w,x}))}))},t.prototype.serializeFont=function(){return u(this,0,void 0,(function(){return c(this,(function(t){return[2,this.fontData]}))}))},t.prototype.embedFontStream=function(t){return u(this,0,void 0,(function(){var e,n,o;return c(this,(function(r){switch(r.label){case 0:return o=(n=t).flateStream,[4,this.serializeFont()];case 1:return e=o.apply(n,[r.sent(),{Subtype:this.isCFF()?"CIDFontType0C":void 0}]),[2,t.register(e)]}}))}))},t.prototype.embedUnicodeCmap=function(t){var e=function(t,e){for(var n=new Array(t.length),o=0,r=t.length;o<r;o++){var i=t[o],a=gn(yn(e(i))),s=gn.apply(void 0,i.codePoints.map(vn));n[o]=[a,s]}return pn(n)}(this.glyphCache.access(),this.glyphId.bind(this)),n=t.flateStream(e);return t.register(n)},t.prototype.glyphId=function(t){return t?t.id:-1},t.prototype.computeWidths=function(){for(var t=this.glyphCache.access(),e=[],n=[],o=0,r=t.length;o<r;o++){var i=t[o],a=t[o-1],s=this.glyphId(i),u=this.glyphId(a);0===o?e.push(s):s-u!==1&&(e.push(n),e.push(s),n=[]),n.push(i.advanceWidth*this.scale)}return e.push(n),e},t}(),wn=function(t){function e(e,n,o,r){var i=t.call(this,e,n,o,r)||this;return i.subset=i.font.createSubset(),i.glyphs=[],i.glyphCache=Zt.populatedBy((function(){return i.glyphs})),i.glyphIdMap=new Map,i}return a(e,t),e.for=function(t,n,o,r){return u(this,0,void 0,(function(){return c(this,(function(i){switch(i.label){case 0:return[4,t.create(n)];case 1:return[2,new e(i.sent(),n,o,r)]}}))}))},e.prototype.encodeText=function(t){for(var e=this.font.layout(t,this.fontFeatures).glyphs,n=new Array(e.length),o=0,r=e.length;o<r;o++){var i=e[o],a=this.subset.includeGlyph(i);this.glyphs[a-1]=i,this.glyphIdMap.set(i.id,a),n[o]=C(a,4)}return this.glyphCache.invalidate(),fn.of(n.join(""))},e.prototype.isCFF=function(){return this.subset.cff},e.prototype.glyphId=function(t){return t?this.glyphIdMap.get(t.id):-1},e.prototype.serializeFont=function(){var t=this;return new Promise((function(e,n){var o=[];t.subset.encodeStream().on("data",(function(t){return o.push(t)})).on("end",(function(){return e(H(o))})).on("error",(function(t){return n(t)}))}))},e}(mn);(cn=un||(un={})).Source="Source",cn.Data="Data",cn.Alternative="Alternative",cn.Supplement="Supplement",cn.EncryptedPayload="EncryptedPayload",cn.FormData="EncryptedPayload",cn.Schema="Schema",cn.Unspecified="Unspecified";var xn,Cn,Sn=function(){function t(t,e,n){void 0===n&&(n={}),this.fileData=t,this.fileName=e,this.options=n}return t.for=function(e,n,o){return void 0===o&&(o={}),new t(e,n,o)},t.prototype.embedIntoContext=function(t,e){return u(this,0,void 0,(function(){var n,o,r,i,a,s,u,h,l;return c(this,(function(c){return n=this.options,o=n.mimeType,r=n.description,i=n.creationDate,a=n.modificationDate,s=n.afRelationship,u=t.flateStream(this.fileData,{Type:"EmbeddedFile",Subtype:null!=o?o:void 0,Params:{Size:this.fileData.length,CreationDate:i?bn.fromDate(i):void 0,ModDate:a?bn.fromDate(a):void 0}}),h=t.register(u),l=t.obj({Type:"Filespec",F:bn.of(this.fileName),UF:fn.fromText(this.fileName),EF:{F:h},Desc:r?fn.fromText(r):void 0,AFRelationship:null!=s?s:void 0}),e?(t.assign(e,l),[2,e]):[2,t.register(l)]}))}))},t}(),Fn=[65472,65473,65474,65475,65477,65478,65479,65480,65481,65482,65483,65484,65485,65486,65487];(Cn=xn||(xn={})).DeviceGray="DeviceGray",Cn.DeviceRGB="DeviceRGB",Cn.DeviceCMYK="DeviceCMYK";var An,kn,Dn={1:xn.DeviceGray,3:xn.DeviceRGB,4:xn.DeviceCMYK},Bn=function(){function t(t,e,n,o,r){this.imageData=t,this.bitsPerComponent=e,this.width=n,this.height=o,this.colorSpace=r}return t.for=function(e){return u(this,0,void 0,(function(){var n,o,r,i,a,s,u,h;return c(this,(function(c){if(n=new DataView(e.buffer),65496!==n.getUint16(0))throw new Error("SOI not found in JPEG");for(o=2;o<n.byteLength&&(r=n.getUint16(o),o+=2,!Fn.includes(r));)o+=n.getUint16(o);if(!Fn.includes(r))throw new Error("Invalid JPEG");if(o+=2,i=n.getUint8(o++),a=n.getUint16(o),o+=2,s=n.getUint16(o),o+=2,u=n.getUint8(o++),!(h=Dn[u]))throw new Error("Unknown JPEG channel.");return[2,new t(e,i,s,a,h)]}))}))},t.prototype.embedIntoContext=function(t,e){return u(this,0,void 0,(function(){var n;return c(this,(function(o){return n=t.stream(this.imageData,{Type:"XObject",Subtype:"Image",BitsPerComponent:this.bitsPerComponent,Width:this.width,Height:this.height,ColorSpace:this.colorSpace,Filter:"DCTDecode",Decode:this.colorSpace===xn.DeviceCMYK?[1,0,1,0,1,0,1,0]:void 0}),e?(t.assign(e,n),[2,e]):[2,t.register(n)]}))}))},t}();(kn=An||(An={})).Greyscale="Greyscale",kn.Truecolour="Truecolour",kn.IndexedColour="IndexedColour",kn.GreyscaleWithAlpha="GreyscaleWithAlpha",kn.TruecolourWithAlpha="TruecolourWithAlpha";var Pn,Tn,On,Nn,jn,In,Rn,Mn,En=function(){function t(t){var e=r.decode(t),n=r.toRGBA8(e);if(n.length>1)throw new Error("Animated PNGs are not supported");var o=function(t){for(var e=Math.floor(t.length/4),n=new Uint8Array(3*e),o=new Uint8Array(1*e),r=0,i=0,a=0;r<t.length;)n[i++]=t[r++],n[i++]=t[r++],n[i++]=t[r++],o[a++]=t[r++];return{rgbChannel:n,alphaChannel:o}}(new Uint8Array(n[0])),i=o.rgbChannel,a=o.alphaChannel;this.rgbChannel=i,a.some((function(t){return t<255}))&&(this.alphaChannel=a),this.type=function(t){if(0===t)return An.Greyscale;if(2===t)return An.Truecolour;if(3===t)return An.IndexedColour;if(4===t)return An.GreyscaleWithAlpha;if(6===t)return An.TruecolourWithAlpha;throw new Error("Unknown color type: "+t)}(e.ctype),this.width=e.width,this.height=e.height,this.bitsPerComponent=8}return t.load=function(e){return new t(e)},t}(),Wn=function(){function t(t){this.image=t,this.bitsPerComponent=t.bitsPerComponent,this.width=t.width,this.height=t.height,this.colorSpace="DeviceRGB"}return t.for=function(e){return u(this,0,void 0,(function(){return c(this,(function(n){return[2,new t(En.load(e))]}))}))},t.prototype.embedIntoContext=function(t,e){return u(this,0,void 0,(function(){var n,o;return c(this,(function(r){return n=this.embedAlphaChannel(t),o=t.flateStream(this.image.rgbChannel,{Type:"XObject",Subtype:"Image",BitsPerComponent:this.image.bitsPerComponent,Width:this.image.width,Height:this.image.height,ColorSpace:this.colorSpace,SMask:n}),e?(t.assign(e,o),[2,e]):[2,t.register(o)]}))}))},t.prototype.embedAlphaChannel=function(t){if(this.image.alphaChannel){var e=t.flateStream(this.image.alphaChannel,{Type:"XObject",Subtype:"Image",Height:this.image.height,Width:this.image.width,BitsPerComponent:this.image.bitsPerComponent,ColorSpace:"DeviceGray",Decode:[0,1]});return t.register(e)}},t}(),zn=function(){function t(t,e,n){this.bytes=t,this.start=e||0,this.pos=this.start,this.end=e&&n?e+n:this.bytes.length}return Object.defineProperty(t.prototype,"length",{get:function(){return this.end-this.start},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isEmpty",{get:function(){return 0===this.length},enumerable:!1,configurable:!0}),t.prototype.getByte=function(){return this.pos>=this.end?-1:this.bytes[this.pos++]},t.prototype.getUint16=function(){var t=this.getByte(),e=this.getByte();return-1===t||-1===e?-1:(t<<8)+e},t.prototype.getInt32=function(){return(this.getByte()<<24)+(this.getByte()<<16)+(this.getByte()<<8)+this.getByte()},t.prototype.getBytes=function(t,e){void 0===e&&(e=!1);var n=this.bytes,o=this.pos,r=this.end;if(t){var i=o+t;i>r&&(i=r),this.pos=i;a=n.subarray(o,i);return e?new Uint8ClampedArray(a):a}var a=n.subarray(o,r);return e?new Uint8ClampedArray(a):a},t.prototype.peekByte=function(){var t=this.getByte();return this.pos--,t},t.prototype.peekBytes=function(t,e){void 0===e&&(e=!1);var n=this.getBytes(t,e);return this.pos-=n.length,n},t.prototype.skip=function(t){t||(t=1),this.pos+=t},t.prototype.reset=function(){this.pos=this.start},t.prototype.moveStart=function(){this.start=this.pos},t.prototype.makeSubStream=function(e,n){return new t(this.bytes,e,n)},t.prototype.decode=function(){return this.bytes},t}(),Ln=new Uint8Array(0),Un=function(){function t(t){if(this.pos=0,this.bufferLength=0,this.eof=!1,this.buffer=Ln,this.minBufferLength=512,t)for(;this.minBufferLength<t;)this.minBufferLength*=2}return Object.defineProperty(t.prototype,"isEmpty",{get:function(){for(;!this.eof&&0===this.bufferLength;)this.readBlock();return 0===this.bufferLength},enumerable:!1,configurable:!0}),t.prototype.getByte=function(){for(var t=this.pos;this.bufferLength<=t;){if(this.eof)return-1;this.readBlock()}return this.buffer[this.pos++]},t.prototype.getUint16=function(){var t=this.getByte(),e=this.getByte();return-1===t||-1===e?-1:(t<<8)+e},t.prototype.getInt32=function(){return(this.getByte()<<24)+(this.getByte()<<16)+(this.getByte()<<8)+this.getByte()},t.prototype.getBytes=function(t,e){var n;void 0===e&&(e=!1);var o=this.pos;if(t){for(this.ensureBuffer(o+t),n=o+t;!this.eof&&this.bufferLength<n;)this.readBlock();var r=this.bufferLength;n>r&&(n=r)}else{for(;!this.eof;)this.readBlock();n=this.bufferLength}this.pos=n;var i=this.buffer.subarray(o,n);return!e||i instanceof Uint8ClampedArray?i:new Uint8ClampedArray(i)},t.prototype.peekByte=function(){var t=this.getByte();return this.pos--,t},t.prototype.peekBytes=function(t,e){void 0===e&&(e=!1);var n=this.getBytes(t,e);return this.pos-=n.length,n},t.prototype.skip=function(t){t||(t=1),this.pos+=t},t.prototype.reset=function(){this.pos=0},t.prototype.makeSubStream=function(t,e){for(var n=t+e;this.bufferLength<=n&&!this.eof;)this.readBlock();return new zn(this.buffer,t,e)},t.prototype.decode=function(){for(;!this.eof;)this.readBlock();return this.buffer.subarray(0,this.bufferLength)},t.prototype.readBlock=function(){throw new Jt(this.constructor.name,"readBlock")},t.prototype.ensureBuffer=function(t){var e=this.buffer;if(t<=e.byteLength)return e;for(var n=this.minBufferLength;n<t;)n*=2;var o=new Uint8Array(n);return o.set(e),this.buffer=o},t}(),Kn=function(t){return 32===t||9===t||13===t||10===t},Gn=function(t){function e(e,n){var o=t.call(this,n)||this;return o.stream=e,o.input=new Uint8Array(5),n&&(n*=.8),o}return a(e,t),e.prototype.readBlock=function(){for(var t=this.stream,e=t.getByte();Kn(e);)e=t.getByte();if(-1!==e&&126!==e){var n,o,r=this.bufferLength;if(122===e){for(n=this.ensureBuffer(r+4),o=0;o<4;++o)n[r+o]=0;this.bufferLength+=4}else{var i=this.input;for(i[0]=e,o=1;o<5;++o){for(e=t.getByte();Kn(e);)e=t.getByte();if(i[o]=e,-1===e||126===e)break}if(n=this.ensureBuffer(r+o-1),this.bufferLength+=o-1,o<5){for(;o<5;++o)i[o]=117;this.eof=!0}var a=0;for(o=0;o<5;++o)a=85*a+(i[o]-33);for(o=3;o>=0;--o)n[r+o]=255&a,a>>=8}}else this.eof=!0},e}(Un),Vn=function(t){function e(e,n){var o=t.call(this,n)||this;return o.stream=e,o.firstDigit=-1,n&&(n*=.5),o}return a(e,t),e.prototype.readBlock=function(){var t=this.stream.getBytes(8e3);if(t.length){for(var e=t.length+1>>1,n=this.ensureBuffer(this.bufferLength+e),o=this.bufferLength,r=this.firstDigit,i=0,a=t.length;i<a;i++){var s=t[i],u=void 0;if(s>=48&&s<=57)u=15&s;else{if(!(s>=65&&s<=70||s>=97&&s<=102)){if(62===s){this.eof=!0;break}continue}u=9+(15&s)}r<0?r=u:(n[o++]=r<<4|u,r=-1)}r>=0&&this.eof&&(n[o++]=r<<4,r=-1),this.firstDigit=r,this.bufferLength=o}else this.eof=!0},e}(Un),Hn=new Int32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Xn=new Int32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),qn=new Int32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),Zn=[new Int32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],Jn=[new Int32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5],Yn=function(t){function e(e,n){var o=t.call(this,n)||this;o.stream=e;var r=e.getByte(),i=e.getByte();if(-1===r||-1===i)throw new Error("Invalid header in flate stream: "+r+", "+i);if(8!=(15&r))throw new Error("Unknown compression method in flate stream: "+r+", "+i);if(((r<<8)+i)%31!=0)throw new Error("Bad FCHECK in flate stream: "+r+", "+i);if(32&i)throw new Error("FDICT bit set in flate stream: "+r+", "+i);return o.codeSize=0,o.codeBuf=0,o}return a(e,t),e.prototype.readBlock=function(){var t,e,n=this.stream,o=this.getBits(3);if(1&o&&(this.eof=!0),0!==(o>>=1)){var r,i;if(1===o)r=Zn,i=Jn;else{if(2!==o)throw new Error("Unknown block type in flate stream");var a=this.getBits(5)+257,s=this.getBits(5)+1,u=this.getBits(4)+4,c=new Uint8Array(Hn.length),h=void 0;for(h=0;h<u;++h)c[Hn[h]]=this.getBits(3);var l=this.generateHuffmanTable(c);e=0,h=0;for(var f=a+s,d=new Uint8Array(f),p=void 0,g=void 0,y=void 0;h<f;){var v=this.getCode(l);if(16===v)p=2,g=3,y=e;else if(17===v)p=3,g=3,y=e=0;else{if(18!==v){d[h++]=e=v;continue}p=7,g=11,y=e=0}for(var b=this.getBits(p)+g;b-- >0;)d[h++]=y}r=this.generateHuffmanTable(d.subarray(0,a)),i=this.generateHuffmanTable(d.subarray(a,f))}for(var m=(t=this.buffer)?t.length:0,w=this.bufferLength;;){var x=this.getCode(r);if(x<256)w+1>=m&&(m=(t=this.ensureBuffer(w+1)).length),t[w++]=x;else{if(256===x)return void(this.bufferLength=w);var C=(x=Xn[x-=257])>>16;C>0&&(C=this.getBits(C)),e=(65535&x)+C,x=this.getCode(i),(C=(x=qn[x])>>16)>0&&(C=this.getBits(C));var S=(65535&x)+C;w+e>=m&&(m=(t=this.ensureBuffer(w+e)).length);for(var F=0;F<e;++F,++w)t[w]=t[w-S]}}}else{var A=void 0;if(-1===(A=n.getByte()))throw new Error("Bad block header in flate stream");var k=A;if(-1===(A=n.getByte()))throw new Error("Bad block header in flate stream");if(k|=A<<8,-1===(A=n.getByte()))throw new Error("Bad block header in flate stream");var D=A;if(-1===(A=n.getByte()))throw new Error("Bad block header in flate stream");if((D|=A<<8)!==(65535&~k)&&(0!==k||0!==D))throw new Error("Bad uncompressed block length in flate stream");this.codeBuf=0,this.codeSize=0;var B=this.bufferLength;t=this.ensureBuffer(B+k);var P=B+k;if(this.bufferLength=P,0===k)-1===n.peekByte()&&(this.eof=!0);else for(var T=B;T<P;++T){if(-1===(A=n.getByte())){this.eof=!0;break}t[T]=A}}},e.prototype.getBits=function(t){for(var e,n=this.stream,o=this.codeSize,r=this.codeBuf;o<t;){if(-1===(e=n.getByte()))throw new Error("Bad encoding in flate stream");r|=e<<o,o+=8}return e=r&(1<<t)-1,this.codeBuf=r>>t,this.codeSize=o-=t,e},e.prototype.getCode=function(t){for(var e,n=this.stream,o=t[0],r=t[1],i=this.codeSize,a=this.codeBuf;i<r&&-1!==(e=n.getByte());)a|=e<<i,i+=8;var s=o[a&(1<<r)-1];"number"==typeof o&&console.log("FLATE:",s);var u=s>>16,c=65535&s;if(u<1||i<u)throw new Error("Bad encoding in flate stream");return this.codeBuf=a>>u,this.codeSize=i-u,c},e.prototype.generateHuffmanTable=function(t){var e,n=t.length,o=0;for(e=0;e<n;++e)t[e]>o&&(o=t[e]);for(var r=1<<o,i=new Int32Array(r),a=1,s=0,u=2;a<=o;++a,s<<=1,u<<=1)for(var c=0;c<n;++c)if(t[c]===a){var h=0,l=s;for(e=0;e<a;++e)h=h<<1|1&l,l>>=1;for(e=h;e<r;e+=u)i[e]=a<<16|c;++s}return[i,o]},e}(Un),_n=function(t){function e(e,n,o){var r=t.call(this,n)||this;r.stream=e,r.cachedData=0,r.bitsCached=0;for(var i=4096,a={earlyChange:o,codeLength:9,nextCode:258,dictionaryValues:new Uint8Array(i),dictionaryLengths:new Uint16Array(i),dictionaryPrevCodes:new Uint16Array(i),currentSequence:new Uint8Array(i),currentSequenceLength:0},s=0;s<256;++s)a.dictionaryValues[s]=s,a.dictionaryLengths[s]=1;return r.lzwState=a,r}return a(e,t),e.prototype.readBlock=function(){var t,e,n,o=1024,r=this.lzwState;if(r){var i=r.earlyChange,a=r.nextCode,s=r.dictionaryValues,u=r.dictionaryLengths,c=r.dictionaryPrevCodes,h=r.codeLength,l=r.prevCode,f=r.currentSequence,d=r.currentSequenceLength,p=0,g=this.bufferLength,y=this.ensureBuffer(this.bufferLength+o);for(t=0;t<512;t++){var v=this.readBits(h),b=d>0;if(!v||v<256)f[0]=v,d=1;else{if(!(v>=258)){if(256===v){h=9,a=258,d=0;continue}this.eof=!0,delete this.lzwState;break}if(v<a)for(e=(d=u[v])-1,n=v;e>=0;e--)f[e]=s[n],n=c[n];else f[d++]=f[0]}if(b&&(c[a]=l,u[a]=u[l]+1,s[a]=f[0],h=++a+i&a+i-1?h:0|Math.min(Math.log(a+i)/.6931471805599453+1,12)),l=v,o<(p+=d)){do{o+=512}while(o<p);y=this.ensureBuffer(this.bufferLength+o)}for(e=0;e<d;e++)y[g++]=f[e]}r.nextCode=a,r.codeLength=h,r.prevCode=l,r.currentSequenceLength=d,this.bufferLength=g}},e.prototype.readBits=function(t){for(var e=this.bitsCached,n=this.cachedData;e<t;){var o=this.stream.getByte();if(-1===o)return this.eof=!0,null;n=n<<8|o,e+=8}return this.bitsCached=e-=t,this.cachedData=n,n>>>e&(1<<t)-1},e}(Un),Qn=function(t){function e(e,n){var o=t.call(this,n)||this;return o.stream=e,o}return a(e,t),e.prototype.readBlock=function(){var t=this.stream.getBytes(2);if(!t||t.length<2||128===t[0])this.eof=!0;else{var e,n=this.bufferLength,o=t[0];if(o<128){if((e=this.ensureBuffer(n+o+1))[n++]=t[1],o>0){var r=this.stream.getBytes(o);e.set(r,n),n+=o}}else{o=257-o;var i=t[1];e=this.ensureBuffer(n+o+1);for(var a=0;a<o;a++)e[n++]=i}this.bufferLength=n}},e}(Un),$n=function(t,e,n){if(e===Re.of("FlateDecode"))return new Yn(t);if(e===Re.of("LZWDecode")){var o=1;if(n instanceof ze){var r=n.lookup(Re.of("EarlyChange"));r instanceof Ae&&(o=r.asNumber())}return new _n(t,void 0,o)}if(e===Re.of("ASCII85Decode"))return new Gn(t);if(e===Re.of("ASCIIHexDecode"))return new Vn(t);if(e===Re.of("RunLengthDecode"))return new Qn(t);throw new Qt(e.asString())},to=function(t){var e=t.dict,n=t.contents,o=new zn(n),r=e.lookup(Re.of("Filter")),i=e.lookup(Re.of("DecodeParms"));if(r instanceof Re)o=$n(o,r,i);else if(r instanceof ke)for(var a=0,s=r.size();a<s;a++)o=$n(o,r.lookup(a,Re),i&&i.lookupMaybe(a,ze));else if(r)throw new _t([Re,ke],r);return o},eo=function(){function t(t,e,n){this.page=t;var o=null!=e?e:function(t){var e=t.MediaBox();return{left:0,bottom:0,right:e.lookup(2,Ae).asNumber()-e.lookup(0,Ae).asNumber(),top:e.lookup(3,Ae).asNumber()-e.lookup(1,Ae).asNumber()}}(t);this.width=o.right-o.left,this.height=o.top-o.bottom,this.boundingBox=o,this.transformationMatrix=null!=n?n:function(t){return[1,0,0,1,-t.left,-t.bottom]}(o)}return t.for=function(e,n,o){return u(this,0,void 0,(function(){return c(this,(function(r){return[2,new t(e,n,o)]}))}))},t.prototype.embedIntoContext=function(t,e){return u(this,0,void 0,(function(){var n,o,r,i,a,s,u,h,l,f;return c(this,(function(c){if(n=this.page.normalizedEntries(),o=n.Contents,r=n.Resources,!o)throw new ee;return i=this.decodeContents(o),a=this.boundingBox,s=a.left,u=a.bottom,h=a.right,l=a.top,f=t.flateStream(i,{Type:"XObject",Subtype:"Form",FormType:1,BBox:[s,u,h,l],Matrix:this.transformationMatrix,Resources:r}),e?(t.assign(e,f),[2,e]):[2,t.register(f)]}))}))},t.prototype.decodeContents=function(t){for(var e=Uint8Array.of(Ht.Newline),n=[],o=0,r=t.size();o<r;o++){var i=t.lookup(o,Le),a=void 0;if(i instanceof Ue)a=to(i).decode();else{if(!(i instanceof Je))throw new ne(i);a=i.getUnencodedContents()}n.push(a,e)}return V.apply(void 0,n)},t}(),no=function(t,e){if(void 0!==t)return e[t]};(Tn=Pn||(Pn={})).UseNone="UseNone",Tn.UseOutlines="UseOutlines",Tn.UseThumbs="UseThumbs",Tn.UseOC="UseOC",(Nn=On||(On={})).L2R="L2R",Nn.R2L="R2L",(In=jn||(jn={})).None="None",In.AppDefault="AppDefault",(Mn=Rn||(Rn={})).Simplex="Simplex",Mn.DuplexFlipShortEdge="DuplexFlipShortEdge",Mn.DuplexFlipLongEdge="DuplexFlipLongEdge";var oo,ro,io,ao,so,uo,co,ho,lo=function(){function t(t){this.dict=t}return t.prototype.lookupBool=function(t){var e=this.dict.lookup(Re.of(t));if(e instanceof Be)return e},t.prototype.lookupName=function(t){var e=this.dict.lookup(Re.of(t));if(e instanceof Re)return e},t.prototype.HideToolbar=function(){return this.lookupBool("HideToolbar")},t.prototype.HideMenubar=function(){return this.lookupBool("HideMenubar")},t.prototype.HideWindowUI=function(){return this.lookupBool("HideWindowUI")},t.prototype.FitWindow=function(){return this.lookupBool("FitWindow")},t.prototype.CenterWindow=function(){return this.lookupBool("CenterWindow")},t.prototype.DisplayDocTitle=function(){return this.lookupBool("DisplayDocTitle")},t.prototype.NonFullScreenPageMode=function(){return this.lookupName("NonFullScreenPageMode")},t.prototype.Direction=function(){return this.lookupName("Direction")},t.prototype.PrintScaling=function(){return this.lookupName("PrintScaling")},t.prototype.Duplex=function(){return this.lookupName("Duplex")},t.prototype.PickTrayByPDFSize=function(){return this.lookupBool("PickTrayByPDFSize")},t.prototype.PrintPageRange=function(){var t=this.dict.lookup(Re.of("PrintPageRange"));if(t instanceof ke)return t},t.prototype.NumCopies=function(){var t=this.dict.lookup(Re.of("NumCopies"));if(t instanceof Ae)return t},t.prototype.getHideToolbar=function(){var t,e;return null!==(e=null===(t=this.HideToolbar())||void 0===t?void 0:t.asBoolean())&&void 0!==e&&e},t.prototype.getHideMenubar=function(){var t,e;return null!==(e=null===(t=this.HideMenubar())||void 0===t?void 0:t.asBoolean())&&void 0!==e&&e},t.prototype.getHideWindowUI=function(){var t,e;return null!==(e=null===(t=this.HideWindowUI())||void 0===t?void 0:t.asBoolean())&&void 0!==e&&e},t.prototype.getFitWindow=function(){var t,e;return null!==(e=null===(t=this.FitWindow())||void 0===t?void 0:t.asBoolean())&&void 0!==e&&e},t.prototype.getCenterWindow=function(){var t,e;return null!==(e=null===(t=this.CenterWindow())||void 0===t?void 0:t.asBoolean())&&void 0!==e&&e},t.prototype.getDisplayDocTitle=function(){var t,e;return null!==(e=null===(t=this.DisplayDocTitle())||void 0===t?void 0:t.asBoolean())&&void 0!==e&&e},t.prototype.getNonFullScreenPageMode=function(){var t,e,n=null===(t=this.NonFullScreenPageMode())||void 0===t?void 0:t.decodeText();return null!==(e=no(n,Pn))&&void 0!==e?e:Pn.UseNone},t.prototype.getReadingDirection=function(){var t,e,n=null===(t=this.Direction())||void 0===t?void 0:t.decodeText();return null!==(e=no(n,On))&&void 0!==e?e:On.L2R},t.prototype.getPrintScaling=function(){var t,e,n=null===(t=this.PrintScaling())||void 0===t?void 0:t.decodeText();return null!==(e=no(n,jn))&&void 0!==e?e:jn.AppDefault},t.prototype.getDuplex=function(){var t,e=null===(t=this.Duplex())||void 0===t?void 0:t.decodeText();return no(e,Rn)},t.prototype.getPickTrayByPDFSize=function(){var t;return null===(t=this.PickTrayByPDFSize())||void 0===t?void 0:t.asBoolean()},t.prototype.getPrintPageRange=function(){var t=this.PrintPageRange();if(!t)return[];for(var e=[],n=0;n<t.size();n+=2){var o=t.lookup(n,Ae).asNumber(),r=t.lookup(n+1,Ae).asNumber();e.push({start:o,end:r})}return e},t.prototype.getNumCopies=function(){var t,e;return null!==(e=null===(t=this.NumCopies())||void 0===t?void 0:t.asNumber())&&void 0!==e?e:1},t.prototype.setHideToolbar=function(t){var e=this.dict.context.obj(t);this.dict.set(Re.of("HideToolbar"),e)},t.prototype.setHideMenubar=function(t){var e=this.dict.context.obj(t);this.dict.set(Re.of("HideMenubar"),e)},t.prototype.setHideWindowUI=function(t){var e=this.dict.context.obj(t);this.dict.set(Re.of("HideWindowUI"),e)},t.prototype.setFitWindow=function(t){var e=this.dict.context.obj(t);this.dict.set(Re.of("FitWindow"),e)},t.prototype.setCenterWindow=function(t){var e=this.dict.context.obj(t);this.dict.set(Re.of("CenterWindow"),e)},t.prototype.setDisplayDocTitle=function(t){var e=this.dict.context.obj(t);this.dict.set(Re.of("DisplayDocTitle"),e)},t.prototype.setNonFullScreenPageMode=function(t){Pt(t,"nonFullScreenPageMode",Pn);var e=Re.of(t);this.dict.set(Re.of("NonFullScreenPageMode"),e)},t.prototype.setReadingDirection=function(t){Pt(t,"readingDirection",On);var e=Re.of(t);this.dict.set(Re.of("Direction"),e)},t.prototype.setPrintScaling=function(t){Pt(t,"printScaling",jn);var e=Re.of(t);this.dict.set(Re.of("PrintScaling"),e)},t.prototype.setDuplex=function(t){Pt(t,"duplex",Rn);var e=Re.of(t);this.dict.set(Re.of("Duplex"),e)},t.prototype.setPickTrayByPDFSize=function(t){var e=this.dict.context.obj(t);this.dict.set(Re.of("PickTrayByPDFSize"),e)},t.prototype.setPrintPageRange=function(t){Array.isArray(t)||(t=[t]);for(var e=[],n=0,o=t.length;n<o;n++)e.push(t[n].start),e.push(t[n].end);Et(e,"printPageRange",["number"]);var r=this.dict.context.obj(e);this.dict.set(Re.of("PrintPageRange"),r)},t.prototype.setNumCopies=function(t){Wt(t,"numCopies",1,Number.MAX_VALUE),Ut(t,"numCopies");var e=this.dict.context.obj(t);this.dict.set(Re.of("NumCopies"),e)},t.fromDict=function(e){return new t(e)},t.create=function(e){return new t(e.obj({}))},t}(),fo=/\/([^\0\t\n\f\r\ ]+)[\0\t\n\f\r\ ]*(\d*\.\d+|\d+)?[\0\t\n\f\r\ ]+Tf/,po=function(){function t(t,e){this.dict=t,this.ref=e}return t.prototype.T=function(){return this.dict.lookupMaybe(Re.of("T"),bn,fn)},t.prototype.Ff=function(){var t=this.getInheritableAttribute(Re.of("Ff"));return this.dict.context.lookupMaybe(t,Ae)},t.prototype.V=function(){var t=this.getInheritableAttribute(Re.of("V"));return this.dict.context.lookup(t)},t.prototype.Kids=function(){return this.dict.lookupMaybe(Re.of("Kids"),ke)},t.prototype.DA=function(){var t=this.dict.lookup(Re.of("DA"));if(t instanceof bn||t instanceof fn)return t},t.prototype.setKids=function(t){this.dict.set(Re.of("Kids"),this.dict.context.obj(t))},t.prototype.getParent=function(){var e=this.dict.get(Re.of("Parent"));if(e instanceof Ve)return new t(this.dict.lookup(Re.of("Parent"),ze),e)},t.prototype.setParent=function(t){t?this.dict.set(Re.of("Parent"),t):this.dict.delete(Re.of("Parent"))},t.prototype.getFullyQualifiedName=function(){var t=this.getParent();return t?t.getFullyQualifiedName()+"."+this.getPartialName():this.getPartialName()},t.prototype.getPartialName=function(){var t;return null===(t=this.T())||void 0===t?void 0:t.decodeText()},t.prototype.setPartialName=function(t){t?this.dict.set(Re.of("T"),fn.fromText(t)):this.dict.delete(Re.of("T"))},t.prototype.setDefaultAppearance=function(t){this.dict.set(Re.of("DA"),bn.of(t))},t.prototype.getDefaultAppearance=function(){var t=this.DA();return t instanceof fn?t.decodeText():null==t?void 0:t.asString()},t.prototype.setFontSize=function(t){var e,n=null!==(e=this.getFullyQualifiedName())&&void 0!==e?e:"",o=this.getDefaultAppearance();if(!o)throw new le(n);var r=U(o,fo);if(!r.match)throw new fe(n);var i=o.slice(0,r.pos-r.match[0].length),a=r.pos<=o.length?o.slice(r.pos):"",s=i+" /"+r.match[1]+" "+t+" Tf "+a;this.setDefaultAppearance(s)},t.prototype.getFlags=function(){var t,e;return null!==(e=null===(t=this.Ff())||void 0===t?void 0:t.asNumber())&&void 0!==e?e:0},t.prototype.setFlags=function(t){this.dict.set(Re.of("Ff"),Ae.of(t))},t.prototype.hasFlag=function(t){return 0!==(this.getFlags()&t)},t.prototype.setFlag=function(t){var e=this.getFlags();this.setFlags(e|t)},t.prototype.clearFlag=function(t){var e=this.getFlags();this.setFlags(e&~t)},t.prototype.setFlagTo=function(t,e){e?this.setFlag(t):this.clearFlag(t)},t.prototype.getInheritableAttribute=function(t){var e;return this.ascend((function(n){e||(e=n.dict.get(t))})),e},t.prototype.ascend=function(t){t(this);var e=this.getParent();e&&e.ascend(t)},t}(),go=function(){function t(t){this.dict=t}return t.prototype.W=function(){var t=this.dict.lookup(Re.of("W"));if(t instanceof Ae)return t},t.prototype.getWidth=function(){var t,e;return null!==(e=null===(t=this.W())||void 0===t?void 0:t.asNumber())&&void 0!==e?e:1},t.prototype.setWidth=function(t){var e=this.dict.context.obj(t);this.dict.set(Re.of("W"),e)},t.fromDict=function(e){return new t(e)},t}(),yo=function(){function t(t){this.dict=t}return t.prototype.Rect=function(){return this.dict.lookup(Re.of("Rect"),ke)},t.prototype.AP=function(){return this.dict.lookupMaybe(Re.of("AP"),ze)},t.prototype.F=function(){var t=this.dict.lookup(Re.of("F"));return this.dict.context.lookupMaybe(t,Ae)},t.prototype.getRectangle=function(){var t,e=this.Rect();return null!==(t=null==e?void 0:e.asRectangle())&&void 0!==t?t:{x:0,y:0,width:0,height:0}},t.prototype.setRectangle=function(t){var e=t.x,n=t.y,o=t.width,r=t.height,i=this.dict.context.obj([e,n,e+o,n+r]);this.dict.set(Re.of("Rect"),i)},t.prototype.getAppearanceState=function(){var t=this.dict.lookup(Re.of("AS"));if(t instanceof Re)return t},t.prototype.setAppearanceState=function(t){this.dict.set(Re.of("AS"),t)},t.prototype.setAppearances=function(t){this.dict.set(Re.of("AP"),t)},t.prototype.ensureAP=function(){var t=this.AP();return t||(t=this.dict.context.obj({}),this.dict.set(Re.of("AP"),t)),t},t.prototype.getNormalAppearance=function(){var t=this.ensureAP().get(Re.of("N"));if(t instanceof Ve||t instanceof ze)return t;throw new Error("Unexpected N type: "+(null==t?void 0:t.constructor.name))},t.prototype.setNormalAppearance=function(t){this.ensureAP().set(Re.of("N"),t)},t.prototype.setRolloverAppearance=function(t){this.ensureAP().set(Re.of("R"),t)},t.prototype.setDownAppearance=function(t){this.ensureAP().set(Re.of("D"),t)},t.prototype.removeRolloverAppearance=function(){var t=this.AP();null==t||t.delete(Re.of("R"))},t.prototype.removeDownAppearance=function(){var t=this.AP();null==t||t.delete(Re.of("D"))},t.prototype.getAppearances=function(){var t=this.AP();if(t)return{normal:t.lookup(Re.of("N"),ze,Le),rollover:t.lookupMaybe(Re.of("R"),ze,Le),down:t.lookupMaybe(Re.of("D"),ze,Le)}},t.prototype.getFlags=function(){var t,e;return null!==(e=null===(t=this.F())||void 0===t?void 0:t.asNumber())&&void 0!==e?e:0},t.prototype.setFlags=function(t){this.dict.set(Re.of("F"),Ae.of(t))},t.prototype.hasFlag=function(t){return 0!==(this.getFlags()&t)},t.prototype.setFlag=function(t){var e=this.getFlags();this.setFlags(e|t)},t.prototype.clearFlag=function(t){var e=this.getFlags();this.setFlags(e&~t)},t.prototype.setFlagTo=function(t,e){e?this.setFlag(t):this.clearFlag(t)},t.fromDict=function(e){return new t(e)},t}(),vo=function(){function t(t){this.dict=t}return t.prototype.R=function(){var t=this.dict.lookup(Re.of("R"));if(t instanceof Ae)return t},t.prototype.BC=function(){var t=this.dict.lookup(Re.of("BC"));if(t instanceof ke)return t},t.prototype.BG=function(){var t=this.dict.lookup(Re.of("BG"));if(t instanceof ke)return t},t.prototype.CA=function(){var t=this.dict.lookup(Re.of("CA"));if(t instanceof fn||t instanceof bn)return t},t.prototype.RC=function(){var t=this.dict.lookup(Re.of("RC"));if(t instanceof fn||t instanceof bn)return t},t.prototype.AC=function(){var t=this.dict.lookup(Re.of("AC"));if(t instanceof fn||t instanceof bn)return t},t.prototype.getRotation=function(){var t;return null===(t=this.R())||void 0===t?void 0:t.asNumber()},t.prototype.getBorderColor=function(){var t=this.BC();if(t){for(var e=[],n=0,o=null==t?void 0:t.size();n<o;n++){var r=t.get(n);r instanceof Ae&&e.push(r.asNumber())}return e}},t.prototype.getBackgroundColor=function(){var t=this.BG();if(t){for(var e=[],n=0,o=null==t?void 0:t.size();n<o;n++){var r=t.get(n);r instanceof Ae&&e.push(r.asNumber())}return e}},t.prototype.getCaptions=function(){var t=this.CA(),e=this.RC(),n=this.AC();return{normal:null==t?void 0:t.decodeText(),rollover:null==e?void 0:e.decodeText(),down:null==n?void 0:n.decodeText()}},t.prototype.setRotation=function(t){var e=this.dict.context.obj(t);this.dict.set(Re.of("R"),e)},t.prototype.setBorderColor=function(t){var e=this.dict.context.obj(t);this.dict.set(Re.of("BC"),e)},t.prototype.setBackgroundColor=function(t){var e=this.dict.context.obj(t);this.dict.set(Re.of("BG"),e)},t.prototype.setCaptions=function(t){var e=fn.fromText(t.normal);if(this.dict.set(Re.of("CA"),e),t.rollover){var n=fn.fromText(t.rollover);this.dict.set(Re.of("RC"),n)}else this.dict.delete(Re.of("RC"));if(t.down){var o=fn.fromText(t.down);this.dict.set(Re.of("AC"),o)}else this.dict.delete(Re.of("AC"))},t.fromDict=function(e){return new t(e)},t}(),bo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.MK=function(){var t=this.dict.lookup(Re.of("MK"));if(t instanceof ze)return t},e.prototype.BS=function(){var t=this.dict.lookup(Re.of("BS"));if(t instanceof ze)return t},e.prototype.DA=function(){var t=this.dict.lookup(Re.of("DA"));if(t instanceof bn||t instanceof fn)return t},e.prototype.P=function(){var t=this.dict.get(Re.of("P"));if(t instanceof Ve)return t},e.prototype.setP=function(t){this.dict.set(Re.of("P"),t)},e.prototype.setDefaultAppearance=function(t){this.dict.set(Re.of("DA"),bn.of(t))},e.prototype.getDefaultAppearance=function(){var t=this.DA();return t instanceof fn?t.decodeText():null==t?void 0:t.asString()},e.prototype.getAppearanceCharacteristics=function(){var t=this.MK();if(t)return vo.fromDict(t)},e.prototype.getOrCreateAppearanceCharacteristics=function(){var t=this.MK();if(t)return vo.fromDict(t);var e=vo.fromDict(this.dict.context.obj({}));return this.dict.set(Re.of("MK"),e.dict),e},e.prototype.getBorderStyle=function(){var t=this.BS();if(t)return go.fromDict(t)},e.prototype.getOrCreateBorderStyle=function(){var t=this.BS();if(t)return go.fromDict(t);var e=go.fromDict(this.dict.context.obj({}));return this.dict.set(Re.of("BS"),e.dict),e},e.prototype.getOnValue=function(){var t,e=null===(t=this.getAppearances())||void 0===t?void 0:t.normal;if(e instanceof ze)for(var n=e.keys(),o=0,r=n.length;o<r;o++){var i=n[o];if(i!==Re.of("Off"))return i}},e.fromDict=function(t){return new e(t)},e.create=function(t,n){return new e(t.obj({Type:"Annot",Subtype:"Widget",Rect:[0,0,0,0],Parent:n}))},e}(yo),mo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.FT=function(){var t=this.getInheritableAttribute(Re.of("FT"));return this.dict.context.lookup(t,Re)},e.prototype.getWidgets=function(){var t=this.Kids();if(!t)return[bo.fromDict(this.dict)];for(var e=new Array(t.size()),n=0,o=t.size();n<o;n++){var r=t.lookup(n,ze);e[n]=bo.fromDict(r)}return e},e.prototype.addWidget=function(t){this.normalizedEntries().Kids.push(t)},e.prototype.removeWidget=function(t){var e=this.Kids();if(e){if(t<0||t>e.size())throw new ue(t,0,e.size());e.remove(t)}else{if(0!==t)throw new ue(t,0,0);this.setKids([])}},e.prototype.normalizedEntries=function(){var t=this.Kids();return t||(t=this.dict.context.obj([this.ref]),this.dict.set(Re.of("Kids"),t)),{Kids:t}},e.fromDict=function(t,n){return new e(t,n)},e}(po),wo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.Opt=function(){return this.dict.lookupMaybe(Re.of("Opt"),bn,fn,ke)},e.prototype.setOpt=function(t){this.dict.set(Re.of("Opt"),this.dict.context.obj(t))},e.prototype.getExportValues=function(){var t=this.Opt();if(t){if(t instanceof bn||t instanceof fn)return[t];for(var e=[],n=0,o=t.size();n<o;n++){var r=t.lookup(n);(r instanceof bn||r instanceof fn)&&e.push(r)}return e}},e.prototype.removeExportValue=function(t){var e=this.Opt();if(e)if(e instanceof bn||e instanceof fn){if(0!==t)throw new ue(t,0,0);this.setOpt([])}else{if(t<0||t>e.size())throw new ue(t,0,e.size());e.remove(t)}},e.prototype.normalizeExportValues=function(){for(var t,e,n,o,r=null!==(t=this.getExportValues())&&void 0!==t?t:[],i=[],a=this.getWidgets(),s=0,u=a.length;s<u;s++){var c=a[s],h=null!==(e=r[s])&&void 0!==e?e:fn.fromText(null!==(o=null===(n=c.getOnValue())||void 0===n?void 0:n.decodeText())&&void 0!==o?o:"");i.push(h)}this.setOpt(i)},e.prototype.addOpt=function(t,e){var n;this.normalizeExportValues();var o,r=t.decodeText();if(e)for(var i=null!==(n=this.getExportValues())&&void 0!==n?n:[],a=0,s=i.length;a<s;a++){i[a].decodeText()===r&&(o=a)}var u=this.Opt();return u.push(t),null!=o?o:u.size()-1},e.prototype.addWidgetWithOpt=function(t,e,n){var o=this.addOpt(e,n),r=Re.of(String(o));return this.addWidget(t),r},e}(mo),xo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.setValue=function(t){var e;if(t!==(null!==(e=this.getOnValue())&&void 0!==e?e:Re.of("Yes"))&&t!==Re.of("Off"))throw new ce;this.dict.set(Re.of("V"),t);for(var n=this.getWidgets(),o=0,r=n.length;o<r;o++){var i=n[o],a=i.getOnValue()===t?t:Re.of("Off");i.setAppearanceState(a)}},e.prototype.getValue=function(){var t=this.V();return t instanceof Re?t:Re.of("Off")},e.prototype.getOnValue=function(){var t=this.getWidgets()[0];return null==t?void 0:t.getOnValue()},e.fromDict=function(t,n){return new e(t,n)},e.create=function(t){var n=t.obj({FT:"Btn",Kids:[]});return new e(n,t.register(n))},e}(wo),Co=function(t){return 1<<t};(ro=oo||(oo={}))[ro.ReadOnly=Co(0)]="ReadOnly",ro[ro.Required=Co(1)]="Required",ro[ro.NoExport=Co(2)]="NoExport",(ao=io||(io={}))[ao.NoToggleToOff=Co(14)]="NoToggleToOff",ao[ao.Radio=Co(15)]="Radio",ao[ao.PushButton=Co(16)]="PushButton",ao[ao.RadiosInUnison=Co(25)]="RadiosInUnison",(uo=so||(so={}))[uo.Multiline=Co(12)]="Multiline",uo[uo.Password=Co(13)]="Password",uo[uo.FileSelect=Co(20)]="FileSelect",uo[uo.DoNotSpellCheck=Co(22)]="DoNotSpellCheck",uo[uo.DoNotScroll=Co(23)]="DoNotScroll",uo[uo.Comb=Co(24)]="Comb",uo[uo.RichText=Co(25)]="RichText",(ho=co||(co={}))[ho.Combo=Co(17)]="Combo",ho[ho.Edit=Co(18)]="Edit",ho[ho.Sort=Co(19)]="Sort",ho[ho.MultiSelect=Co(21)]="MultiSelect",ho[ho.DoNotSpellCheck=Co(22)]="DoNotSpellCheck",ho[ho.CommitOnSelChange=Co(26)]="CommitOnSelChange";var So=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.setValues=function(t){if(this.hasFlag(co.Combo)&&!this.hasFlag(co.Edit)&&!this.valuesAreValid(t))throw new ce;if(0===t.length&&this.dict.delete(Re.of("V")),1===t.length&&this.dict.set(Re.of("V"),t[0]),t.length>1){if(!this.hasFlag(co.MultiSelect))throw new he;this.dict.set(Re.of("V"),this.dict.context.obj(t))}this.updateSelectedIndices(t)},e.prototype.valuesAreValid=function(t){for(var e=this.getOptions(),n=function(n,o){var r=t[n].decodeText();if(!e.find((function(t){return r===(t.display||t.value).decodeText()})))return{value:!1}},o=0,r=t.length;o<r;o++){var i=n(o);if("object"==typeof i)return i.value}return!0},e.prototype.updateSelectedIndices=function(t){if(t.length>1){for(var e=new Array(t.length),n=this.getOptions(),o=function(o,r){var i=t[o].decodeText();e[o]=n.findIndex((function(t){return i===(t.display||t.value).decodeText()}))},r=0,i=t.length;r<i;r++)o(r);this.dict.set(Re.of("I"),this.dict.context.obj(e.sort()))}else this.dict.delete(Re.of("I"))},e.prototype.getValues=function(){var t=this.V();if(t instanceof bn||t instanceof fn)return[t];if(t instanceof ke){for(var e=[],n=0,o=t.size();n<o;n++){var r=t.lookup(n);(r instanceof bn||r instanceof fn)&&e.push(r)}return e}return[]},e.prototype.Opt=function(){return this.dict.lookupMaybe(Re.of("Opt"),bn,fn,ke)},e.prototype.setOptions=function(t){for(var e=new Array(t.length),n=0,o=t.length;n<o;n++){var r=t[n],i=r.value,a=r.display;e[n]=this.dict.context.obj([i,a||i])}this.dict.set(Re.of("Opt"),this.dict.context.obj(e))},e.prototype.getOptions=function(){var t=this.Opt();if(t instanceof bn||t instanceof fn)return[{value:t,display:t}];if(t instanceof ke){for(var e=[],n=0,o=t.size();n<o;n++){var r=t.lookup(n);if((r instanceof bn||r instanceof fn)&&e.push({value:r,display:r}),r instanceof ke&&r.size()>0){var i=r.lookup(0,bn,fn),a=r.lookupMaybe(1,bn,fn);e.push({value:i,display:a||i})}}return e}return[]},e}(mo),Fo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.fromDict=function(t,n){return new e(t,n)},e.create=function(t){var n=t.obj({FT:"Ch",Ff:co.Combo,Kids:[]});return new e(n,t.register(n))},e}(So),Ao=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.addField=function(t){var e=this.normalizedEntries().Kids;null==e||e.push(t)},e.prototype.normalizedEntries=function(){var t=this.Kids();return t||(t=this.dict.context.obj([]),this.dict.set(Re.of("Kids"),t)),{Kids:t}},e.fromDict=function(t,n){return new e(t,n)},e.create=function(t){var n=t.obj({});return new e(n,t.register(n))},e}(po),ko=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.fromDict=function(t,n){return new e(t,n)},e}(mo),Do=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.MaxLen=function(){var t=this.dict.lookup(Re.of("MaxLen"));if(t instanceof Ae)return t},e.prototype.Q=function(){var t=this.dict.lookup(Re.of("Q"));if(t instanceof Ae)return t},e.prototype.setMaxLength=function(t){this.dict.set(Re.of("MaxLen"),Ae.of(t))},e.prototype.removeMaxLength=function(){this.dict.delete(Re.of("MaxLen"))},e.prototype.getMaxLength=function(){var t;return null===(t=this.MaxLen())||void 0===t?void 0:t.asNumber()},e.prototype.setQuadding=function(t){this.dict.set(Re.of("Q"),Ae.of(t))},e.prototype.getQuadding=function(){var t;return null===(t=this.Q())||void 0===t?void 0:t.asNumber()},e.prototype.setValue=function(t){this.dict.set(Re.of("V"),t)},e.prototype.removeValue=function(){this.dict.delete(Re.of("V"))},e.prototype.getValue=function(){var t=this.V();if(t instanceof bn||t instanceof fn)return t},e.fromDict=function(t,n){return new e(t,n)},e.create=function(t){var n=t.obj({FT:"Tx",Kids:[]});return new e(n,t.register(n))},e}(mo),Bo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.fromDict=function(t,n){return new e(t,n)},e.create=function(t){var n=t.obj({FT:"Btn",Ff:io.PushButton,Kids:[]});return new e(n,t.register(n))},e}(wo),Po=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.setValue=function(t){if(!this.getOnValues().includes(t)&&t!==Re.of("Off"))throw new ce;this.dict.set(Re.of("V"),t);for(var e=this.getWidgets(),n=0,o=e.length;n<o;n++){var r=e[n],i=r.getOnValue()===t?t:Re.of("Off");r.setAppearanceState(i)}},e.prototype.getValue=function(){var t=this.V();return t instanceof Re?t:Re.of("Off")},e.prototype.getOnValues=function(){for(var t=this.getWidgets(),e=[],n=0,o=t.length;n<o;n++){var r=t[n].getOnValue();r&&e.push(r)}return e},e.fromDict=function(t,n){return new e(t,n)},e.create=function(t){var n=t.obj({FT:"Btn",Ff:io.Radio,Kids:[]});return new e(n,t.register(n))},e}(wo),To=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.fromDict=function(t,n){return new e(t,n)},e.create=function(t){var n=t.obj({FT:"Ch",Kids:[]});return new e(n,t.register(n))},e}(So),Oo=function(t){if(!t)return[];for(var e=[],n=0,o=t.size();n<o;n++){var r=t.get(n),i=t.lookup(n);r instanceof Ve&&i instanceof ze&&e.push([No(i,r),r])}return e},No=function(t,e){return jo(t)?Ao.fromDict(t,e):Io(t,e)},jo=function(t){var e=t.lookup(Re.of("Kids"));if(e instanceof ke)for(var n=0,o=e.size();n<o;n++){var r=e.lookup(n);if(r instanceof ze&&r.has(Re.of("T")))return!0}return!1},Io=function(t,e){var n=Wo(t,Re.of("FT")),o=t.context.lookup(n,Re);return o===Re.of("Btn")?Ro(t,e):o===Re.of("Ch")?Mo(t,e):o===Re.of("Tx")?Do.fromDict(t,e):o===Re.of("Sig")?ko.fromDict(t,e):mo.fromDict(t,e)},Ro=function(t,e){var n,o=Wo(t,Re.of("Ff")),r=t.context.lookupMaybe(o,Ae),i=null!==(n=null==r?void 0:r.asNumber())&&void 0!==n?n:0;return Eo(i,io.PushButton)?Bo.fromDict(t,e):Eo(i,io.Radio)?Po.fromDict(t,e):xo.fromDict(t,e)},Mo=function(t,e){var n,o=Wo(t,Re.of("Ff")),r=t.context.lookupMaybe(o,Ae),i=null!==(n=null==r?void 0:r.asNumber())&&void 0!==n?n:0;return Eo(i,co.Combo)?Fo.fromDict(t,e):To.fromDict(t,e)},Eo=function(t,e){return 0!==(t&e)},Wo=function(t,e){var n;return zo(t,(function(t){n||(n=t.get(e))})),n},zo=function(t,e){e(t);var n=t.lookupMaybe(Re.of("Parent"),ze);n&&zo(n,e)},Lo=function(){function t(t){this.dict=t}return t.prototype.Fields=function(){var t=this.dict.lookup(Re.of("Fields"));if(t instanceof ke)return t},t.prototype.getFields=function(){for(var t=this.normalizedEntries().Fields,e=new Array(t.size()),n=0,o=t.size();n<o;n++){var r=t.get(n),i=t.lookup(n,ze);e[n]=[No(i,r),r]}return e},t.prototype.getAllFields=function(){var t=[],e=function(n){if(n)for(var o=0,r=n.length;o<r;o++){var i=n[o];t.push(i);var a=i[0];a instanceof Ao&&e(Oo(a.Kids()))}};return e(this.getFields()),t},t.prototype.addField=function(t){var e=this.normalizedEntries().Fields;null==e||e.push(t)},t.prototype.removeField=function(t){var e=t.getParent(),n=void 0===e?this.normalizedEntries().Fields:e.Kids(),o=null==n?void 0:n.indexOf(t.ref);if(void 0===n||void 0===o)throw new Error("Tried to remove inexistent field "+t.getFullyQualifiedName());n.remove(o),void 0!==e&&0===n.size()&&this.removeField(e)},t.prototype.normalizedEntries=function(){var t=this.Fields();return t||(t=this.dict.context.obj([]),this.dict.set(Re.of("Fields"),t)),{Fields:t}},t.fromDict=function(e){return new t(e)},t.create=function(e){return new t(e.obj({Fields:[]}))},t}(),Uo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.Pages=function(){return this.lookup(Re.of("Pages"),ze)},e.prototype.AcroForm=function(){return this.lookupMaybe(Re.of("AcroForm"),ze)},e.prototype.getAcroForm=function(){var t=this.AcroForm();if(t)return Lo.fromDict(t)},e.prototype.getOrCreateAcroForm=function(){var t=this.getAcroForm();if(!t){t=Lo.create(this.context);var e=this.context.register(t.dict);this.set(Re.of("AcroForm"),e)}return t},e.prototype.ViewerPreferences=function(){return this.lookupMaybe(Re.of("ViewerPreferences"),ze)},e.prototype.getViewerPreferences=function(){var t=this.ViewerPreferences();if(t)return lo.fromDict(t)},e.prototype.getOrCreateViewerPreferences=function(){var t=this.getViewerPreferences();if(!t){t=lo.create(this.context);var e=this.context.register(t.dict);this.set(Re.of("ViewerPreferences"),e)}return t},e.prototype.insertLeafNode=function(t,e){var n=this.get(Re.of("Pages"));return this.Pages().insertLeafNode(t,e)||n},e.prototype.removeLeafNode=function(t){this.Pages().removeLeafNode(t)},e.withContextAndPages=function(t,n){var o=new Map;return o.set(Re.of("Type"),Re.of("Catalog")),o.set(Re.of("Pages"),n),new e(o,t)},e.fromMapWithContext=function(t,n){return new e(t,n)},e}(ze),Ko=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.Parent=function(){return this.lookup(Re.of("Parent"))},e.prototype.Kids=function(){return this.lookup(Re.of("Kids"),ke)},e.prototype.Count=function(){return this.lookup(Re.of("Count"),Ae)},e.prototype.pushTreeNode=function(t){this.Kids().push(t)},e.prototype.pushLeafNode=function(t){var e=this.Kids();this.insertLeafKid(e.size(),t)},e.prototype.insertLeafNode=function(t,n){var o=this.Kids(),r=this.Count().asNumber();if(n>r)throw new ae(n,r);for(var i=n,a=0,s=o.size();a<s;a++){if(0===i)return void this.insertLeafKid(a,t);var u=o.get(a),c=this.context.lookup(u);if(c instanceof e){if(c.Count().asNumber()>i)return c.insertLeafNode(t,i)||u;i-=c.Count().asNumber()}c instanceof $e&&(i-=1)}if(0!==i)throw new se(n,"insertLeafNode");this.insertLeafKid(o.size(),t)},e.prototype.removeLeafNode=function(t,n){void 0===n&&(n=!0);var o=this.Kids(),r=this.Count().asNumber();if(t>=r)throw new ae(t,r);for(var i=t,a=0,s=o.size();a<s;a++){var u=o.get(a),c=this.context.lookup(u);if(c instanceof e){if(c.Count().asNumber()>i)return c.removeLeafNode(i,n),void(n&&0===c.Kids().size()&&o.remove(a));i-=c.Count().asNumber()}if(c instanceof $e){if(0===i)return void this.removeKid(a);i-=1}}throw new se(t,"removeLeafNode")},e.prototype.ascend=function(t){t(this);var e=this.Parent();e&&e.ascend(t)},e.prototype.traverse=function(t){for(var n=this.Kids(),o=0,r=n.size();o<r;o++){var i=n.get(o),a=this.context.lookup(i);a instanceof e&&a.traverse(t),t(a,i)}},e.prototype.insertLeafKid=function(t,e){var n=this.Kids();this.ascend((function(t){var e=t.Count().asNumber()+1;t.set(Re.of("Count"),Ae.of(e))})),n.insert(t,e)},e.prototype.removeKid=function(t){var e=this.Kids();e.lookup(t)instanceof $e&&this.ascend((function(t){var e=t.Count().asNumber()-1;t.set(Re.of("Count"),Ae.of(e))})),e.remove(t)},e.withContext=function(t,n){var o=new Map;return o.set(Re.of("Type"),Re.of("Pages")),o.set(Re.of("Kids"),t.obj([])),o.set(Re.of("Count"),t.obj(0)),n&&o.set(Re.of("Parent"),n),new e(o,t)},e.fromMapWithContext=function(t,n){return new e(t,n)},e}(ze),Go=new Uint8Array(256);Go[Ht.Zero]=1,Go[Ht.One]=1,Go[Ht.Two]=1,Go[Ht.Three]=1,Go[Ht.Four]=1,Go[Ht.Five]=1,Go[Ht.Six]=1,Go[Ht.Seven]=1,Go[Ht.Eight]=1,Go[Ht.Nine]=1;var Vo=new Uint8Array(256);Vo[Ht.Period]=1,Vo[Ht.Plus]=1,Vo[Ht.Minus]=1;for(var Ho=new Uint8Array(256),Xo=0;Xo<256;Xo++)Ho[Xo]=Go[Xo]||Vo[Xo]?1:0;var qo,Zo,Jo=Ht.Newline,Yo=Ht.CarriageReturn,_o=function(){function t(t,e){void 0===e&&(e=!1),this.bytes=t,this.capNumbers=e}return t.prototype.parseRawInt=function(){for(var t="";!this.bytes.done();){var e=this.bytes.peek();if(!Go[e])break;t+=F(this.bytes.next())}var n=Number(t);if(!t||!isFinite(n))throw new de(this.bytes.position(),t);return n},t.prototype.parseRawNumber=function(){for(var t="";!this.bytes.done();){var e=this.bytes.peek();if(!Ho[e])break;if(t+=F(this.bytes.next()),e===Ht.Period)break}for(;!this.bytes.done();){e=this.bytes.peek();if(!Go[e])break;t+=F(this.bytes.next())}var n=Number(t);if(!t||!isFinite(n))throw new de(this.bytes.position(),t);if(n>Number.MAX_SAFE_INTEGER){if(this.capNumbers){var o="Parsed number that is too large for some PDF readers: "+t+", using Number.MAX_SAFE_INTEGER instead.";return console.warn(o),Number.MAX_SAFE_INTEGER}o="Parsed number that is too large for some PDF readers: "+t+", not capping.";console.warn(o)}return n},t.prototype.skipWhitespace=function(){for(;!this.bytes.done()&&Te[this.bytes.peek()];)this.bytes.next()},t.prototype.skipLine=function(){for(;!this.bytes.done();){var t=this.bytes.peek();if(t===Jo||t===Yo)return;this.bytes.next()}},t.prototype.skipComment=function(){if(this.bytes.peek()!==Ht.Percent)return!1;for(;!this.bytes.done();){var t=this.bytes.peek();if(t===Jo||t===Yo)return!0;this.bytes.next()}return!0},t.prototype.skipWhitespaceAndComments=function(){for(this.skipWhitespace();this.skipComment();)this.skipWhitespace()},t.prototype.matchKeyword=function(t){for(var e=this.bytes.offset(),n=0,o=t.length;n<o;n++)if(this.bytes.done()||this.bytes.next()!==t[n])return this.bytes.moveTo(e),!1;return!0},t}(),Qo=function(){function t(t){this.idx=0,this.line=0,this.column=0,this.bytes=t,this.length=this.bytes.length}return t.prototype.moveTo=function(t){this.idx=t},t.prototype.next=function(){var t=this.bytes[this.idx++];return t===Ht.Newline?(this.line+=1,this.column=0):this.column+=1,t},t.prototype.assertNext=function(t){if(this.peek()!==t)throw new ge(this.position(),t,this.peek());return this.next()},t.prototype.peek=function(){return this.bytes[this.idx]},t.prototype.peekAhead=function(t){return this.bytes[this.idx+t]},t.prototype.peekAt=function(t){return this.bytes[t]},t.prototype.done=function(){return this.idx>=this.length},t.prototype.offset=function(){return this.idx},t.prototype.slice=function(t,e){return this.bytes.slice(t,e)},t.prototype.position=function(){return{line:this.line,column:this.column,offset:this.idx}},t.of=function(e){return new t(e)},t.fromPDFRawStream=function(e){return t.of(to(e).decode())},t}(),$o=Ht.Space,tr=Ht.CarriageReturn,er=Ht.Newline,nr=[Ht.s,Ht.t,Ht.r,Ht.e,Ht.a,Ht.m],or=[Ht.e,Ht.n,Ht.d,Ht.s,Ht.t,Ht.r,Ht.e,Ht.a,Ht.m],rr={header:[Ht.Percent,Ht.P,Ht.D,Ht.F,Ht.Dash],eof:[Ht.Percent,Ht.Percent,Ht.E,Ht.O,Ht.F],obj:[Ht.o,Ht.b,Ht.j],endobj:[Ht.e,Ht.n,Ht.d,Ht.o,Ht.b,Ht.j],xref:[Ht.x,Ht.r,Ht.e,Ht.f],trailer:[Ht.t,Ht.r,Ht.a,Ht.i,Ht.l,Ht.e,Ht.r],startxref:[Ht.s,Ht.t,Ht.a,Ht.r,Ht.t,Ht.x,Ht.r,Ht.e,Ht.f],true:[Ht.t,Ht.r,Ht.u,Ht.e],false:[Ht.f,Ht.a,Ht.l,Ht.s,Ht.e],null:[Ht.n,Ht.u,Ht.l,Ht.l],stream:nr,streamEOF1:h(nr,[$o,tr,er]),streamEOF2:h(nr,[tr,er]),streamEOF3:h(nr,[tr]),streamEOF4:h(nr,[er]),endstream:or,EOF1endstream:h([tr,er],or),EOF2endstream:h([tr],or),EOF3endstream:h([er],or)},ir=function(t){function e(e,n,o){void 0===o&&(o=!1);var r=t.call(this,e,o)||this;return r.context=n,r}return a(e,t),e.prototype.parseObject=function(){if(this.skipWhitespaceAndComments(),this.matchKeyword(rr.true))return Be.True;if(this.matchKeyword(rr.false))return Be.False;if(this.matchKeyword(rr.null))return Me;var t=this.bytes.peek();if(t===Ht.LessThan&&this.bytes.peekAhead(1)===Ht.LessThan)return this.parseDictOrStream();if(t===Ht.LessThan)return this.parseHexString();if(t===Ht.LeftParen)return this.parseString();if(t===Ht.ForwardSlash)return this.parseName();if(t===Ht.LeftSquareBracket)return this.parseArray();if(Ho[t])return this.parseNumberOrRef();throw new ye(this.bytes.position(),t)},e.prototype.parseNumberOrRef=function(){var t=this.parseRawNumber();this.skipWhitespaceAndComments();var e=this.bytes.offset();if(Go[this.bytes.peek()]){var n=this.parseRawNumber();if(this.skipWhitespaceAndComments(),this.bytes.peek()===Ht.R)return this.bytes.assertNext(Ht.R),Ve.of(t,n)}return this.bytes.moveTo(e),Ae.of(t)},e.prototype.parseHexString=function(){var t="";for(this.bytes.assertNext(Ht.LessThan);!this.bytes.done()&&this.bytes.peek()!==Ht.GreaterThan;)t+=F(this.bytes.next());return this.bytes.assertNext(Ht.GreaterThan),fn.of(t)},e.prototype.parseString=function(){for(var t=0,e=!1,n="";!this.bytes.done();){var o=this.bytes.next();if(n+=F(o),e||(o===Ht.LeftParen&&(t+=1),o===Ht.RightParen&&(t-=1)),o===Ht.BackSlash?e=!e:e&&(e=!1),0===t)return bn.of(n.substring(1,n.length-1))}throw new me(this.bytes.position())},e.prototype.parseName=function(){this.bytes.assertNext(Ht.ForwardSlash);for(var t="";!this.bytes.done();){var e=this.bytes.peek();if(Te[e]||Pe[e])break;t+=F(e),this.bytes.next()}return Re.of(t)},e.prototype.parseArray=function(){this.bytes.assertNext(Ht.LeftSquareBracket),this.skipWhitespaceAndComments();for(var t=ke.withContext(this.context);this.bytes.peek()!==Ht.RightSquareBracket;){var e=this.parseObject();t.push(e),this.skipWhitespaceAndComments()}return this.bytes.assertNext(Ht.RightSquareBracket),t},e.prototype.parseDict=function(){this.bytes.assertNext(Ht.LessThan),this.bytes.assertNext(Ht.LessThan),this.skipWhitespaceAndComments();for(var t=new Map;!this.bytes.done()&&this.bytes.peek()!==Ht.GreaterThan&&this.bytes.peekAhead(1)!==Ht.GreaterThan;){var e=this.parseName(),n=this.parseObject();t.set(e,n),this.skipWhitespaceAndComments()}this.skipWhitespaceAndComments(),this.bytes.assertNext(Ht.GreaterThan),this.bytes.assertNext(Ht.GreaterThan);var o=t.get(Re.of("Type"));return o===Re.of("Catalog")?Uo.fromMapWithContext(t,this.context):o===Re.of("Pages")?Ko.fromMapWithContext(t,this.context):o===Re.of("Page")?$e.fromMapWithContext(t,this.context):ze.fromMapWithContext(t,this.context)},e.prototype.parseDictOrStream=function(){var t=this.bytes.position(),e=this.parseDict();if(this.skipWhitespaceAndComments(),!(this.matchKeyword(rr.streamEOF1)||this.matchKeyword(rr.streamEOF2)||this.matchKeyword(rr.streamEOF3)||this.matchKeyword(rr.streamEOF4)||this.matchKeyword(rr.stream)))return e;var n,o=this.bytes.offset(),r=e.get(Re.of("Length"));r instanceof Ae?(n=o+r.asNumber(),this.bytes.moveTo(n),this.skipWhitespaceAndComments(),this.matchKeyword(rr.endstream)||(this.bytes.moveTo(o),n=this.findEndOfStreamFallback(t))):n=this.findEndOfStreamFallback(t);var i=this.bytes.slice(o,n);return Ue.of(e,i)},e.prototype.findEndOfStreamFallback=function(t){for(var e=1,n=this.bytes.offset();!this.bytes.done()&&(n=this.bytes.offset(),this.matchKeyword(rr.stream)?e+=1:this.matchKeyword(rr.EOF1endstream)||this.matchKeyword(rr.EOF2endstream)||this.matchKeyword(rr.EOF3endstream)||this.matchKeyword(rr.endstream)?e-=1:this.bytes.next(),0!==e););if(0!==e)throw new be(t);return n},e.forBytes=function(t,n,o){return new e(Qo.of(t),n,o)},e.forByteStream=function(t,n,o){return void 0===o&&(o=!1),new e(t,n,o)},e}(_o),ar=function(t){function e(e,n){var o=t.call(this,Qo.fromPDFRawStream(e),e.dict.context)||this,r=e.dict;return o.alreadyParsed=!1,o.shouldWaitForTick=n||function(){return!1},o.firstOffset=r.lookup(Re.of("First"),Ae).asNumber(),o.objectCount=r.lookup(Re.of("N"),Ae).asNumber(),o}return a(e,t),e.prototype.parseIntoContext=function(){return u(this,0,void 0,(function(){var t,e,n,o,r,i,a,s;return c(this,(function(u){switch(u.label){case 0:if(this.alreadyParsed)throw new $t("PDFObjectStreamParser","parseIntoContext");this.alreadyParsed=!0,t=this.parseOffsetsAndObjectNumbers(),e=0,n=t.length,u.label=1;case 1:return e<n?(o=t[e],r=o.objectNumber,i=o.offset,this.bytes.moveTo(this.firstOffset+i),a=this.parseObject(),s=Ve.of(r,0),this.context.assign(s,a),this.shouldWaitForTick()?[4,et()]:[3,3]):[3,4];case 2:u.sent(),u.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))},e.prototype.parseOffsetsAndObjectNumbers=function(){for(var t=[],e=0,n=this.objectCount;e<n;e++){this.skipWhitespaceAndComments();var o=this.parseRawInt();this.skipWhitespaceAndComments();var r=this.parseRawInt();t.push({objectNumber:o,offset:r})}return t},e.forStream=function(t,n){return new e(t,n)},e}(ir),sr=function(){function t(t){this.alreadyParsed=!1,this.dict=t.dict,this.bytes=Qo.fromPDFRawStream(t),this.context=this.dict.context;var e=this.dict.lookup(Re.of("Size"),Ae),n=this.dict.lookup(Re.of("Index"));if(n instanceof ke){this.subsections=[];for(var o=0,r=n.size();o<r;o+=2){var i=n.lookup(o+0,Ae).asNumber(),a=n.lookup(o+1,Ae).asNumber();this.subsections.push({firstObjectNumber:i,length:a})}}else this.subsections=[{firstObjectNumber:0,length:e.asNumber()}];var s=this.dict.lookup(Re.of("W"),ke);this.byteWidths=[-1,-1,-1];for(o=0,r=s.size();o<r;o++)this.byteWidths[o]=s.lookup(o,Ae).asNumber()}return t.prototype.parseIntoContext=function(){if(this.alreadyParsed)throw new $t("PDFXRefStreamParser","parseIntoContext");return this.alreadyParsed=!0,this.context.trailerInfo={Root:this.dict.get(Re.of("Root")),Encrypt:this.dict.get(Re.of("Encrypt")),Info:this.dict.get(Re.of("Info")),ID:this.dict.get(Re.of("ID"))},this.parseEntries()},t.prototype.parseEntries=function(){for(var t=[],e=this.byteWidths,n=e[0],o=e[1],r=e[2],i=0,a=this.subsections.length;i<a;i++)for(var s=this.subsections[i],u=s.firstObjectNumber,c=s.length,h=0;h<c;h++){for(var l=0,f=0,d=n;f<d;f++)l=l<<8|this.bytes.next();var p=0;for(f=0,d=o;f<d;f++)p=p<<8|this.bytes.next();var g=0;for(f=0,d=r;f<d;f++)g=g<<8|this.bytes.next();0===n&&(l=1);var y=u+h,v={ref:Ve.of(y,g),offset:p,deleted:0===l,inObjectStream:2===l};t.push(v)}return t},t.forStream=function(e){return new t(e)},t}(),ur=function(t){function e(e,n,o,r){void 0===n&&(n=1/0),void 0===o&&(o=!1),void 0===r&&(r=!1);var i=t.call(this,Qo.of(e),Qe.create(),r)||this;return i.alreadyParsed=!1,i.parsedObjects=0,i.shouldWaitForTick=function(){return i.parsedObjects+=1,i.parsedObjects%i.objectsPerTick===0},i.objectsPerTick=n,i.throwOnInvalidObject=o,i}return a(e,t),e.prototype.parseDocument=function(){return u(this,0,void 0,(function(){var t,e;return c(this,(function(n){switch(n.label){case 0:if(this.alreadyParsed)throw new $t("PDFParser","parseDocument");this.alreadyParsed=!0,this.context.header=this.parseHeader(),n.label=1;case 1:return this.bytes.done()?[3,3]:[4,this.parseDocumentSection()];case 2:if(n.sent(),(e=this.bytes.offset())===t)throw new we(this.bytes.position());return t=e,[3,1];case 3:return this.maybeRecoverRoot(),this.context.lookup(Ve.of(0))&&(console.warn("Removing parsed object: 0 0 R"),this.context.delete(Ve.of(0))),[2,this.context]}}))}))},e.prototype.maybeRecoverRoot=function(){var t=function(t){return t instanceof ze&&t.lookup(Re.of("Type"))===Re.of("Catalog")};if(!t(this.context.lookup(this.context.trailerInfo.Root)))for(var e=this.context.enumerateIndirectObjects(),n=0,o=e.length;n<o;n++){var r=e[n],i=r[0];t(r[1])&&(this.context.trailerInfo.Root=i)}},e.prototype.parseHeader=function(){for(;!this.bytes.done();){if(this.matchKeyword(rr.header)){var t=this.parseRawInt();this.bytes.assertNext(Ht.Period);var e=this.parseRawInt(),n=Se.forVersion(t,e);return this.skipBinaryHeaderComment(),n}this.bytes.next()}throw new xe(this.bytes.position())},e.prototype.parseIndirectObjectHeader=function(){this.skipWhitespaceAndComments();var t=this.parseRawInt();this.skipWhitespaceAndComments();var e=this.parseRawInt();if(this.skipWhitespaceAndComments(),!this.matchKeyword(rr.obj))throw new Ce(this.bytes.position(),rr.obj);return Ve.of(t,e)},e.prototype.matchIndirectObjectHeader=function(){var t=this.bytes.offset();try{return this.parseIndirectObjectHeader(),!0}catch(e){return this.bytes.moveTo(t),!1}},e.prototype.parseIndirectObject=function(){return u(this,0,void 0,(function(){var t,e;return c(this,(function(n){switch(n.label){case 0:return t=this.parseIndirectObjectHeader(),this.skipWhitespaceAndComments(),e=this.parseObject(),this.skipWhitespaceAndComments(),this.matchKeyword(rr.endobj),e instanceof Ue&&e.dict.lookup(Re.of("Type"))===Re.of("ObjStm")?[4,ar.forStream(e,this.shouldWaitForTick).parseIntoContext()]:[3,2];case 1:return n.sent(),[3,3];case 2:e instanceof Ue&&e.dict.lookup(Re.of("Type"))===Re.of("XRef")?sr.forStream(e).parseIntoContext():this.context.assign(t,e),n.label=3;case 3:return[2,t]}}))}))},e.prototype.tryToParseInvalidIndirectObject=function(){var t=this.bytes.position(),e="Trying to parse invalid object: "+JSON.stringify(t)+")";if(this.throwOnInvalidObject)throw new Error(e);console.warn(e);var n=this.parseIndirectObjectHeader();console.warn("Invalid object ref: "+n),this.skipWhitespaceAndComments();for(var o=this.bytes.offset(),r=!0;!this.bytes.done()&&(this.matchKeyword(rr.endobj)&&(r=!1),r);)this.bytes.next();if(r)throw new ve(t);var i=this.bytes.offset()-rr.endobj.length,a=sn.of(this.bytes.slice(o,i));return this.context.assign(n,a),n},e.prototype.parseIndirectObjects=function(){return u(this,0,void 0,(function(){var t;return c(this,(function(e){switch(e.label){case 0:this.skipWhitespaceAndComments(),e.label=1;case 1:if(this.bytes.done()||!Go[this.bytes.peek()])return[3,8];t=this.bytes.offset(),e.label=2;case 2:return e.trys.push([2,4,,5]),[4,this.parseIndirectObject()];case 3:return e.sent(),[3,5];case 4:return e.sent(),this.bytes.moveTo(t),this.tryToParseInvalidIndirectObject(),[3,5];case 5:return this.skipWhitespaceAndComments(),this.skipJibberish(),this.shouldWaitForTick()?[4,et()]:[3,7];case 6:e.sent(),e.label=7;case 7:return[3,1];case 8:return[2]}}))}))},e.prototype.maybeParseCrossRefSection=function(){if(this.skipWhitespaceAndComments(),this.matchKeyword(rr.xref)){this.skipWhitespaceAndComments();for(var t=-1,e=en.createEmpty();!this.bytes.done()&&Go[this.bytes.peek()];){var n=this.parseRawInt();this.skipWhitespaceAndComments();var o=this.parseRawInt();this.skipWhitespaceAndComments();var r=this.bytes.peek();if(r===Ht.n||r===Ht.f){var i=Ve.of(t,o);this.bytes.next()===Ht.n?e.addEntry(i,n):e.addDeletedEntry(i,n),t+=1}else t=n;this.skipWhitespaceAndComments()}return e}},e.prototype.maybeParseTrailerDict=function(){if(this.skipWhitespaceAndComments(),this.matchKeyword(rr.trailer)){this.skipWhitespaceAndComments();var t=this.parseDict(),e=this.context;e.trailerInfo={Root:t.get(Re.of("Root"))||e.trailerInfo.Root,Encrypt:t.get(Re.of("Encrypt"))||e.trailerInfo.Encrypt,Info:t.get(Re.of("Info"))||e.trailerInfo.Info,ID:t.get(Re.of("ID"))||e.trailerInfo.ID}}},e.prototype.maybeParseTrailer=function(){if(this.skipWhitespaceAndComments(),this.matchKeyword(rr.startxref)){this.skipWhitespaceAndComments();var t=this.parseRawInt();return this.skipWhitespace(),this.matchKeyword(rr.eof),this.skipWhitespaceAndComments(),this.matchKeyword(rr.eof),this.skipWhitespaceAndComments(),nn.forLastCrossRefSectionOffset(t)}},e.prototype.parseDocumentSection=function(){return u(this,0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return[4,this.parseIndirectObjects()];case 1:return t.sent(),this.maybeParseCrossRefSection(),this.maybeParseTrailerDict(),this.maybeParseTrailer(),this.skipJibberish(),[2]}}))}))},e.prototype.skipJibberish=function(){for(this.skipWhitespaceAndComments();!this.bytes.done();){var t=this.bytes.offset(),e=this.bytes.peek();if(e>=Ht.Space&&e<=Ht.Tilde&&(this.matchKeyword(rr.xref)||this.matchKeyword(rr.trailer)||this.matchKeyword(rr.startxref)||this.matchIndirectObjectHeader())){this.bytes.moveTo(t);break}this.bytes.next()}},e.prototype.skipBinaryHeaderComment=function(){this.skipWhitespaceAndComments();try{var t=this.bytes.offset();this.parseIndirectObjectHeader(),this.bytes.moveTo(t)}catch(e){this.bytes.next(),this.skipWhitespaceAndComments()}},e.forBytesWithOptions=function(t,n,o,r){return new e(t,n,o,r)},e}(ir),cr=function(t){return 1<<t};(Zo=qo||(qo={}))[Zo.Invisible=cr(0)]="Invisible",Zo[Zo.Hidden=cr(1)]="Hidden",Zo[Zo.Print=cr(2)]="Print",Zo[Zo.NoZoom=cr(3)]="NoZoom",Zo[Zo.NoRotate=cr(4)]="NoRotate",Zo[Zo.NoView=cr(5)]="NoView",Zo[Zo.ReadOnly=cr(6)]="ReadOnly",Zo[Zo.Locked=cr(7)]="Locked",Zo[Zo.ToggleNoView=cr(8)]="ToggleNoView",Zo[Zo.LockedContents=cr(9)]="LockedContents";var hr,lr,fr=function(t){return t instanceof Re?t:Re.of(t)},dr=function(t){return t instanceof Ae?t:Ae.of(t)},pr=function(t){return t instanceof Ae?t.asNumber():t};(lr=hr||(hr={})).Degrees="degrees",lr.Radians="radians";var gr,yr,vr=function(t){return Rt(t,"radianAngle",["number"]),{type:hr.Radians,angle:t}},br=function(t){return Rt(t,"degreeAngle",["number"]),{type:hr.Degrees,angle:t}},mr=hr.Radians,wr=hr.Degrees,xr=function(t){return t*Math.PI/180},Cr=function(t){return 180*t/Math.PI},Sr=function(t){return t.type===mr?t.angle:t.type===wr?xr(t.angle):wt("Invalid rotation: "+JSON.stringify(t))},Fr=function(t){return t.type===mr?Cr(t.angle):t.type===wr?t.angle:wt("Invalid rotation: "+JSON.stringify(t))},Ar=function(t){void 0===t&&(t=0);var e=t/90%4;return 0===e?0:1===e?90:2===e?180:3===e?270:0},kr=function(t,e){void 0===e&&(e=0);var n=Ar(e);return 90===n||270===n?{width:t.height,height:t.width}:{width:t.width,height:t.height}},Dr=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=0);var o=t.x,r=t.y,i=t.width,a=t.height,s=Ar(n),u=e/2;return 0===s?{x:o-u,y:r-u,width:i,height:a}:90===s?{x:o-a+u,y:r-u,width:a,height:i}:180===s?{x:o-i+u,y:r-a+u,width:i,height:a}:270===s?{x:o-u,y:r-i+u,width:a,height:i}:{x:o-u,y:r-u,width:i,height:a}},Br=function(){return He.of(Ee.ClipNonZero)},Pr=function(){return He.of(Ee.ClipEvenOdd)},Tr=Math.cos,Or=Math.sin,Nr=Math.tan,jr=function(t,e,n,o,r,i){return He.of(Ee.ConcatTransformationMatrix,[dr(t),dr(e),dr(n),dr(o),dr(r),dr(i)])},Ir=function(t,e){return jr(1,0,0,1,t,e)},Rr=function(t,e){return jr(t,0,0,e,0,0)},Mr=function(t){return jr(Tr(pr(t)),Or(pr(t)),-Or(pr(t)),Tr(pr(t)),0,0)},Er=function(t){return Mr(xr(pr(t)))},Wr=function(t,e){return jr(1,Nr(pr(t)),Nr(pr(e)),1,0,0)},zr=function(t,e){return Wr(xr(pr(t)),xr(pr(e)))},Lr=function(t,e){return He.of(Ee.SetLineDashPattern,["["+t.map(dr).join(" ")+"]",dr(e)])},Ur=function(){return Lr([],0)};(yr=gr||(gr={}))[yr.Butt=0]="Butt",yr[yr.Round=1]="Round",yr[yr.Projecting=2]="Projecting";var Kr,Gr,Vr=function(t){return He.of(Ee.SetLineCapStyle,[dr(t)])};(Gr=Kr||(Kr={}))[Gr.Miter=0]="Miter",Gr[Gr.Round=1]="Round",Gr[Gr.Bevel=2]="Bevel";var Hr,Xr,qr=function(t){return He.of(Ee.SetLineJoinStyle,[dr(t)])},Zr=function(t){return He.of(Ee.SetGraphicsStateParams,[fr(t)])},Jr=function(){return He.of(Ee.PushGraphicsState)},Yr=function(){return He.of(Ee.PopGraphicsState)},_r=function(t){return He.of(Ee.SetLineWidth,[dr(t)])},Qr=function(t,e,n,o,r,i){return He.of(Ee.AppendBezierCurve,[dr(t),dr(e),dr(n),dr(o),dr(r),dr(i)])},$r=function(t,e,n,o){return He.of(Ee.CurveToReplicateInitialPoint,[dr(t),dr(e),dr(n),dr(o)])},ti=function(){return He.of(Ee.ClosePath)},ei=function(t,e){return He.of(Ee.MoveTo,[dr(t),dr(e)])},ni=function(t,e){return He.of(Ee.LineTo,[dr(t),dr(e)])},oi=function(t,e,n,o){return He.of(Ee.AppendRectangle,[dr(t),dr(e),dr(n),dr(o)])},ri=function(t,e,n){return oi(t,e,n,n)},ii=function(){return He.of(Ee.StrokePath)},ai=function(){return He.of(Ee.FillNonZero)},si=function(){return He.of(Ee.FillNonZeroAndStroke)},ui=function(){return He.of(Ee.EndPath)},ci=function(){return He.of(Ee.NextLine)},hi=function(t,e){return He.of(Ee.MoveText,[dr(t),dr(e)])},li=function(t){return He.of(Ee.ShowText,[t])},fi=function(){return He.of(Ee.BeginText)},di=function(){return He.of(Ee.EndText)},pi=function(t,e){return He.of(Ee.SetFontAndSize,[fr(t),dr(e)])},gi=function(t){return He.of(Ee.SetCharacterSpacing,[dr(t)])},yi=function(t){return He.of(Ee.SetWordSpacing,[dr(t)])},vi=function(t){return He.of(Ee.SetTextHorizontalScaling,[dr(t)])},bi=function(t){return He.of(Ee.SetTextLineHeight,[dr(t)])},mi=function(t){return He.of(Ee.SetTextRise,[dr(t)])};(Xr=Hr||(Hr={}))[Xr.Fill=0]="Fill",Xr[Xr.Outline=1]="Outline",Xr[Xr.FillAndOutline=2]="FillAndOutline",Xr[Xr.Invisible=3]="Invisible",Xr[Xr.FillAndClip=4]="FillAndClip",Xr[Xr.OutlineAndClip=5]="OutlineAndClip",Xr[Xr.FillAndOutlineAndClip=6]="FillAndOutlineAndClip",Xr[Xr.Clip=7]="Clip";var wi,xi,Ci=function(t){return He.of(Ee.SetTextRenderingMode,[dr(t)])},Si=function(t,e,n,o,r,i){return He.of(Ee.SetTextMatrix,[dr(t),dr(e),dr(n),dr(o),dr(r),dr(i)])},Fi=function(t,e,n,o,r){return Si(Tr(pr(t)),Or(pr(t))+Nr(pr(e)),-Or(pr(t))+Nr(pr(n)),Tr(pr(t)),o,r)},Ai=function(t,e,n,o,r){return Fi(xr(pr(t)),xr(pr(e)),xr(pr(n)),o,r)},ki=function(t){return He.of(Ee.DrawObject,[fr(t)])},Di=function(t){return He.of(Ee.NonStrokingColorGray,[dr(t)])},Bi=function(t){return He.of(Ee.StrokingColorGray,[dr(t)])},Pi=function(t,e,n){return He.of(Ee.NonStrokingColorRgb,[dr(t),dr(e),dr(n)])},Ti=function(t,e,n){return He.of(Ee.StrokingColorRgb,[dr(t),dr(e),dr(n)])},Oi=function(t,e,n,o){return He.of(Ee.NonStrokingColorCmyk,[dr(t),dr(e),dr(n),dr(o)])},Ni=function(t,e,n,o){return He.of(Ee.StrokingColorCmyk,[dr(t),dr(e),dr(n),dr(o)])},ji=function(t){return He.of(Ee.BeginMarkedContent,[fr(t)])},Ii=function(){return He.of(Ee.EndMarkedContent)};(xi=wi||(wi={})).Grayscale="Grayscale",xi.RGB="RGB",xi.CMYK="CMYK";var Ri,Mi,Ei=function(t){return Wt(t,"gray",0,1),{type:wi.Grayscale,gray:t}},Wi=function(t,e,n){return Wt(t,"red",0,1),Wt(e,"green",0,1),Wt(n,"blue",0,1),{type:wi.RGB,red:t,green:e,blue:n}},zi=function(t,e,n,o){return Wt(t,"cyan",0,1),Wt(e,"magenta",0,1),Wt(n,"yellow",0,1),Wt(o,"key",0,1),{type:wi.CMYK,cyan:t,magenta:e,yellow:n,key:o}},Li=wi.Grayscale,Ui=wi.RGB,Ki=wi.CMYK,Gi=function(t){return t.type===Li?Di(t.gray):t.type===Ui?Pi(t.red,t.green,t.blue):t.type===Ki?Oi(t.cyan,t.magenta,t.yellow,t.key):wt("Invalid color: "+JSON.stringify(t))},Vi=function(t){return t.type===Li?Bi(t.gray):t.type===Ui?Ti(t.red,t.green,t.blue):t.type===Ki?Ni(t.cyan,t.magenta,t.yellow,t.key):wt("Invalid color: "+JSON.stringify(t))},Hi=function(t,e){return void 0===e&&(e=1),1===(null==t?void 0:t.length)?Ei(t[0]*e):3===(null==t?void 0:t.length)?Wi(t[0]*e,t[1]*e,t[2]*e):4===(null==t?void 0:t.length)?zi(t[0]*e,t[1]*e,t[2]*e,t[3]*e):void 0},Xi=function(t){return t.type===Li?[t.gray]:t.type===Ui?[t.red,t.green,t.blue]:t.type===Ki?[t.cyan,t.magenta,t.yellow,t.key]:wt("Invalid color: "+JSON.stringify(t))},qi=0,Zi=0,Ji=0,Yi=0,_i=0,Qi=0,$i=new Map([["A",7],["a",7],["C",6],["c",6],["H",1],["h",1],["L",2],["l",2],["M",2],["m",2],["Q",4],["q",4],["S",4],["s",4],["T",2],["t",2],["V",1],["v",1],["Z",0],["z",0]]),ta={M:function(t){return qi=t[0],Zi=t[1],Ji=Yi=null,_i=qi,Qi=Zi,ei(qi,Zi)},m:function(t){return qi+=t[0],Zi+=t[1],Ji=Yi=null,_i=qi,Qi=Zi,ei(qi,Zi)},C:function(t){return qi=t[4],Zi=t[5],Ji=t[2],Yi=t[3],Qr(t[0],t[1],t[2],t[3],t[4],t[5])},c:function(t){var e=Qr(t[0]+qi,t[1]+Zi,t[2]+qi,t[3]+Zi,t[4]+qi,t[5]+Zi);return Ji=qi+t[2],Yi=Zi+t[3],qi+=t[4],Zi+=t[5],e},S:function(t){null!==Ji&&null!==Yi||(Ji=qi,Yi=Zi);var e=Qr(qi-(Ji-qi),Zi-(Yi-Zi),t[0],t[1],t[2],t[3]);return Ji=t[0],Yi=t[1],qi=t[2],Zi=t[3],e},s:function(t){null!==Ji&&null!==Yi||(Ji=qi,Yi=Zi);var e=Qr(qi-(Ji-qi),Zi-(Yi-Zi),qi+t[0],Zi+t[1],qi+t[2],Zi+t[3]);return Ji=qi+t[0],Yi=Zi+t[1],qi+=t[2],Zi+=t[3],e},Q:function(t){return Ji=t[0],Yi=t[1],qi=t[2],Zi=t[3],$r(t[0],t[1],qi,Zi)},q:function(t){var e=$r(t[0]+qi,t[1]+Zi,t[2]+qi,t[3]+Zi);return Ji=qi+t[0],Yi=Zi+t[1],qi+=t[2],Zi+=t[3],e},T:function(t){null===Ji||null===Yi?(Ji=qi,Yi=Zi):(Ji=qi-(Ji-qi),Yi=Zi-(Yi-Zi));var e=$r(Ji,Yi,t[0],t[1]);return Ji=qi-(Ji-qi),Yi=Zi-(Yi-Zi),qi=t[0],Zi=t[1],e},t:function(t){null===Ji||null===Yi?(Ji=qi,Yi=Zi):(Ji=qi-(Ji-qi),Yi=Zi-(Yi-Zi));var e=$r(Ji,Yi,qi+t[0],Zi+t[1]);return qi+=t[0],Zi+=t[1],e},A:function(t){var e=ea(qi,Zi,t);return qi=t[5],Zi=t[6],e},a:function(t){t[5]+=qi,t[6]+=Zi;var e=ea(qi,Zi,t);return qi=t[5],Zi=t[6],e},L:function(t){return qi=t[0],Zi=t[1],Ji=Yi=null,ni(qi,Zi)},l:function(t){return qi+=t[0],Zi+=t[1],Ji=Yi=null,ni(qi,Zi)},H:function(t){return qi=t[0],Ji=Yi=null,ni(qi,Zi)},h:function(t){return qi+=t[0],Ji=Yi=null,ni(qi,Zi)},V:function(t){return Zi=t[0],Ji=Yi=null,ni(qi,Zi)},v:function(t){return Zi+=t[0],Ji=Yi=null,ni(qi,Zi)},Z:function(){var t=ti();return qi=_i,Zi=Qi,t},z:function(){var t=ti();return qi=_i,Zi=Qi,t}},ea=function(t,e,n){for(var o=n[0],r=n[1],i=n[2],a=n[3],s=n[4],u=n[5],c=n[6],h=[],l=0,f=na(u,c,o,r,a,s,i,t,e);l<f.length;l++){var d=f[l],p=oa.apply(void 0,d);h.push(Qr.apply(void 0,p))}return h},na=function(t,e,n,o,r,i,a,s,u){var c=a*(Math.PI/180),h=Math.sin(c),l=Math.cos(c);n=Math.abs(n),o=Math.abs(o);var f=(Ji=l*(s-t)*.5+h*(u-e)*.5)*Ji/(n*n)+(Yi=l*(u-e)*.5-h*(s-t)*.5)*Yi/(o*o);f>1&&(n*=f=Math.sqrt(f),o*=f);var d=l/n,p=h/n,g=-h/o,y=l/o,v=d*s+p*u,b=g*s+y*u,m=d*t+p*e,w=g*t+y*e,x=1/((m-v)*(m-v)+(w-b)*(w-b))-.25;x<0&&(x=0);var C=Math.sqrt(x);i===r&&(C=-C);var S=.5*(v+m)-C*(w-b),F=.5*(b+w)+C*(m-v),A=Math.atan2(b-F,v-S),k=Math.atan2(w-F,m-S)-A;k<0&&1===i?k+=2*Math.PI:k>0&&0===i&&(k-=2*Math.PI);for(var D=Math.ceil(Math.abs(k/(.5*Math.PI+.001))),B=[],P=0;P<D;P++){var T=A+P*k/D,O=A+(P+1)*k/D;B[P]=[S,F,T,O,n,o,h,l]}return B},oa=function(t,e,n,o,r,i,a,s){var u=s*r,c=-a*i,h=a*r,l=s*i,f=.5*(o-n),d=8/3*Math.sin(.5*f)*Math.sin(.5*f)/Math.sin(f),p=t+Math.cos(n)-d*Math.sin(n),g=e+Math.sin(n)+d*Math.cos(n),y=t+Math.cos(o),v=e+Math.sin(o),b=y+d*Math.sin(o),m=v-d*Math.cos(o);return[u*p+c*g,h*p+l*g,u*b+c*m,h*b+l*m,u*y+c*v,h*y+l*v]},ra=function(t){return function(t){qi=Zi=Ji=Yi=_i=Qi=0;for(var e=[],n=0;n<t.length;n++){var o=t[n];if(o.cmd&&"function"==typeof ta[o.cmd]){var r=ta[o.cmd](o.args);Array.isArray(r)?e=e.concat(r):e.push(r)}}return e}(function(t){for(var e,n=[],o=[],r="",i=!1,a=0,s=0,u=t;s<u.length;s++){var c=u[s];if($i.has(c))a=$i.get(c),e&&(r.length>0&&(o[o.length]=+r),n[n.length]={cmd:e,args:o},o=[],r="",i=!1),e=c;else if([" ",","].includes(c)||"-"===c&&r.length>0&&"e"!==r[r.length-1]||"."===c&&i){if(0===r.length)continue;o.length===a?(n[n.length]={cmd:e,args:o},o=[+r],"M"===e&&(e="L"),"m"===e&&(e="l")):o[o.length]=+r,i="."===c,r=["-","."].includes(c)?c:""}else r+=c,"."===c&&(i=!0)}return r.length>0&&(o.length===a?(n[n.length]={cmd:e,args:o},o=[+r],"M"===e&&(e="L"),"m"===e&&(e="l")):o[o.length]=+r),n[n.length]={cmd:e,args:o},n}(t))},ia=function(t,e){return[Jr(),e.graphicsState&&Zr(e.graphicsState),fi(),Gi(e.color),pi(e.font,e.size),Fi(Sr(e.rotate),Sr(e.xSkew),Sr(e.ySkew),e.x,e.y),li(t),di(),Yr()].filter(Boolean)},aa=function(t,e){for(var n=[Jr(),e.graphicsState&&Zr(e.graphicsState),fi(),Gi(e.color),pi(e.font,e.size),bi(e.lineHeight),Fi(Sr(e.rotate),Sr(e.xSkew),Sr(e.ySkew),e.x,e.y)].filter(Boolean),o=0,r=t.length;o<r;o++)n.push(li(t[o]),ci());return n.push(di(),Yr()),n},sa=function(t,e){return[Jr(),e.graphicsState&&Zr(e.graphicsState),Ir(e.x,e.y),Mr(Sr(e.rotate)),Rr(e.width,e.height),Wr(Sr(e.xSkew),Sr(e.ySkew)),ki(t),Yr()].filter(Boolean)},ua=function(t,e){return[Jr(),e.graphicsState&&Zr(e.graphicsState),Ir(e.x,e.y),Mr(Sr(e.rotate)),Rr(e.xScale,e.yScale),Wr(Sr(e.xSkew),Sr(e.ySkew)),ki(t),Yr()].filter(Boolean)},ca=function(t){var e,n;return[Jr(),t.graphicsState&&Zr(t.graphicsState),t.color&&Vi(t.color),_r(t.thickness),Lr(null!==(e=t.dashArray)&&void 0!==e?e:[],null!==(n=t.dashPhase)&&void 0!==n?n:0),ei(t.start.x,t.start.y),t.lineCap&&Vr(t.lineCap),ei(t.start.x,t.start.y),ni(t.end.x,t.end.y),ii(),Yr()].filter(Boolean)},ha=function(t){var e,n;return[Jr(),t.graphicsState&&Zr(t.graphicsState),t.color&&Gi(t.color),t.borderColor&&Vi(t.borderColor),_r(t.borderWidth),t.borderLineCap&&Vr(t.borderLineCap),Lr(null!==(e=t.borderDashArray)&&void 0!==e?e:[],null!==(n=t.borderDashPhase)&&void 0!==n?n:0),Ir(t.x,t.y),Mr(Sr(t.rotate)),Wr(Sr(t.xSkew),Sr(t.ySkew)),ei(0,0),ni(0,t.height),ni(t.width,t.height),ni(t.width,0),ti(),t.color&&t.borderWidth?si():t.color?ai():t.borderColor?ii():ti(),Yr()].filter(Boolean)},la=(Math.sqrt(2)-1)/3*4,fa=function(t){var e=pr(t.x),n=pr(t.y),o=pr(t.xScale),r=pr(t.yScale),i=o*la,a=r*la,s=(e-=o)+2*o,u=(n-=r)+2*r,c=e+o,h=n+r;return[Jr(),ei(e,h),Qr(e,h-a,c-i,n,c,n),Qr(c+i,n,s,h-a,s,h),Qr(s,h+a,c+i,u,c,u),Qr(c-i,u,e,h+a,e,h),Yr()]},da=function(t){var e,n,o,r,i,a,s,u,c,l,f,d,p,g,y,v;return h([Jr(),t.graphicsState&&Zr(t.graphicsState),t.color&&Gi(t.color),t.borderColor&&Vi(t.borderColor),_r(t.borderWidth),t.borderLineCap&&Vr(t.borderLineCap),Lr(null!==(e=t.borderDashArray)&&void 0!==e?e:[],null!==(n=t.borderDashPhase)&&void 0!==n?n:0)],void 0===t.rotate?fa({x:t.x,y:t.y,xScale:t.xScale,yScale:t.yScale}):(r={x:t.x,y:t.y,xScale:t.xScale,yScale:t.yScale,rotate:null!==(o=t.rotate)&&void 0!==o?o:br(0)},i=pr(r.x),a=pr(r.y),s=pr(r.xScale),u=pr(r.yScale),c=-s,l=-u,f=s*la,d=u*la,p=c+2*s,g=l+2*u,y=c+s,v=l+u,[Ir(i,a),Mr(Sr(r.rotate)),ei(c,v),Qr(c,v-d,y-f,l,y,l),Qr(y+f,l,p,v-d,p,v),Qr(p,v+d,y+f,g,y,g),Qr(y-f,g,c,v+d,c,v)]),[t.color&&t.borderWidth?si():t.color?ai():t.borderColor?ii():ti(),Yr()]).filter(Boolean)},pa=function(t,e){var n,o,r;return h([Jr(),e.graphicsState&&Zr(e.graphicsState),Ir(e.x,e.y),Mr(Sr(null!==(n=e.rotate)&&void 0!==n?n:br(0))),e.scale?Rr(e.scale,-e.scale):Rr(1,-1),e.color&&Gi(e.color),e.borderColor&&Vi(e.borderColor),e.borderWidth&&_r(e.borderWidth),e.borderLineCap&&Vr(e.borderLineCap),Lr(null!==(o=e.borderDashArray)&&void 0!==o?o:[],null!==(r=e.borderDashPhase)&&void 0!==r?r:0)],ra(t),[e.color&&e.borderWidth?si():e.color?ai():e.borderColor?ii():ti(),Yr()]).filter(Boolean)},ga=function(t){var e=pr(t.size),n=-.49,o=.3995/.965+n;return[Jr(),t.color&&Vi(t.color),_r(t.thickness),Ir(t.x,t.y),ei(-.675*e,o*e),ni(-.25*e,n*e),ni(.69*e,.475*e),ii(),Yr()].filter(Boolean)},ya=function(t){return 0===t.rotation?[Ir(0,0),Er(0)]:90===t.rotation?[Ir(t.width,0),Er(90)]:180===t.rotation?[Ir(t.width,t.height),Er(180)]:270===t.rotation?[Ir(0,t.height),Er(270)]:[]},va=function(t){var e=ha({x:t.x,y:t.y,width:t.width,height:t.height,borderWidth:t.borderWidth,color:t.color,borderColor:t.borderColor,rotate:br(0),xSkew:br(0),ySkew:br(0)});if(!t.filled)return e;var n=pr(t.width),o=pr(t.height),r=Math.min(n,o)/2,i=ga({x:n/2,y:o/2,size:r,thickness:t.thickness,color:t.markColor});return h([Jr()],e,i,[Yr()])},ba=function(t){var e=pr(t.width),n=pr(t.height),o=Math.min(e,n)/2,r=da({x:t.x,y:t.y,xScale:o,yScale:o,color:t.color,borderColor:t.borderColor,borderWidth:t.borderWidth});if(!t.filled)return r;var i=da({x:t.x,y:t.y,xScale:.45*o,yScale:.45*o,color:t.dotColor,borderColor:void 0,borderWidth:0});return h([Jr()],r,i,[Yr()])},ma=function(t){var e=pr(t.x),n=pr(t.y),o=pr(t.width),r=pr(t.height),i=ha({x:e,y:n,width:o,height:r,borderWidth:t.borderWidth,color:t.color,borderColor:t.borderColor,rotate:br(0),xSkew:br(0),ySkew:br(0)}),a=wa(t.textLines,{color:t.textColor,font:t.font,size:t.fontSize,rotate:br(0),xSkew:br(0),ySkew:br(0)});return h([Jr()],i,a,[Yr()])},wa=function(t,e){for(var n=[fi(),Gi(e.color),pi(e.font,e.size)],o=0,r=t.length;o<r;o++){var i=t[o],a=i.encoded,s=i.x,u=i.y;n.push(Fi(Sr(e.rotate),Sr(e.xSkew),Sr(e.ySkew),s,u),li(a))}return n.push(di()),n},xa=function(t){var e=pr(t.x),n=pr(t.y),o=pr(t.width),r=pr(t.height),i=pr(t.borderWidth),a=pr(t.padding),s=e+i/2+a,u=n+i/2+a,c=o-2*(i/2+a),l=r-2*(i/2+a),f=[ei(s,u),ni(s,u+l),ni(s+c,u+l),ni(s+c,u),ti(),Br(),ui()],d=ha({x:e,y:n,width:o,height:r,borderWidth:t.borderWidth,color:t.color,borderColor:t.borderColor,rotate:br(0),xSkew:br(0),ySkew:br(0)}),p=wa(t.textLines,{color:t.textColor,font:t.font,size:t.fontSize,rotate:br(0),xSkew:br(0),ySkew:br(0)}),g=h([ji("Tx"),Jr()],p,[Yr(),Ii()]);return h([Jr()],d,f,g,[Yr()])},Ca=function(t){for(var e=pr(t.x),n=pr(t.y),o=pr(t.width),r=pr(t.height),i=pr(t.lineHeight),a=pr(t.borderWidth),s=pr(t.padding),u=e+a/2+s,c=n+a/2+s,l=o-2*(a/2+s),f=r-2*(a/2+s),d=[ei(u,c),ni(u,c+f),ni(u+l,c+f),ni(u+l,c),ti(),Br(),ui()],p=ha({x:e,y:n,width:o,height:r,borderWidth:t.borderWidth,color:t.color,borderColor:t.borderColor,rotate:br(0),xSkew:br(0),ySkew:br(0)}),g=[],y=0,v=t.selectedLines.length;y<v;y++){var b=t.textLines[t.selectedLines[y]];g.push.apply(g,ha({x:b.x-s,y:b.y-(i-b.height)/2,width:o-a,height:b.height+(i-b.height)/2,borderWidth:0,color:t.selectedColor,borderColor:void 0,rotate:br(0),xSkew:br(0),ySkew:br(0)}))}var m=wa(t.textLines,{color:t.textColor,font:t.font,size:t.fontSize,rotate:br(0),xSkew:br(0),ySkew:br(0)}),w=h([ji("Tx"),Jr()],m,[Yr(),Ii()]);return h([Jr()],p,g,d,w,[Yr()])},Sa=function(t){function e(){return t.call(this,"Input document to `PDFDocument.load` is encrypted. You can use `PDFDocument.load(..., { ignoreEncryption: true })` if you wish to load the document anyways.")||this}return a(e,t),e}(Error),Fa=function(t){function e(){return t.call(this,"Input to `PDFDocument.embedFont` was a custom font, but no `fontkit` instance was found. You must register a `fontkit` instance with `PDFDocument.registerFontkit(...)` before embedding custom fonts.")||this}return a(e,t),e}(Error),Aa=function(t){function e(){return t.call(this,"A `page` passed to `PDFDocument.addPage` or `PDFDocument.insertPage` was from a different (foreign) PDF document. If you want to copy pages from one PDFDocument to another, you must use `PDFDocument.copyPages(...)` to copy the pages before adding or inserting them.")||this}return a(e,t),e}(Error),ka=function(t){function e(){return t.call(this,"PDFDocument has no pages so `PDFDocument.removePage` cannot be called")||this}return a(e,t),e}(Error),Da=function(t){function e(e){var n='PDFDocument has no form field with the name "'+e+'"';return t.call(this,n)||this}return a(e,t),e}(Error),Ba=function(t){function e(e,n,o){var r,i,a='Expected field "'+e+'" to be of type '+(null==n?void 0:n.name)+", but it is actually of type "+(null!==(i=null===(r=null==o?void 0:o.constructor)||void 0===r?void 0:r.name)&&void 0!==i?i:o);return t.call(this,a)||this}return a(e,t),e}(Error),Pa=function(t){function e(e){var n='Failed to select check box due to missing onValue: "'+e+'"';return t.call(this,n)||this}return a(e,t),e}(Error),Ta=function(t){function e(e){var n='A field already exists with the specified name: "'+e+'"';return t.call(this,n)||this}return a(e,t),e}(Error),Oa=function(t){function e(e){var n='Field name contains invalid component: "'+e+'"';return t.call(this,n)||this}return a(e,t),e}(Error),Na=function(t){function e(e){var n='A non-terminal field already exists with the specified name: "'+e+'"';return t.call(this,n)||this}return a(e,t),e}(Error),ja=function(t){function e(e){var n="Reading rich text fields is not supported: Attempted to read rich text field: "+e;return t.call(this,n)||this}return a(e,t),e}(Error),Ia=function(t){function e(e,n){var o="Failed to layout combed text as lineLength="+e+" is greater than cellCount="+n;return t.call(this,o)||this}return a(e,t),e}(Error),Ra=function(t){function e(e,n,o){var r="Attempted to set text with length="+e+" for TextField with maxLength="+n+" and name="+o;return t.call(this,r)||this}return a(e,t),e}(Error),Ma=function(t){function e(e,n,o){var r="Attempted to set maxLength="+n+", which is less than "+e+", the length of this field's current value (name="+o+")";return t.call(this,r)||this}return a(e,t),e}(Error);(Mi=Ri||(Ri={}))[Mi.Left=0]="Left",Mi[Mi.Center=1]="Center",Mi[Mi.Right=2]="Right";var Ea,Wa,za=function(t,e,n,o){void 0===o&&(o=!1);for(var r=4;r<500;){for(var i=0,a=0,s=t.length;a<s;a++){i+=1;for(var u=t[a].split(" "),c=n.width,h=0,l=u.length;h<l;h++){var f=h===l-1?u[h]:u[h]+" ",d=e.widthOfTextAtSize(f,r);(c-=d)<=0&&(i+=1,c=n.width-d)}}if(!o&&i>t.length)return r-1;var p=e.heightAtSize(r);if((p+.2*p)*i>Math.abs(n.height))return r-1;r+=1}return r},La=function(t){for(var e=t.length;e>0;e--)if(/\s/.test(t[e]))return e},Ua=function(t,e,n,o){for(var r,i=t.length;i>0;){var a=t.substring(0,i),s=n.encodeText(a),u=n.widthOfTextAtSize(a,o);if(u<e)return{line:a,encoded:s,width:u,remainder:t.substring(i)||void 0};i=null!==(r=La(a))&&void 0!==r?r:0}return{line:t,encoded:n.encodeText(t),width:n.widthOfTextAtSize(t,o),remainder:void 0}},Ka=function(t,e){var n=e.alignment,o=e.fontSize,r=e.font,i=e.bounds,a=I(T(t));void 0!==o&&0!==o||(o=za(a,r,i,!0));for(var s=r.heightAtSize(o),u=s+.2*s,c=[],h=i.x,l=i.y,f=i.x+i.width,d=i.y+i.height,p=i.y+i.height,g=0,y=a.length;g<y;g++)for(var v=a[g];void 0!==v;){var b=Ua(v,i.width,r,o),m=b.line,w=b.encoded,x=b.width,C=b.remainder,S=n===Ri.Left?i.x:n===Ri.Center?i.x+i.width/2-x/2:n===Ri.Right?i.x+i.width-x:i.x;S<h&&(h=S),(p-=u)<l&&(l=p),S+x>f&&(f=S+x),p+s>d&&(d=p+s),c.push({text:m,encoded:w,width:x,height:s,x:S,y:p}),v=null==C?void 0:C.trim()}return{fontSize:o,lineHeight:u,lines:c,bounds:{x:h,y:l,width:f-h,height:d-l}}},Ga=function(t,e){var n=e.fontSize,o=e.font,r=e.bounds,i=e.cellCount,a=R(T(t));if(a.length>i)throw new Ia(a.length,i);void 0!==n&&0!==n||(n=function(t,e,n,o){for(var r=n.width/o,i=n.height,a=4,s=E(t);a<500;){for(var u=0,c=s.length;u<c;u++){var h=s[u];if(e.widthOfTextAtSize(h,a)>.75*r)return a-1}if(e.heightAtSize(a,{descender:!1})>i)return a-1;a+=1}return a}(a,o,r,i));for(var s=r.width/i,u=o.heightAtSize(n,{descender:!1}),c=r.y+(r.height/2-u/2),h=[],l=r.x,f=r.y,d=r.x+r.width,p=r.y+r.height,g=0,y=0;g<i;){var v=M(a,y),b=v[0],m=v[1],w=o.encodeText(b),x=o.widthOfTextAtSize(b,n),C=r.x+(s*g+s/2)-x/2;C<l&&(l=C),c<f&&(f=c),C+x>d&&(d=C+x),c+u>p&&(p=c+u),h.push({text:a,encoded:w,width:x,height:u,x:C,y:c}),g+=1,y+=m}return{fontSize:n,cells:h,bounds:{x:l,y:f,width:d-l,height:p-f}}},Va=function(t,e){var n=e.alignment,o=e.fontSize,r=e.font,i=e.bounds,a=R(T(t));void 0!==o&&0!==o||(o=za([a],r,i));var s=r.encodeText(a),u=r.widthOfTextAtSize(a,o),c=r.heightAtSize(o,{descender:!1}),h=n===Ri.Left?i.x:n===Ri.Center?i.x+i.width/2-u/2:n===Ri.Right?i.x+i.width-u:i.x,l=i.y+(i.height/2-c/2);return{fontSize:o,line:{text:a,encoded:s,width:u,height:c,x:h,y:l},bounds:{x:h,y:l,width:u,height:c}}},Ha=function(t){return"normal"in t?t:{normal:t}},Xa=/\/([^\0\t\n\f\r\ ]+)[\0\t\n\f\r\ ]+(\d*\.\d+|\d+)[\0\t\n\f\r\ ]+Tf/,qa=function(t){var e,n,o=null!==(e=t.getDefaultAppearance())&&void 0!==e?e:"",r=null!==(n=U(o,Xa).match)&&void 0!==n?n:[],i=Number(r[2]);return isFinite(i)?i:void 0},Za=/(\d*\.\d+|\d+)[\0\t\n\f\r\ ]*(\d*\.\d+|\d+)?[\0\t\n\f\r\ ]*(\d*\.\d+|\d+)?[\0\t\n\f\r\ ]*(\d*\.\d+|\d+)?[\0\t\n\f\r\ ]+(g|rg|k)/,Ja=function(t){var e,n=null!==(e=t.getDefaultAppearance())&&void 0!==e?e:"",o=U(n,Za).match,r=null!=o?o:[],i=r[1],a=r[2],s=r[3],u=r[4],c=r[5];return"g"===c&&i?Ei(Number(i)):"rg"===c&&i&&a&&s?Wi(Number(i),Number(a),Number(s)):"k"===c&&i&&a&&s&&u?zi(Number(i),Number(a),Number(s),Number(u)):void 0},Ya=function(t,e,n,o){var r;void 0===o&&(o=0);var i=[Gi(e).toString(),pi(null!==(r=null==n?void 0:n.name)&&void 0!==r?r:"dummy__noop",o).toString()].join("\n");t.setDefaultAppearance(i)},_a=function(t,e){var n,o,r,i=Ja(e),a=Ja(t.acroField),u=e.getRectangle(),c=e.getAppearanceCharacteristics(),l=e.getBorderStyle(),f=null!==(n=null==l?void 0:l.getWidth())&&void 0!==n?n:0,d=Ar(null==c?void 0:c.getRotation()),p=kr(u,d),g=p.width,y=p.height,v=ya(s(s({},u),{rotation:d})),b=Wi(0,0,0),m=null!==(o=Hi(null==c?void 0:c.getBorderColor()))&&void 0!==o?o:b,w=Hi(null==c?void 0:c.getBackgroundColor()),x=Hi(null==c?void 0:c.getBackgroundColor(),.8),C=null!==(r=null!=i?i:a)&&void 0!==r?r:b;Ya(i?e:t.acroField,C);var S={x:0+f/2,y:0+f/2,width:g-f,height:y-f,thickness:1.5,borderWidth:f,borderColor:m,markColor:C};return{normal:{on:h(v,va(s(s({},S),{color:w,filled:!0}))),off:h(v,va(s(s({},S),{color:w,filled:!1})))},down:{on:h(v,va(s(s({},S),{color:x,filled:!0}))),off:h(v,va(s(s({},S),{color:x,filled:!1})))}}},Qa=function(t,e){var n,o,r,i=Ja(e),a=Ja(t.acroField),u=e.getRectangle(),c=e.getAppearanceCharacteristics(),l=e.getBorderStyle(),f=null!==(n=null==l?void 0:l.getWidth())&&void 0!==n?n:0,d=Ar(null==c?void 0:c.getRotation()),p=kr(u,d),g=p.width,y=p.height,v=ya(s(s({},u),{rotation:d})),b=Wi(0,0,0),m=null!==(o=Hi(null==c?void 0:c.getBorderColor()))&&void 0!==o?o:b,w=Hi(null==c?void 0:c.getBackgroundColor()),x=Hi(null==c?void 0:c.getBackgroundColor(),.8),C=null!==(r=null!=i?i:a)&&void 0!==r?r:b;Ya(i?e:t.acroField,C);var S={x:g/2,y:y/2,width:g-f,height:y-f,borderWidth:f,borderColor:m,dotColor:C};return{normal:{on:h(v,ba(s(s({},S),{color:w,filled:!0}))),off:h(v,ba(s(s({},S),{color:w,filled:!1})))},down:{on:h(v,ba(s(s({},S),{color:x,filled:!0}))),off:h(v,ba(s(s({},S),{color:x,filled:!1})))}}},$a=function(t,e,n){var o,r,i,a,u,c=Ja(e),l=Ja(t.acroField),f=qa(e),d=qa(t.acroField),p=e.getRectangle(),g=e.getAppearanceCharacteristics(),y=e.getBorderStyle(),v=null==g?void 0:g.getCaptions(),b=null!==(o=null==v?void 0:v.normal)&&void 0!==o?o:"",m=null!==(i=null!==(r=null==v?void 0:v.down)&&void 0!==r?r:b)&&void 0!==i?i:"",w=null!==(a=null==y?void 0:y.getWidth())&&void 0!==a?a:0,x=Ar(null==g?void 0:g.getRotation()),C=kr(p,x),S=C.width,F=C.height,A=ya(s(s({},p),{rotation:x})),k=Wi(0,0,0),D=Hi(null==g?void 0:g.getBorderColor()),B=Hi(null==g?void 0:g.getBackgroundColor()),P=Hi(null==g?void 0:g.getBackgroundColor(),.8),T={x:w,y:w,width:S-2*w,height:F-2*w},O=Va(b,{alignment:Ri.Center,fontSize:null!=f?f:d,font:n,bounds:T}),N=Va(m,{alignment:Ri.Center,fontSize:null!=f?f:d,font:n,bounds:T}),j=Math.min(O.fontSize,N.fontSize),I=null!==(u=null!=c?c:l)&&void 0!==u?u:k;Ya(c||void 0!==f?e:t.acroField,I,n,j);var R={x:0+w/2,y:0+w/2,width:S-w,height:F-w,borderWidth:w,borderColor:D,textColor:I,font:n.name,fontSize:j};return{normal:h(A,ma(s(s({},R),{color:B,textLines:[O.line]}))),down:h(A,ma(s(s({},R),{color:P,textLines:[N.line]})))}},ts=function(t,e,n){var o,r,i,a,u,c,l=Ja(e),f=Ja(t.acroField),d=qa(e),p=qa(t.acroField),g=e.getRectangle(),y=e.getAppearanceCharacteristics(),v=e.getBorderStyle(),b=null!==(o=t.getText())&&void 0!==o?o:"",m=null!==(r=null==v?void 0:v.getWidth())&&void 0!==r?r:0,w=Ar(null==y?void 0:y.getRotation()),x=kr(g,w),C=x.width,S=x.height,F=ya(s(s({},g),{rotation:w})),A=Wi(0,0,0),k=Hi(null==y?void 0:y.getBorderColor()),D=Hi(null==y?void 0:y.getBackgroundColor()),B=t.isCombed()?0:1,P={x:m+B,y:m+B,width:C-2*(m+B),height:S-2*(m+B)};if(t.isMultiline())u=(T=Ka(b,{alignment:t.getAlignment(),fontSize:null!=d?d:p,font:n,bounds:P})).lines,c=T.fontSize;else if(t.isCombed()){u=(T=Ga(b,{fontSize:null!=d?d:p,font:n,bounds:P,cellCount:null!==(i=t.getMaxLength())&&void 0!==i?i:0})).cells,c=T.fontSize}else{var T;u=[(T=Va(b,{alignment:t.getAlignment(),fontSize:null!=d?d:p,font:n,bounds:P})).line],c=T.fontSize}var O=null!==(a=null!=l?l:f)&&void 0!==a?a:A;Ya(l||void 0!==d?e:t.acroField,O,n,c);var N={x:0+m/2,y:0+m/2,width:C-m,height:S-m,borderWidth:null!=m?m:0,borderColor:k,textColor:O,font:n.name,fontSize:c,color:D,textLines:u,padding:B};return h(F,xa(N))},es=function(t,e,n){var o,r,i,a=Ja(e),u=Ja(t.acroField),c=qa(e),l=qa(t.acroField),f=e.getRectangle(),d=e.getAppearanceCharacteristics(),p=e.getBorderStyle(),g=null!==(o=t.getSelected()[0])&&void 0!==o?o:"",y=null!==(r=null==p?void 0:p.getWidth())&&void 0!==r?r:0,v=Ar(null==d?void 0:d.getRotation()),b=kr(f,v),m=b.width,w=b.height,x=ya(s(s({},f),{rotation:v})),C=Wi(0,0,0),S=Hi(null==d?void 0:d.getBorderColor()),F=Hi(null==d?void 0:d.getBackgroundColor()),A={x:y+1,y:y+1,width:m-2*(y+1),height:w-2*(y+1)},k=Va(g,{alignment:Ri.Left,fontSize:null!=c?c:l,font:n,bounds:A}),D=k.line,B=k.fontSize,P=null!==(i=null!=a?a:u)&&void 0!==i?i:C;Ya(a||void 0!==c?e:t.acroField,P,n,B);var T={x:0+y/2,y:0+y/2,width:m-y,height:w-y,borderWidth:null!=y?y:0,borderColor:S,textColor:P,font:n.name,fontSize:B,color:F,textLines:[D],padding:1};return h(x,xa(T))},ns=function(t,e,n){var o,r,i=Ja(e),a=Ja(t.acroField),u=qa(e),c=qa(t.acroField),l=e.getRectangle(),f=e.getAppearanceCharacteristics(),d=e.getBorderStyle(),p=null!==(o=null==d?void 0:d.getWidth())&&void 0!==o?o:0,g=Ar(null==f?void 0:f.getRotation()),y=kr(l,g),v=y.width,b=y.height,m=ya(s(s({},l),{rotation:g})),w=Wi(0,0,0),x=Hi(null==f?void 0:f.getBorderColor()),C=Hi(null==f?void 0:f.getBackgroundColor()),S=t.getOptions(),F=t.getSelected();t.isSorted()&&S.sort();for(var A="",k=0,D=S.length;k<D;k++)A+=S[k],k<D-1&&(A+="\n");var B={x:p+1,y:p+1,width:v-2*(p+1),height:b-2*(p+1)},P=Ka(A,{alignment:Ri.Left,fontSize:null!=u?u:c,font:n,bounds:B}),T=P.lines,O=P.fontSize,N=P.lineHeight,j=[];for(k=0,D=T.length;k<D;k++){var I=T[k];F.includes(I.text)&&j.push(k)}var R=Wi(.6,193/255,218/255),M=null!==(r=null!=i?i:a)&&void 0!==r?r:w;return Ya(i||void 0!==u?e:t.acroField,M,n,O),h(m,Ca({x:0+p/2,y:0+p/2,width:v-p,height:b-p,borderWidth:null!=p?p:0,borderColor:x,textColor:M,font:n.name,fontSize:O,color:C,textLines:T,lineHeight:N,selectedColor:R,selectedLines:j,padding:1}))},os=function(){function t(t,e,n){this.alreadyEmbedded=!1,Rt(t,"ref",[[Ve,"PDFRef"]]),Rt(e,"doc",[[Bs,"PDFDocument"]]),Rt(n,"embedder",[[eo,"PDFPageEmbedder"]]),this.ref=t,this.doc=e,this.width=n.width,this.height=n.height,this.embedder=n}return t.prototype.scale=function(t){return Rt(t,"factor",["number"]),{width:this.width*t,height:this.height*t}},t.prototype.size=function(){return this.scale(1)},t.prototype.embed=function(){return u(this,0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return this.alreadyEmbedded?[3,2]:[4,this.embedder.embedIntoContext(this.doc.context,this.ref)];case 1:t.sent(),this.alreadyEmbedded=!0,t.label=2;case 2:return[2]}}))}))},t.of=function(e,n,o){return new t(e,n,o)},t}(),rs=function(){function t(t,e,n){this.modified=!0,Rt(t,"ref",[[Ve,"PDFRef"]]),Rt(e,"doc",[[Bs,"PDFDocument"]]),Rt(n,"embedder",[[mn,"CustomFontEmbedder"],[dn,"StandardFontEmbedder"]]),this.ref=t,this.doc=e,this.name=n.fontName,this.embedder=n}return t.prototype.encodeText=function(t){return Rt(t,"text",["string"]),this.modified=!0,this.embedder.encodeText(t)},t.prototype.widthOfTextAtSize=function(t,e){return Rt(t,"text",["string"]),Rt(e,"size",["number"]),this.embedder.widthOfTextAtSize(t,e)},t.prototype.heightAtSize=function(t,e){var n;return Rt(t,"size",["number"]),Mt(null==e?void 0:e.descender,"options.descender",["boolean"]),this.embedder.heightOfFontAtSize(t,{descender:null===(n=null==e?void 0:e.descender)||void 0===n||n})},t.prototype.sizeAtHeight=function(t){return Rt(t,"height",["number"]),this.embedder.sizeOfFontAtHeight(t)},t.prototype.getCharacterSet=function(){return this.embedder instanceof dn?this.embedder.encoding.supportedCodePoints:this.embedder.font.characterSet},t.prototype.embed=function(){return u(this,0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return this.modified?[4,this.embedder.embedIntoContext(this.doc.context,this.ref)]:[3,2];case 1:t.sent(),this.modified=!1,t.label=2;case 2:return[2]}}))}))},t.of=function(e,n,o){return new t(e,n,o)},t}(),is=function(){function t(t,e,n){Rt(t,"ref",[[Ve,"PDFRef"]]),Rt(e,"doc",[[Bs,"PDFDocument"]]),Rt(n,"embedder",[[Bn,"JpegEmbedder"],[Wn,"PngEmbedder"]]),this.ref=t,this.doc=e,this.width=n.width,this.height=n.height,this.embedder=n}return t.prototype.scale=function(t){return Rt(t,"factor",["number"]),{width:this.width*t,height:this.height*t}},t.prototype.scaleToFit=function(t,e){Rt(t,"width",["number"]),Rt(e,"height",["number"]);var n=t/this.width,o=e/this.height,r=Math.min(n,o);return this.scale(r)},t.prototype.size=function(){return this.scale(1)},t.prototype.embed=function(){return u(this,0,void 0,(function(){var t,e,n;return c(this,(function(o){switch(o.label){case 0:return this.embedder?(this.embedTask||(e=(t=this).doc,n=t.ref,this.embedTask=this.embedder.embedIntoContext(e.context,n)),[4,this.embedTask]):[2];case 1:return o.sent(),this.embedder=void 0,[2]}}))}))},t.of=function(e,n,o){return new t(e,n,o)},t}();(Wa=Ea||(Ea={}))[Wa.Left=0]="Left",Wa[Wa.Center=1]="Center",Wa[Wa.Right=2]="Right";var as,ss,us=function(t){Mt(null==t?void 0:t.x,"options.x",["number"]),Mt(null==t?void 0:t.y,"options.y",["number"]),Mt(null==t?void 0:t.width,"options.width",["number"]),Mt(null==t?void 0:t.height,"options.height",["number"]),Mt(null==t?void 0:t.textColor,"options.textColor",[[Object,"Color"]]),Mt(null==t?void 0:t.backgroundColor,"options.backgroundColor",[[Object,"Color"]]),Mt(null==t?void 0:t.borderColor,"options.borderColor",[[Object,"Color"]]),Mt(null==t?void 0:t.borderWidth,"options.borderWidth",["number"]),Mt(null==t?void 0:t.rotate,"options.rotate",[[Object,"Rotation"]])},cs=function(){function t(t,e,n){Rt(t,"acroField",[[mo,"PDFAcroTerminal"]]),Rt(e,"ref",[[Ve,"PDFRef"]]),Rt(n,"doc",[[Bs,"PDFDocument"]]),this.acroField=t,this.ref=e,this.doc=n}return t.prototype.getName=function(){var t;return null!==(t=this.acroField.getFullyQualifiedName())&&void 0!==t?t:""},t.prototype.isReadOnly=function(){return this.acroField.hasFlag(oo.ReadOnly)},t.prototype.enableReadOnly=function(){this.acroField.setFlagTo(oo.ReadOnly,!0)},t.prototype.disableReadOnly=function(){this.acroField.setFlagTo(oo.ReadOnly,!1)},t.prototype.isRequired=function(){return this.acroField.hasFlag(oo.Required)},t.prototype.enableRequired=function(){this.acroField.setFlagTo(oo.Required,!0)},t.prototype.disableRequired=function(){this.acroField.setFlagTo(oo.Required,!1)},t.prototype.isExported=function(){return!this.acroField.hasFlag(oo.NoExport)},t.prototype.enableExporting=function(){this.acroField.setFlagTo(oo.NoExport,!1)},t.prototype.disableExporting=function(){this.acroField.setFlagTo(oo.NoExport,!0)},t.prototype.needsAppearancesUpdate=function(){throw new Jt(this.constructor.name,"needsAppearancesUpdate")},t.prototype.defaultUpdateAppearances=function(t){throw new Jt(this.constructor.name,"defaultUpdateAppearances")},t.prototype.markAsDirty=function(){this.doc.getForm().markFieldAsDirty(this.ref)},t.prototype.markAsClean=function(){this.doc.getForm().markFieldAsClean(this.ref)},t.prototype.isDirty=function(){return this.doc.getForm().fieldIsDirty(this.ref)},t.prototype.createWidget=function(t){var e,n=t.textColor,o=t.backgroundColor,r=t.borderColor,i=t.borderWidth,a=Fr(t.rotate),s=t.caption,u=t.x,c=t.y,h=t.width+i,l=t.height+i,f=Boolean(t.hidden),d=t.page;Lt(a,"degreesAngle",90);var p=bo.create(this.doc.context,this.ref),g=Dr({x:u,y:c,width:h,height:l},i,a);p.setRectangle(g),d&&p.setP(d);var y=p.getOrCreateAppearanceCharacteristics();o&&y.setBackgroundColor(Xi(o)),y.setRotation(a),s&&y.setCaptions({normal:s}),r&&y.setBorderColor(Xi(r));var v=p.getOrCreateBorderStyle();if(void 0!==i&&v.setWidth(i),p.setFlagTo(qo.Print,!0),p.setFlagTo(qo.Hidden,f),p.setFlagTo(qo.Invisible,!1),n){var b=(null!==(e=this.acroField.getDefaultAppearance())&&void 0!==e?e:"")+"\n"+Gi(n).toString();this.acroField.setDefaultAppearance(b)}return p},t.prototype.updateWidgetAppearanceWithFont=function(t,e,n){var o=n.normal,r=n.rollover,i=n.down;this.updateWidgetAppearances(t,{normal:this.createAppearanceStream(t,o,e),rollover:r&&this.createAppearanceStream(t,r,e),down:i&&this.createAppearanceStream(t,i,e)})},t.prototype.updateOnOffWidgetAppearance=function(t,e,n){var o=n.normal,r=n.rollover,i=n.down;this.updateWidgetAppearances(t,{normal:this.createAppearanceDict(t,o,e),rollover:r&&this.createAppearanceDict(t,r,e),down:i&&this.createAppearanceDict(t,i,e)})},t.prototype.updateWidgetAppearances=function(t,e){var n=e.normal,o=e.rollover,r=e.down;t.setNormalAppearance(n),o?t.setRolloverAppearance(o):t.removeRolloverAppearance(),r?t.setDownAppearance(r):t.removeDownAppearance()},t.prototype.createAppearanceStream=function(t,e,n){var o,r=this.acroField.dict.context,i=t.getRectangle(),a=i.width,s=i.height,u=n&&{Font:(o={},o[n.name]=n.ref,o)},c=r.formXObject(e,{Resources:u,BBox:r.obj([0,0,a,s]),Matrix:r.obj([1,0,0,1,0,0])});return r.register(c)},t.prototype.createImageAppearanceStream=function(t,e,n){var o,r,i=this.acroField.dict.context,a=t.getRectangle(),u=t.getAppearanceCharacteristics(),c=t.getBorderStyle(),l=null!==(r=null==c?void 0:c.getWidth())&&void 0!==r?r:0,f=Ar(null==u?void 0:u.getRotation()),d=ya(s(s({},a),{rotation:f})),p=kr(a,f),g=e.scaleToFit(p.width-2*l,p.height-2*l),y={x:l,y:l,width:g.width,height:g.height,rotate:br(0),xSkew:br(0),ySkew:br(0)};n===Ea.Center?(y.x+=(p.width-2*l)/2-g.width/2,y.y+=(p.height-2*l)/2-g.height/2):n===Ea.Right&&(y.x=p.width-l-g.width,y.y=p.height-l-g.height);var v=this.doc.context.addRandomSuffix("Image",10),b=h(d,sa(v,y)),m={XObject:(o={},o[v]=e.ref,o)},w=i.formXObject(b,{Resources:m,BBox:i.obj([0,0,a.width,a.height]),Matrix:i.obj([1,0,0,1,0,0])});return i.register(w)},t.prototype.createAppearanceDict=function(t,e,n){var o=this.acroField.dict.context,r=this.createAppearanceStream(t,e.on),i=this.createAppearanceStream(t,e.off),a=o.obj({});return a.set(n,r),a.set(Re.of("Off"),i),a},t}(),hs=function(t){function e(e,n,o){var r=t.call(this,e,n,o)||this;return Rt(e,"acroCheckBox",[[xo,"PDFAcroCheckBox"]]),r.acroField=e,r}return a(e,t),e.prototype.check=function(){var t,e=null!==(t=this.acroField.getOnValue())&&void 0!==t?t:Re.of("Yes");this.markAsDirty(),this.acroField.setValue(e)},e.prototype.uncheck=function(){this.markAsDirty(),this.acroField.setValue(Re.of("Off"))},e.prototype.isChecked=function(){var t=this.acroField.getOnValue();return!!t&&t===this.acroField.getValue()},e.prototype.addToPage=function(t,e){var n,o,r,i,a,s;Rt(t,"page",[[Ts,"PDFPage"]]),us(e),e||(e={}),"textColor"in e||(e.textColor=Wi(0,0,0)),"backgroundColor"in e||(e.backgroundColor=Wi(1,1,1)),"borderColor"in e||(e.borderColor=Wi(0,0,0)),"borderWidth"in e||(e.borderWidth=1);var u=this.createWidget({x:null!==(n=e.x)&&void 0!==n?n:0,y:null!==(o=e.y)&&void 0!==o?o:0,width:null!==(r=e.width)&&void 0!==r?r:50,height:null!==(i=e.height)&&void 0!==i?i:50,textColor:e.textColor,backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderWidth:null!==(a=e.borderWidth)&&void 0!==a?a:0,rotate:null!==(s=e.rotate)&&void 0!==s?s:br(0),hidden:e.hidden,page:t.ref}),c=this.doc.context.register(u.dict);this.acroField.addWidget(c),u.setAppearanceState(Re.of("Off")),this.updateWidgetAppearance(u,Re.of("Yes")),t.node.addAnnot(c)},e.prototype.needsAppearancesUpdate=function(){for(var t,e=this.acroField.getWidgets(),n=0,o=e.length;n<o;n++){var r=e[n],i=r.getAppearanceState(),a=null===(t=r.getAppearances())||void 0===t?void 0:t.normal;if(!(a instanceof ze))return!0;if(i&&!a.has(i))return!0}return!1},e.prototype.defaultUpdateAppearances=function(){this.updateAppearances()},e.prototype.updateAppearances=function(t){var e;Mt(t,"provider",[Function]);for(var n=this.acroField.getWidgets(),o=0,r=n.length;o<r;o++){var i=n[o],a=null!==(e=i.getOnValue())&&void 0!==e?e:Re.of("Yes");a&&this.updateWidgetAppearance(i,a,t)}this.markAsClean()},e.prototype.updateWidgetAppearance=function(t,e,n){var o=Ha((null!=n?n:_a)(this,t));this.updateOnOffWidgetAppearance(t,e,o)},e.of=function(t,n,o){return new e(t,n,o)},e}(cs),ls=function(t){function e(e,n,o){var r=t.call(this,e,n,o)||this;return Rt(e,"acroComboBox",[[Fo,"PDFAcroComboBox"]]),r.acroField=e,r}return a(e,t),e.prototype.getOptions=function(){for(var t=this.acroField.getOptions(),e=new Array(t.length),n=0,o=e.length;n<o;n++){var r=t[n],i=r.display,a=r.value;e[n]=(null!=i?i:a).decodeText()}return e},e.prototype.getSelected=function(){for(var t=this.acroField.getValues(),e=new Array(t.length),n=0,o=t.length;n<o;n++)e[n]=t[n].decodeText();return e},e.prototype.setOptions=function(t){Rt(t,"options",[Array]);for(var e=new Array(t.length),n=0,o=t.length;n<o;n++)e[n]={value:fn.fromText(t[n])};this.acroField.setOptions(e)},e.prototype.addOptions=function(t){Rt(t,"options",["string",Array]);for(var e=Array.isArray(t)?t:[t],n=this.acroField.getOptions(),o=new Array(e.length),r=0,i=e.length;r<i;r++)o[r]={value:fn.fromText(e[r])};this.acroField.setOptions(n.concat(o))},e.prototype.select=function(t,e){void 0===e&&(e=!1),Rt(t,"options",["string",Array]),Rt(e,"merge",["boolean"]);var n=Array.isArray(t)?t:[t],o=this.getOptions();n.find((function(t){return!o.includes(t)}))&&this.enableEditing(),this.markAsDirty(),(n.length>1||1===n.length&&e)&&this.enableMultiselect();for(var r=new Array(n.length),i=0,a=n.length;i<a;i++)r[i]=fn.fromText(n[i]);if(e){var s=this.acroField.getValues();this.acroField.setValues(s.concat(r))}else this.acroField.setValues(r)},e.prototype.clear=function(){this.markAsDirty(),this.acroField.setValues([])},e.prototype.setFontSize=function(t){Kt(t,"fontSize"),this.acroField.setFontSize(t),this.markAsDirty()},e.prototype.isEditable=function(){return this.acroField.hasFlag(co.Edit)},e.prototype.enableEditing=function(){this.acroField.setFlagTo(co.Edit,!0)},e.prototype.disableEditing=function(){this.acroField.setFlagTo(co.Edit,!1)},e.prototype.isSorted=function(){return this.acroField.hasFlag(co.Sort)},e.prototype.enableSorting=function(){this.acroField.setFlagTo(co.Sort,!0)},e.prototype.disableSorting=function(){this.acroField.setFlagTo(co.Sort,!1)},e.prototype.isMultiselect=function(){return this.acroField.hasFlag(co.MultiSelect)},e.prototype.enableMultiselect=function(){this.acroField.setFlagTo(co.MultiSelect,!0)},e.prototype.disableMultiselect=function(){this.acroField.setFlagTo(co.MultiSelect,!1)},e.prototype.isSpellChecked=function(){return!this.acroField.hasFlag(co.DoNotSpellCheck)},e.prototype.enableSpellChecking=function(){this.acroField.setFlagTo(co.DoNotSpellCheck,!1)},e.prototype.disableSpellChecking=function(){this.acroField.setFlagTo(co.DoNotSpellCheck,!0)},e.prototype.isSelectOnClick=function(){return this.acroField.hasFlag(co.CommitOnSelChange)},e.prototype.enableSelectOnClick=function(){this.acroField.setFlagTo(co.CommitOnSelChange,!0)},e.prototype.disableSelectOnClick=function(){this.acroField.setFlagTo(co.CommitOnSelChange,!1)},e.prototype.addToPage=function(t,e){var n,o,r,i,a,s,u;Rt(t,"page",[[Ts,"PDFPage"]]),us(e),e||(e={}),"textColor"in e||(e.textColor=Wi(0,0,0)),"backgroundColor"in e||(e.backgroundColor=Wi(1,1,1)),"borderColor"in e||(e.borderColor=Wi(0,0,0)),"borderWidth"in e||(e.borderWidth=1);var c=this.createWidget({x:null!==(n=e.x)&&void 0!==n?n:0,y:null!==(o=e.y)&&void 0!==o?o:0,width:null!==(r=e.width)&&void 0!==r?r:200,height:null!==(i=e.height)&&void 0!==i?i:50,textColor:e.textColor,backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderWidth:null!==(a=e.borderWidth)&&void 0!==a?a:0,rotate:null!==(s=e.rotate)&&void 0!==s?s:br(0),hidden:e.hidden,page:t.ref}),h=this.doc.context.register(c.dict);this.acroField.addWidget(h);var l=null!==(u=e.font)&&void 0!==u?u:this.doc.getForm().getDefaultFont();this.updateWidgetAppearance(c,l),t.node.addAnnot(h)},e.prototype.needsAppearancesUpdate=function(){var t;if(this.isDirty())return!0;for(var e=this.acroField.getWidgets(),n=0,o=e.length;n<o;n++){if(!((null===(t=e[n].getAppearances())||void 0===t?void 0:t.normal)instanceof Le))return!0}return!1},e.prototype.defaultUpdateAppearances=function(t){Rt(t,"font",[[rs,"PDFFont"]]),this.updateAppearances(t)},e.prototype.updateAppearances=function(t,e){Rt(t,"font",[[rs,"PDFFont"]]),Mt(e,"provider",[Function]);for(var n=this.acroField.getWidgets(),o=0,r=n.length;o<r;o++){var i=n[o];this.updateWidgetAppearance(i,t,e)}this.markAsClean()},e.prototype.updateWidgetAppearance=function(t,e,n){var o=Ha((null!=n?n:es)(this,t,e));this.updateWidgetAppearanceWithFont(t,e,o)},e.of=function(t,n,o){return new e(t,n,o)},e}(cs),fs=function(t){function e(e,n,o){var r=t.call(this,e,n,o)||this;return Rt(e,"acroListBox",[[To,"PDFAcroListBox"]]),r.acroField=e,r}return a(e,t),e.prototype.getOptions=function(){for(var t=this.acroField.getOptions(),e=new Array(t.length),n=0,o=e.length;n<o;n++){var r=t[n],i=r.display,a=r.value;e[n]=(null!=i?i:a).decodeText()}return e},e.prototype.getSelected=function(){for(var t=this.acroField.getValues(),e=new Array(t.length),n=0,o=t.length;n<o;n++)e[n]=t[n].decodeText();return e},e.prototype.setOptions=function(t){Rt(t,"options",[Array]),this.markAsDirty();for(var e=new Array(t.length),n=0,o=t.length;n<o;n++)e[n]={value:fn.fromText(t[n])};this.acroField.setOptions(e)},e.prototype.addOptions=function(t){Rt(t,"options",["string",Array]),this.markAsDirty();for(var e=Array.isArray(t)?t:[t],n=this.acroField.getOptions(),o=new Array(e.length),r=0,i=e.length;r<i;r++)o[r]={value:fn.fromText(e[r])};this.acroField.setOptions(n.concat(o))},e.prototype.select=function(t,e){void 0===e&&(e=!1),Rt(t,"options",["string",Array]),Rt(e,"merge",["boolean"]);var n=Array.isArray(t)?t:[t],o=this.getOptions();Ot(n,"option",o),this.markAsDirty(),(n.length>1||1===n.length&&e)&&this.enableMultiselect();for(var r=new Array(n.length),i=0,a=n.length;i<a;i++)r[i]=fn.fromText(n[i]);if(e){var s=this.acroField.getValues();this.acroField.setValues(s.concat(r))}else this.acroField.setValues(r)},e.prototype.clear=function(){this.markAsDirty(),this.acroField.setValues([])},e.prototype.setFontSize=function(t){Kt(t,"fontSize"),this.acroField.setFontSize(t),this.markAsDirty()},e.prototype.isSorted=function(){return this.acroField.hasFlag(co.Sort)},e.prototype.enableSorting=function(){this.acroField.setFlagTo(co.Sort,!0)},e.prototype.disableSorting=function(){this.acroField.setFlagTo(co.Sort,!1)},e.prototype.isMultiselect=function(){return this.acroField.hasFlag(co.MultiSelect)},e.prototype.enableMultiselect=function(){this.acroField.setFlagTo(co.MultiSelect,!0)},e.prototype.disableMultiselect=function(){this.acroField.setFlagTo(co.MultiSelect,!1)},e.prototype.isSelectOnClick=function(){return this.acroField.hasFlag(co.CommitOnSelChange)},e.prototype.enableSelectOnClick=function(){this.acroField.setFlagTo(co.CommitOnSelChange,!0)},e.prototype.disableSelectOnClick=function(){this.acroField.setFlagTo(co.CommitOnSelChange,!1)},e.prototype.addToPage=function(t,e){var n,o,r,i,a,s,u;Rt(t,"page",[[Ts,"PDFPage"]]),us(e),e||(e={}),"textColor"in e||(e.textColor=Wi(0,0,0)),"backgroundColor"in e||(e.backgroundColor=Wi(1,1,1)),"borderColor"in e||(e.borderColor=Wi(0,0,0)),"borderWidth"in e||(e.borderWidth=1);var c=this.createWidget({x:null!==(n=e.x)&&void 0!==n?n:0,y:null!==(o=e.y)&&void 0!==o?o:0,width:null!==(r=e.width)&&void 0!==r?r:200,height:null!==(i=e.height)&&void 0!==i?i:100,textColor:e.textColor,backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderWidth:null!==(a=e.borderWidth)&&void 0!==a?a:0,rotate:null!==(s=e.rotate)&&void 0!==s?s:br(0),hidden:e.hidden,page:t.ref}),h=this.doc.context.register(c.dict);this.acroField.addWidget(h);var l=null!==(u=e.font)&&void 0!==u?u:this.doc.getForm().getDefaultFont();this.updateWidgetAppearance(c,l),t.node.addAnnot(h)},e.prototype.needsAppearancesUpdate=function(){var t;if(this.isDirty())return!0;for(var e=this.acroField.getWidgets(),n=0,o=e.length;n<o;n++){if(!((null===(t=e[n].getAppearances())||void 0===t?void 0:t.normal)instanceof Le))return!0}return!1},e.prototype.defaultUpdateAppearances=function(t){Rt(t,"font",[[rs,"PDFFont"]]),this.updateAppearances(t)},e.prototype.updateAppearances=function(t,e){Rt(t,"font",[[rs,"PDFFont"]]),Mt(e,"provider",[Function]);for(var n=this.acroField.getWidgets(),o=0,r=n.length;o<r;o++){var i=n[o];this.updateWidgetAppearance(i,t,e)}this.markAsClean()},e.prototype.updateWidgetAppearance=function(t,e,n){var o=Ha((null!=n?n:ns)(this,t,e));this.updateWidgetAppearanceWithFont(t,e,o)},e.of=function(t,n,o){return new e(t,n,o)},e}(cs),ds=function(t){function e(e,n,o){var r=t.call(this,e,n,o)||this;return Rt(e,"acroRadioButton",[[Po,"PDFAcroRadioButton"]]),r.acroField=e,r}return a(e,t),e.prototype.getOptions=function(){var t=this.acroField.getExportValues();if(t){for(var e=new Array(t.length),n=0,o=t.length;n<o;n++)e[n]=t[n].decodeText();return e}var r=this.acroField.getOnValues(),i=new Array(r.length);for(n=0,o=i.length;n<o;n++)i[n]=r[n].decodeText();return i},e.prototype.getSelected=function(){var t=this.acroField.getValue();if(t!==Re.of("Off")){var e=this.acroField.getExportValues();if(e)for(var n=this.acroField.getOnValues(),o=0,r=n.length;o<r;o++)if(n[o]===t)return e[o].decodeText();return t.decodeText()}},e.prototype.select=function(t){Rt(t,"option",["string"]);var e=this.getOptions();Pt(t,"option",e),this.markAsDirty();var n=this.acroField.getOnValues(),o=this.acroField.getExportValues();if(o)for(var r=0,i=o.length;r<i;r++)o[r].decodeText()===t&&this.acroField.setValue(n[r]);else for(r=0,i=n.length;r<i;r++){var a=n[r];a.decodeText()===t&&this.acroField.setValue(a)}},e.prototype.clear=function(){this.markAsDirty(),this.acroField.setValue(Re.of("Off"))},e.prototype.isOffToggleable=function(){return!this.acroField.hasFlag(io.NoToggleToOff)},e.prototype.enableOffToggling=function(){this.acroField.setFlagTo(io.NoToggleToOff,!1)},e.prototype.disableOffToggling=function(){this.acroField.setFlagTo(io.NoToggleToOff,!0)},e.prototype.isMutuallyExclusive=function(){return!this.acroField.hasFlag(io.RadiosInUnison)},e.prototype.enableMutualExclusion=function(){this.acroField.setFlagTo(io.RadiosInUnison,!1)},e.prototype.disableMutualExclusion=function(){this.acroField.setFlagTo(io.RadiosInUnison,!0)},e.prototype.addOptionToPage=function(t,e,n){var o,r,i,a,s,u,c,h,l;Rt(t,"option",["string"]),Rt(e,"page",[[Ts,"PDFPage"]]),us(n);var f=this.createWidget({x:null!==(o=null==n?void 0:n.x)&&void 0!==o?o:0,y:null!==(r=null==n?void 0:n.y)&&void 0!==r?r:0,width:null!==(i=null==n?void 0:n.width)&&void 0!==i?i:50,height:null!==(a=null==n?void 0:n.height)&&void 0!==a?a:50,textColor:null!==(s=null==n?void 0:n.textColor)&&void 0!==s?s:Wi(0,0,0),backgroundColor:null!==(u=null==n?void 0:n.backgroundColor)&&void 0!==u?u:Wi(1,1,1),borderColor:null!==(c=null==n?void 0:n.borderColor)&&void 0!==c?c:Wi(0,0,0),borderWidth:null!==(h=null==n?void 0:n.borderWidth)&&void 0!==h?h:1,rotate:null!==(l=null==n?void 0:n.rotate)&&void 0!==l?l:br(0),hidden:null==n?void 0:n.hidden,page:e.ref}),d=this.doc.context.register(f.dict),p=this.acroField.addWidgetWithOpt(d,fn.fromText(t),!this.isMutuallyExclusive());f.setAppearanceState(Re.of("Off")),this.updateWidgetAppearance(f,p),e.node.addAnnot(d)},e.prototype.needsAppearancesUpdate=function(){for(var t,e=this.acroField.getWidgets(),n=0,o=e.length;n<o;n++){var r=e[n],i=r.getAppearanceState(),a=null===(t=r.getAppearances())||void 0===t?void 0:t.normal;if(!(a instanceof ze))return!0;if(i&&!a.has(i))return!0}return!1},e.prototype.defaultUpdateAppearances=function(){this.updateAppearances()},e.prototype.updateAppearances=function(t){Mt(t,"provider",[Function]);for(var e=this.acroField.getWidgets(),n=0,o=e.length;n<o;n++){var r=e[n],i=r.getOnValue();i&&this.updateWidgetAppearance(r,i,t)}},e.prototype.updateWidgetAppearance=function(t,e,n){var o=Ha((null!=n?n:Qa)(this,t));this.updateOnOffWidgetAppearance(t,e,o)},e.of=function(t,n,o){return new e(t,n,o)},e}(cs),ps=function(t){function e(e,n,o){var r=t.call(this,e,n,o)||this;return Rt(e,"acroSignature",[[ko,"PDFAcroSignature"]]),r.acroField=e,r}return a(e,t),e.prototype.needsAppearancesUpdate=function(){return!1},e.of=function(t,n,o){return new e(t,n,o)},e}(cs),gs=function(t){function e(e,n,o){var r=t.call(this,e,n,o)||this;return Rt(e,"acroText",[[Do,"PDFAcroText"]]),r.acroField=e,r}return a(e,t),e.prototype.getText=function(){var t=this.acroField.getValue();if(!t&&this.isRichFormatted())throw new ja(this.getName());return null==t?void 0:t.decodeText()},e.prototype.setText=function(t){Mt(t,"text",["string"]);var e=this.getMaxLength();if(void 0!==e&&t&&t.length>e)throw new Ra(t.length,e,this.getName());this.markAsDirty(),this.disableRichFormatting(),t?this.acroField.setValue(fn.fromText(t)):this.acroField.removeValue()},e.prototype.getAlignment=function(){var t=this.acroField.getQuadding();return 0===t?Ri.Left:1===t?Ri.Center:2===t?Ri.Right:Ri.Left},e.prototype.setAlignment=function(t){Pt(t,"alignment",Ri),this.markAsDirty(),this.acroField.setQuadding(t)},e.prototype.getMaxLength=function(){return this.acroField.getMaxLength()},e.prototype.setMaxLength=function(t){if(zt(t,"maxLength",0,Number.MAX_SAFE_INTEGER),this.markAsDirty(),void 0===t)this.acroField.removeMaxLength();else{var e=this.getText();if(e&&e.length>t)throw new Ma(e.length,t,this.getName());this.acroField.setMaxLength(t)}},e.prototype.removeMaxLength=function(){this.markAsDirty(),this.acroField.removeMaxLength()},e.prototype.setImage=function(t){for(var e=this.getAlignment(),n=e===Ri.Center?Ea.Center:e===Ri.Right?Ea.Right:Ea.Left,o=this.acroField.getWidgets(),r=0,i=o.length;r<i;r++){var a=o[r],s=this.createImageAppearanceStream(a,t,n);this.updateWidgetAppearances(a,{normal:s})}this.markAsClean()},e.prototype.setFontSize=function(t){Kt(t,"fontSize"),this.acroField.setFontSize(t),this.markAsDirty()},e.prototype.isMultiline=function(){return this.acroField.hasFlag(so.Multiline)},e.prototype.enableMultiline=function(){this.markAsDirty(),this.acroField.setFlagTo(so.Multiline,!0)},e.prototype.disableMultiline=function(){this.markAsDirty(),this.acroField.setFlagTo(so.Multiline,!1)},e.prototype.isPassword=function(){return this.acroField.hasFlag(so.Password)},e.prototype.enablePassword=function(){this.acroField.setFlagTo(so.Password,!0)},e.prototype.disablePassword=function(){this.acroField.setFlagTo(so.Password,!1)},e.prototype.isFileSelector=function(){return this.acroField.hasFlag(so.FileSelect)},e.prototype.enableFileSelection=function(){this.acroField.setFlagTo(so.FileSelect,!0)},e.prototype.disableFileSelection=function(){this.acroField.setFlagTo(so.FileSelect,!1)},e.prototype.isSpellChecked=function(){return!this.acroField.hasFlag(so.DoNotSpellCheck)},e.prototype.enableSpellChecking=function(){this.acroField.setFlagTo(so.DoNotSpellCheck,!1)},e.prototype.disableSpellChecking=function(){this.acroField.setFlagTo(so.DoNotSpellCheck,!0)},e.prototype.isScrollable=function(){return!this.acroField.hasFlag(so.DoNotScroll)},e.prototype.enableScrolling=function(){this.acroField.setFlagTo(so.DoNotScroll,!1)},e.prototype.disableScrolling=function(){this.acroField.setFlagTo(so.DoNotScroll,!0)},e.prototype.isCombed=function(){return this.acroField.hasFlag(so.Comb)&&!this.isMultiline()&&!this.isPassword()&&!this.isFileSelector()&&void 0!==this.getMaxLength()},e.prototype.enableCombing=function(){if(void 0===this.getMaxLength()){console.warn("PDFTextFields must have a max length in order to be combed")}this.markAsDirty(),this.disableMultiline(),this.disablePassword(),this.disableFileSelection(),this.acroField.setFlagTo(so.Comb,!0)},e.prototype.disableCombing=function(){this.markAsDirty(),this.acroField.setFlagTo(so.Comb,!1)},e.prototype.isRichFormatted=function(){return this.acroField.hasFlag(so.RichText)},e.prototype.enableRichFormatting=function(){this.acroField.setFlagTo(so.RichText,!0)},e.prototype.disableRichFormatting=function(){this.acroField.setFlagTo(so.RichText,!1)},e.prototype.addToPage=function(t,e){var n,o,r,i,a,s,u;Rt(t,"page",[[Ts,"PDFPage"]]),us(e),e||(e={}),"textColor"in e||(e.textColor=Wi(0,0,0)),"backgroundColor"in e||(e.backgroundColor=Wi(1,1,1)),"borderColor"in e||(e.borderColor=Wi(0,0,0)),"borderWidth"in e||(e.borderWidth=1);var c=this.createWidget({x:null!==(n=e.x)&&void 0!==n?n:0,y:null!==(o=e.y)&&void 0!==o?o:0,width:null!==(r=e.width)&&void 0!==r?r:200,height:null!==(i=e.height)&&void 0!==i?i:50,textColor:e.textColor,backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderWidth:null!==(a=e.borderWidth)&&void 0!==a?a:0,rotate:null!==(s=e.rotate)&&void 0!==s?s:br(0),hidden:e.hidden,page:t.ref}),h=this.doc.context.register(c.dict);this.acroField.addWidget(h);var l=null!==(u=e.font)&&void 0!==u?u:this.doc.getForm().getDefaultFont();this.updateWidgetAppearance(c,l),t.node.addAnnot(h)},e.prototype.needsAppearancesUpdate=function(){var t;if(this.isDirty())return!0;for(var e=this.acroField.getWidgets(),n=0,o=e.length;n<o;n++){if(!((null===(t=e[n].getAppearances())||void 0===t?void 0:t.normal)instanceof Le))return!0}return!1},e.prototype.defaultUpdateAppearances=function(t){Rt(t,"font",[[rs,"PDFFont"]]),this.updateAppearances(t)},e.prototype.updateAppearances=function(t,e){Rt(t,"font",[[rs,"PDFFont"]]),Mt(e,"provider",[Function]);for(var n=this.acroField.getWidgets(),o=0,r=n.length;o<r;o++){var i=n[o];this.updateWidgetAppearance(i,t,e)}this.markAsClean()},e.prototype.updateWidgetAppearance=function(t,e,n){var o=Ha((null!=n?n:ts)(this,t,e));this.updateWidgetAppearanceWithFont(t,e,o)},e.of=function(t,n,o){return new e(t,n,o)},e}(cs);(ss=as||(as={})).Courier="Courier",ss.CourierBold="Courier-Bold",ss.CourierOblique="Courier-Oblique",ss.CourierBoldOblique="Courier-BoldOblique",ss.Helvetica="Helvetica",ss.HelveticaBold="Helvetica-Bold",ss.HelveticaOblique="Helvetica-Oblique",ss.HelveticaBoldOblique="Helvetica-BoldOblique",ss.TimesRoman="Times-Roman",ss.TimesRomanBold="Times-Bold",ss.TimesRomanItalic="Times-Italic",ss.TimesRomanBoldItalic="Times-BoldItalic",ss.Symbol="Symbol",ss.ZapfDingbats="ZapfDingbats";var ys,vs,bs=function(){function t(t,e){var n=this;this.embedDefaultFont=function(){return n.doc.embedStandardFont(as.Helvetica)},Rt(t,"acroForm",[[Lo,"PDFAcroForm"]]),Rt(e,"doc",[[Bs,"PDFDocument"]]),this.acroForm=t,this.doc=e,this.dirtyFields=new Set,this.defaultFontCache=Zt.populatedBy(this.embedDefaultFont)}return t.prototype.hasXFA=function(){return this.acroForm.dict.has(Re.of("XFA"))},t.prototype.deleteXFA=function(){this.acroForm.dict.delete(Re.of("XFA"))},t.prototype.getFields=function(){for(var t=this.acroForm.getAllFields(),e=[],n=0,o=t.length;n<o;n++){var r=t[n],i=r[0],a=r[1],s=ms(i,a,this.doc);s&&e.push(s)}return e},t.prototype.getFieldMaybe=function(t){Rt(t,"name",["string"]);for(var e=this.getFields(),n=0,o=e.length;n<o;n++){var r=e[n];if(r.getName()===t)return r}},t.prototype.getField=function(t){Rt(t,"name",["string"]);var e=this.getFieldMaybe(t);if(e)return e;throw new Da(t)},t.prototype.getButton=function(t){Rt(t,"name",["string"]);var e=this.getField(t);if(e instanceof Os)return e;throw new Ba(t,Os,e)},t.prototype.getCheckBox=function(t){Rt(t,"name",["string"]);var e=this.getField(t);if(e instanceof hs)return e;throw new Ba(t,hs,e)},t.prototype.getDropdown=function(t){Rt(t,"name",["string"]);var e=this.getField(t);if(e instanceof ls)return e;throw new Ba(t,ls,e)},t.prototype.getOptionList=function(t){Rt(t,"name",["string"]);var e=this.getField(t);if(e instanceof fs)return e;throw new Ba(t,fs,e)},t.prototype.getRadioGroup=function(t){Rt(t,"name",["string"]);var e=this.getField(t);if(e instanceof ds)return e;throw new Ba(t,ds,e)},t.prototype.getSignature=function(t){Rt(t,"name",["string"]);var e=this.getField(t);if(e instanceof ps)return e;throw new Ba(t,ps,e)},t.prototype.getTextField=function(t){Rt(t,"name",["string"]);var e=this.getField(t);if(e instanceof gs)return e;throw new Ba(t,gs,e)},t.prototype.createButton=function(t){Rt(t,"name",["string"]);var e=ws(t),n=this.findOrCreateNonTerminals(e.nonTerminal),o=Bo.create(this.doc.context);return o.setPartialName(e.terminal),xs(n,[o,o.ref],e.terminal),Os.of(o,o.ref,this.doc)},t.prototype.createCheckBox=function(t){Rt(t,"name",["string"]);var e=ws(t),n=this.findOrCreateNonTerminals(e.nonTerminal),o=xo.create(this.doc.context);return o.setPartialName(e.terminal),xs(n,[o,o.ref],e.terminal),hs.of(o,o.ref,this.doc)},t.prototype.createDropdown=function(t){Rt(t,"name",["string"]);var e=ws(t),n=this.findOrCreateNonTerminals(e.nonTerminal),o=Fo.create(this.doc.context);return o.setPartialName(e.terminal),xs(n,[o,o.ref],e.terminal),ls.of(o,o.ref,this.doc)},t.prototype.createOptionList=function(t){Rt(t,"name",["string"]);var e=ws(t),n=this.findOrCreateNonTerminals(e.nonTerminal),o=To.create(this.doc.context);return o.setPartialName(e.terminal),xs(n,[o,o.ref],e.terminal),fs.of(o,o.ref,this.doc)},t.prototype.createRadioGroup=function(t){Rt(t,"name",["string"]);var e=ws(t),n=this.findOrCreateNonTerminals(e.nonTerminal),o=Po.create(this.doc.context);return o.setPartialName(e.terminal),xs(n,[o,o.ref],e.terminal),ds.of(o,o.ref,this.doc)},t.prototype.createTextField=function(t){Rt(t,"name",["string"]);var e=ws(t),n=this.findOrCreateNonTerminals(e.nonTerminal),o=Do.create(this.doc.context);return o.setPartialName(e.terminal),xs(n,[o,o.ref],e.terminal),gs.of(o,o.ref,this.doc)},t.prototype.flatten=function(t){void 0===t&&(t={updateFieldAppearances:!0}),t.updateFieldAppearances&&this.updateFieldAppearances();for(var e=this.getFields(),n=0,o=e.length;n<o;n++){for(var r=e[n],i=r.acroField.getWidgets(),a=0,u=i.length;a<u;a++){var c=i[a],l=this.findWidgetPage(c),f=this.findWidgetAppearanceRef(r,c),d=l.node.newXObject("FlatWidget",f),p=c.getRectangle(),g=h([Jr(),Ir(p.x,p.y)],ya(s(s({},p),{rotation:0})),[ki(d),Yr()]).filter(Boolean);l.pushOperators.apply(l,g)}this.removeField(r)}},t.prototype.removeField=function(t){for(var e=t.acroField.getWidgets(),n=new Set,o=0,r=e.length;o<r;o++){var i=e[o],a=this.findWidgetAppearanceRef(t,i),s=this.findWidgetPage(i);n.add(s),s.node.removeAnnot(a)}n.forEach((function(e){return e.node.removeAnnot(t.ref)})),this.acroForm.removeField(t.acroField);for(var u=t.acroField.normalizedEntries().Kids,c=u.size(),h=0;h<c;h++){var l=u.get(h);l instanceof Ve&&this.doc.context.delete(l)}this.doc.context.delete(t.ref)},t.prototype.updateFieldAppearances=function(t){Mt(t,"font",[[rs,"PDFFont"]]),t=null!=t?t:this.getDefaultFont();for(var e=this.getFields(),n=0,o=e.length;n<o;n++){var r=e[n];r.needsAppearancesUpdate()&&r.defaultUpdateAppearances(t)}},t.prototype.markFieldAsDirty=function(t){Mt(t,"fieldRef",[[Ve,"PDFRef"]]),this.dirtyFields.add(t)},t.prototype.markFieldAsClean=function(t){Mt(t,"fieldRef",[[Ve,"PDFRef"]]),this.dirtyFields.delete(t)},t.prototype.fieldIsDirty=function(t){return Mt(t,"fieldRef",[[Ve,"PDFRef"]]),this.dirtyFields.has(t)},t.prototype.getDefaultFont=function(){return this.defaultFontCache.access()},t.prototype.findWidgetPage=function(t){var e=t.P(),n=this.doc.getPages().find((function(t){return t.ref===e}));if(void 0===n){var o=this.doc.context.getObjectRef(t.dict);if(void 0===o)throw new Error("Could not find PDFRef for PDFObject");if(void 0===(n=this.doc.findPageForAnnotationRef(o)))throw new Error("Could not find page for PDFRef "+o)}return n},t.prototype.findWidgetAppearanceRef=function(t,e){var n,o=e.getNormalAppearance();if(o instanceof ze&&(t instanceof hs||t instanceof ds)){var r=t.acroField.getValue(),i=null!==(n=o.get(r))&&void 0!==n?n:o.get(Re.of("Off"));i instanceof Ve&&(o=i)}if(!(o instanceof Ve)){var a=t.getName();throw new Error("Failed to extract appearance ref for: "+a)}return o},t.prototype.findOrCreateNonTerminals=function(t){for(var e=[this.acroForm],n=0,o=t.length;n<o;n++){var r=t[n];if(!r)throw new Oa(r);var i=e[0],a=e[1],s=this.findNonTerminal(r,i);if(s)e=s;else{var u=Ao.create(this.doc.context);u.setPartialName(r),u.setParent(a);var c=this.doc.context.register(u.dict);i.addField(c),e=[u,c]}}return e},t.prototype.findNonTerminal=function(t,e){for(var n=e instanceof Lo?this.acroForm.getFields():Oo(e.Kids()),o=0,r=n.length;o<r;o++){var i=n[o],a=i[0],s=i[1];if(a.getPartialName()===t){if(a instanceof Ao)return[a,s];throw new Ta(t)}}},t.of=function(e,n){return new t(e,n)},t}(),ms=function(t,e,n){return t instanceof Bo?Os.of(t,e,n):t instanceof xo?hs.of(t,e,n):t instanceof Fo?ls.of(t,e,n):t instanceof To?fs.of(t,e,n):t instanceof Do?gs.of(t,e,n):t instanceof Po?ds.of(t,e,n):t instanceof ko?ps.of(t,e,n):void 0},ws=function(t){if(0===t.length)throw new Error("PDF field names must not be empty strings");for(var e=t.split("."),n=0,o=e.length;n<o;n++)if(""===e[n])throw new Error('Periods in PDF field names must be separated by at least one character: "'+t+'"');return 1===e.length?{nonTerminal:[],terminal:e[0]}:{nonTerminal:e.slice(0,e.length-1),terminal:e[e.length-1]}},xs=function(t,e,n){for(var o=t[0],r=t[1],i=e[0],a=e[1],s=o.normalizedEntries(),u=(Oo("Kids"in s?s.Kids:s.Fields)),c=0,h=u.length;c<h;c++)if(u[c][0].getPartialName()===n)throw new Ta(n);o.addField(a),i.setParent(r)},Cs={"4A0":[4767.87,6740.79],"2A0":[3370.39,4767.87],A0:[2383.94,3370.39],A1:[1683.78,2383.94],A2:[1190.55,1683.78],A3:[841.89,1190.55],A4:[595.28,841.89],A5:[419.53,595.28],A6:[297.64,419.53],A7:[209.76,297.64],A8:[147.4,209.76],A9:[104.88,147.4],A10:[73.7,104.88],B0:[2834.65,4008.19],B1:[2004.09,2834.65],B2:[1417.32,2004.09],B3:[1000.63,1417.32],B4:[708.66,1000.63],B5:[498.9,708.66],B6:[354.33,498.9],B7:[249.45,354.33],B8:[175.75,249.45],B9:[124.72,175.75],B10:[87.87,124.72],C0:[2599.37,3676.54],C1:[1836.85,2599.37],C2:[1298.27,1836.85],C3:[918.43,1298.27],C4:[649.13,918.43],C5:[459.21,649.13],C6:[323.15,459.21],C7:[229.61,323.15],C8:[161.57,229.61],C9:[113.39,161.57],C10:[79.37,113.39],RA0:[2437.8,3458.27],RA1:[1729.13,2437.8],RA2:[1218.9,1729.13],RA3:[864.57,1218.9],RA4:[609.45,864.57],SRA0:[2551.18,3628.35],SRA1:[1814.17,2551.18],SRA2:[1275.59,1814.17],SRA3:[907.09,1275.59],SRA4:[637.8,907.09],Executive:[521.86,756],Folio:[612,936],Legal:[612,1008],Letter:[612,792],Tabloid:[792,1224]};(vs=ys||(ys={}))[vs.Fastest=1/0]="Fastest",vs[vs.Fast=1500]="Fast",vs[vs.Medium=500]="Medium",vs[vs.Slow=100]="Slow";var Ss,Fs,As=function(){function t(t,e,n){this.alreadyEmbedded=!1,this.ref=t,this.doc=e,this.embedder=n}return t.prototype.embed=function(){return u(this,0,void 0,(function(){var t,e,n,o;return c(this,(function(r){switch(r.label){case 0:return this.alreadyEmbedded?[3,2]:[4,this.embedder.embedIntoContext(this.doc.context,this.ref)];case 1:t=r.sent(),this.doc.catalog.has(Re.of("Names"))||this.doc.catalog.set(Re.of("Names"),this.doc.context.obj({})),(e=this.doc.catalog.lookup(Re.of("Names"),ze)).has(Re.of("EmbeddedFiles"))||e.set(Re.of("EmbeddedFiles"),this.doc.context.obj({})),(n=e.lookup(Re.of("EmbeddedFiles"),ze)).has(Re.of("Names"))||n.set(Re.of("Names"),this.doc.context.obj([])),(o=n.lookup(Re.of("Names"),ke)).push(fn.fromText(this.embedder.fileName)),o.push(t),this.doc.catalog.has(Re.of("AF"))||this.doc.catalog.set(Re.of("AF"),this.doc.context.obj([])),this.doc.catalog.lookup(Re.of("AF"),ke).push(t),this.alreadyEmbedded=!0,r.label=2;case 2:return[2]}}))}))},t.of=function(e,n,o){return new t(e,n,o)},t}(),ks=function(){function t(t,e,n){this.alreadyEmbedded=!1,this.ref=t,this.doc=e,this.embedder=n}return t.prototype.embed=function(){return u(this,0,void 0,(function(){var t,e,n,o,r,i,a;return c(this,(function(s){switch(s.label){case 0:return this.alreadyEmbedded?[3,2]:(t=this.doc,e=t.catalog,n=t.context,[4,this.embedder.embedIntoContext(this.doc.context,this.ref)]);case 1:o=s.sent(),e.has(Re.of("Names"))||e.set(Re.of("Names"),n.obj({})),(r=e.lookup(Re.of("Names"),ze)).has(Re.of("JavaScript"))||r.set(Re.of("JavaScript"),n.obj({})),(i=r.lookup(Re.of("JavaScript"),ze)).has(Re.of("Names"))||i.set(Re.of("Names"),n.obj([])),(a=i.lookup(Re.of("Names"),ke)).push(fn.fromText(this.embedder.scriptName)),a.push(o),this.alreadyEmbedded=!0,s.label=2;case 2:return[2]}}))}))},t.of=function(e,n,o){return new t(e,n,o)},t}(),Ds=function(){function t(t,e){this.script=t,this.scriptName=e}return t.for=function(e,n){return new t(e,n)},t.prototype.embedIntoContext=function(t,e){return u(this,0,void 0,(function(){var n;return c(this,(function(o){return n=t.obj({Type:"Action",S:"JavaScript",JS:fn.fromText(this.script)}),e?(t.assign(e,n),[2,e]):[2,t.register(n)]}))}))},t}(),Bs=function(){function t(t,e,n){var o=this;if(this.defaultWordBreaks=[" "],this.computePages=function(){var t=[];return o.catalog.Pages().traverse((function(e,n){if(e instanceof $e){var r=o.pageMap.get(e);r||(r=Ts.of(e,n,o),o.pageMap.set(e,r)),t.push(r)}})),t},this.getOrCreateForm=function(){var t=o.catalog.getOrCreateAcroForm();return bs.of(t,o)},Rt(t,"context",[[Qe,"PDFContext"]]),Rt(e,"ignoreEncryption",["boolean"]),this.context=t,this.catalog=t.lookup(t.trailerInfo.Root),this.isEncrypted=!!t.lookup(t.trailerInfo.Encrypt),this.pageCache=Zt.populatedBy(this.computePages),this.pageMap=new Map,this.formCache=Zt.populatedBy(this.getOrCreateForm),this.fonts=[],this.images=[],this.embeddedPages=[],this.embeddedFiles=[],this.javaScripts=[],!e&&this.isEncrypted)throw new Sa;n&&this.updateInfoDict()}return t.load=function(e,n){return void 0===n&&(n={}),u(this,0,void 0,(function(){var o,r,i,a,s,u,h,l,f,d,p;return c(this,(function(c){switch(c.label){case 0:return o=n.ignoreEncryption,r=void 0!==o&&o,i=n.parseSpeed,a=void 0===i?ys.Slow:i,s=n.throwOnInvalidObject,u=void 0!==s&&s,h=n.updateMetadata,l=void 0===h||h,f=n.capNumbers,d=void 0!==f&&f,Rt(e,"pdf",["string",Uint8Array,ArrayBuffer]),Rt(r,"ignoreEncryption",["boolean"]),Rt(a,"parseSpeed",["number"]),Rt(u,"throwOnInvalidObject",["boolean"]),p=tt(e),[4,ur.forBytesWithOptions(p,a,u,d).parseDocument()];case 1:return[2,new t(c.sent(),r,l)]}}))}))},t.create=function(e){return void 0===e&&(e={}),u(this,0,void 0,(function(){var n,o,r,i,a,s;return c(this,(function(u){return n=e.updateMetadata,o=void 0===n||n,r=Qe.create(),i=Ko.withContext(r),a=r.register(i),s=Uo.withContextAndPages(r,a),r.trailerInfo.Root=r.register(s),[2,new t(r,!1,o)]}))}))},t.prototype.registerFontkit=function(t){this.fontkit=t},t.prototype.getForm=function(){var t=this.formCache.access();return t.hasXFA()&&(console.warn("Removing XFA form data as pdf-lib does not support reading or writing XFA"),t.deleteXFA()),t},t.prototype.getTitle=function(){var t=this.getInfoDict().lookup(Re.Title);if(t)return Ps(t),t.decodeText()},t.prototype.getAuthor=function(){var t=this.getInfoDict().lookup(Re.Author);if(t)return Ps(t),t.decodeText()},t.prototype.getSubject=function(){var t=this.getInfoDict().lookup(Re.Subject);if(t)return Ps(t),t.decodeText()},t.prototype.getKeywords=function(){var t=this.getInfoDict().lookup(Re.Keywords);if(t)return Ps(t),t.decodeText()},t.prototype.getCreator=function(){var t=this.getInfoDict().lookup(Re.Creator);if(t)return Ps(t),t.decodeText()},t.prototype.getProducer=function(){var t=this.getInfoDict().lookup(Re.Producer);if(t)return Ps(t),t.decodeText()},t.prototype.getCreationDate=function(){var t=this.getInfoDict().lookup(Re.CreationDate);if(t)return Ps(t),t.decodeDate()},t.prototype.getModificationDate=function(){var t=this.getInfoDict().lookup(Re.ModDate);if(t)return Ps(t),t.decodeDate()},t.prototype.setTitle=function(t,e){Rt(t,"title",["string"]);var n=Re.of("Title");(this.getInfoDict().set(n,fn.fromText(t)),null==e?void 0:e.showInWindowTitleBar)&&this.catalog.getOrCreateViewerPreferences().setDisplayDocTitle(!0)},t.prototype.setAuthor=function(t){Rt(t,"author",["string"]);var e=Re.of("Author");this.getInfoDict().set(e,fn.fromText(t))},t.prototype.setSubject=function(t){Rt(t,"author",["string"]);var e=Re.of("Subject");this.getInfoDict().set(e,fn.fromText(t))},t.prototype.setKeywords=function(t){Rt(t,"keywords",[Array]);var e=Re.of("Keywords");this.getInfoDict().set(e,fn.fromText(t.join(" ")))},t.prototype.setCreator=function(t){Rt(t,"creator",["string"]);var e=Re.of("Creator");this.getInfoDict().set(e,fn.fromText(t))},t.prototype.setProducer=function(t){Rt(t,"creator",["string"]);var e=Re.of("Producer");this.getInfoDict().set(e,fn.fromText(t))},t.prototype.setLanguage=function(t){Rt(t,"language",["string"]);var e=Re.of("Lang");this.catalog.set(e,bn.of(t))},t.prototype.setCreationDate=function(t){Rt(t,"creationDate",[[Date,"Date"]]);var e=Re.of("CreationDate");this.getInfoDict().set(e,bn.fromDate(t))},t.prototype.setModificationDate=function(t){Rt(t,"modificationDate",[[Date,"Date"]]);var e=Re.of("ModDate");this.getInfoDict().set(e,bn.fromDate(t))},t.prototype.getPageCount=function(){return void 0===this.pageCount&&(this.pageCount=this.getPages().length),this.pageCount},t.prototype.getPages=function(){return this.pageCache.access()},t.prototype.getPage=function(t){var e=this.getPages();return Wt(t,"index",0,e.length-1),e[t]},t.prototype.getPageIndices=function(){return _(0,this.getPageCount())},t.prototype.removePage=function(t){var e=this.getPageCount();if(0===this.pageCount)throw new ka;Wt(t,"index",0,e-1),this.catalog.removeLeafNode(t),this.pageCount=e-1},t.prototype.addPage=function(t){return Rt(t,"page",["undefined",[Ts,"PDFPage"],Array]),this.insertPage(this.getPageCount(),t)},t.prototype.insertPage=function(t,e){var n=this.getPageCount();if(Wt(t,"index",0,n),Rt(e,"page",["undefined",[Ts,"PDFPage"],Array]),!e||Array.isArray(e)){var o=Array.isArray(e)?e:Cs.A4;(e=Ts.create(this)).setSize.apply(e,o)}else if(e.doc!==this)throw new Aa;var r=this.catalog.insertLeafNode(e.ref,t);return e.node.setParent(r),this.pageMap.set(e.node,e),this.pageCache.invalidate(),this.pageCount=n+1,e},t.prototype.copyPages=function(e,n){return u(this,0,void 0,(function(){var o,r,i,a,s,u,h,l;return c(this,(function(c){switch(c.label){case 0:return Rt(e,"srcDoc",[[t,"PDFDocument"]]),Rt(n,"indices",[Array]),[4,e.flush()];case 1:for(c.sent(),o=tn.for(e.context,this.context),r=e.getPages(),i=new Array(n.length),a=0,s=n.length;a<s;a++)u=r[n[a]],h=o.copy(u.node),l=this.context.register(h),i[a]=Ts.of(h,l,this);return[2,i]}}))}))},t.prototype.copy=function(){return u(this,0,void 0,(function(){var e,n,o,r;return c(this,(function(i){switch(i.label){case 0:return[4,t.create()];case 1:return[4,(e=i.sent()).copyPages(this,this.getPageIndices())];case 2:for(n=i.sent(),o=0,r=n.length;o<r;o++)e.addPage(n[o]);return void 0!==this.getAuthor()&&e.setAuthor(this.getAuthor()),void 0!==this.getCreationDate()&&e.setCreationDate(this.getCreationDate()),void 0!==this.getCreator()&&e.setCreator(this.getCreator()),void 0!==this.getModificationDate()&&e.setModificationDate(this.getModificationDate()),void 0!==this.getProducer()&&e.setProducer(this.getProducer()),void 0!==this.getSubject()&&e.setSubject(this.getSubject()),void 0!==this.getTitle()&&e.setTitle(this.getTitle()),e.defaultWordBreaks=this.defaultWordBreaks,[2,e]}}))}))},t.prototype.addJavaScript=function(t,e){Rt(t,"name",["string"]),Rt(e,"script",["string"]);var n=Ds.for(e,t),o=this.context.nextRef(),r=ks.of(o,this,n);this.javaScripts.push(r)},t.prototype.attach=function(t,e,n){return void 0===n&&(n={}),u(this,0,void 0,(function(){var o,r,i,a;return c(this,(function(s){return Rt(t,"attachment",["string",Uint8Array,ArrayBuffer]),Rt(e,"name",["string"]),Mt(n.mimeType,"mimeType",["string"]),Mt(n.description,"description",["string"]),Mt(n.creationDate,"options.creationDate",[Date]),Mt(n.modificationDate,"options.modificationDate",[Date]),Tt(n.afRelationship,"options.afRelationship",un),o=tt(t),r=Sn.for(o,e,n),i=this.context.nextRef(),a=As.of(i,this,r),this.embeddedFiles.push(a),[2]}))}))},t.prototype.embedFont=function(t,e){return void 0===e&&(e={}),u(this,0,void 0,(function(){var n,o,r,i,a,s,u,h,l,f;return c(this,(function(c){switch(c.label){case 0:return n=e.subset,o=void 0!==n&&n,r=e.customName,i=e.features,Rt(t,"font",["string",Uint8Array,ArrayBuffer]),Rt(o,"subset",["boolean"]),St(t)?(a=dn.for(t,r),[3,7]):[3,1];case 1:return $(t)?(s=tt(t),u=this.assertFontkit(),o?[4,wn.for(u,s,r,i)]:[3,3]):[3,6];case 2:return h=c.sent(),[3,5];case 3:return[4,mn.for(u,s,r,i)];case 4:h=c.sent(),c.label=5;case 5:return a=h,[3,7];case 6:throw new TypeError("`font` must be one of `StandardFonts | string | Uint8Array | ArrayBuffer`");case 7:return l=this.context.nextRef(),f=rs.of(l,this,a),this.fonts.push(f),[2,f]}}))}))},t.prototype.embedStandardFont=function(t,e){if(Rt(t,"font",["string"]),!St(t))throw new TypeError("`font` must be one of type `StandardFonts`");var n=dn.for(t,e),o=this.context.nextRef(),r=rs.of(o,this,n);return this.fonts.push(r),r},t.prototype.embedJpg=function(t){return u(this,0,void 0,(function(){var e,n,o,r;return c(this,(function(i){switch(i.label){case 0:return Rt(t,"jpg",["string",Uint8Array,ArrayBuffer]),e=tt(t),[4,Bn.for(e)];case 1:return n=i.sent(),o=this.context.nextRef(),r=is.of(o,this,n),this.images.push(r),[2,r]}}))}))},t.prototype.embedPng=function(t){return u(this,0,void 0,(function(){var e,n,o,r;return c(this,(function(i){switch(i.label){case 0:return Rt(t,"png",["string",Uint8Array,ArrayBuffer]),e=tt(t),[4,Wn.for(e)];case 1:return n=i.sent(),o=this.context.nextRef(),r=is.of(o,this,n),this.images.push(r),[2,r]}}))}))},t.prototype.embedPdf=function(e,n){return void 0===n&&(n=[0]),u(this,0,void 0,(function(){var o,r;return c(this,(function(i){switch(i.label){case 0:return Rt(e,"pdf",["string",Uint8Array,ArrayBuffer,[t,"PDFDocument"]]),Rt(n,"indices",[Array]),e instanceof t?(o=e,[3,3]):[3,1];case 1:return[4,t.load(e)];case 2:o=i.sent(),i.label=3;case 3:return r=Q(o.getPages(),n),[2,this.embedPages(r)]}}))}))},t.prototype.embedPage=function(t,e,n){return u(this,0,void 0,(function(){return c(this,(function(o){switch(o.label){case 0:return Rt(t,"page",[[Ts,"PDFPage"]]),[4,this.embedPages([t],[e],[n])];case 1:return[2,o.sent()[0]]}}))}))},t.prototype.embedPages=function(t,e,n){return void 0===e&&(e=[]),void 0===n&&(n=[]),u(this,0,void 0,(function(){var o,r,i,a,s,u,h,l,f,d,p,g,y;return c(this,(function(c){switch(c.label){case 0:if(0===t.length)return[2,[]];for(u=0,h=t.length-1;u<h;u++)if(o=t[u],r=t[u+1],o.node.context!==r.node.context)throw new oe;i=t[0].node.context,a=i===this.context?function(t){return t}:tn.for(i,this.context).copy,s=new Array(t.length),u=0,h=t.length,c.label=1;case 1:return u<h?(l=a(t[u].node),f=e[u],d=n[u],[4,eo.for(l,f,d)]):[3,4];case 2:p=c.sent(),g=this.context.nextRef(),s[u]=os.of(g,this,p),c.label=3;case 3:return u++,[3,1];case 4:return(y=this.embeddedPages).push.apply(y,s),[2,s]}}))}))},t.prototype.flush=function(){return u(this,0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return[4,this.embedAll(this.fonts)];case 1:return t.sent(),[4,this.embedAll(this.images)];case 2:return t.sent(),[4,this.embedAll(this.embeddedPages)];case 3:return t.sent(),[4,this.embedAll(this.embeddedFiles)];case 4:return t.sent(),[4,this.embedAll(this.javaScripts)];case 5:return t.sent(),[2]}}))}))},t.prototype.save=function(t){return void 0===t&&(t={}),u(this,0,void 0,(function(){var e,n,o,r,i,a,s,u,h;return c(this,(function(c){switch(c.label){case 0:return e=t.useObjectStreams,n=void 0===e||e,o=t.addDefaultPage,r=void 0===o||o,i=t.objectsPerTick,a=void 0===i?50:i,s=t.updateFieldAppearances,u=void 0===s||s,Rt(n,"useObjectStreams",["boolean"]),Rt(r,"addDefaultPage",["boolean"]),Rt(a,"objectsPerTick",["number"]),Rt(u,"updateFieldAppearances",["boolean"]),r&&0===this.getPageCount()&&this.addPage(),u&&(h=this.formCache.getValue())&&h.updateFieldAppearances(),[4,this.flush()];case 1:return c.sent(),[2,(n?ln:an).forContext(this.context,a).serializeToBuffer()]}}))}))},t.prototype.saveAsBase64=function(t){return void 0===t&&(t={}),u(this,0,void 0,(function(){var e,n,o,r,i;return c(this,(function(a){switch(a.label){case 0:return e=t.dataUri,n=void 0!==e&&e,o=function(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(t);r<o.length;r++)e.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(n[o[r]]=t[o[r]])}return n}(t,["dataUri"]),Rt(n,"dataUri",["boolean"]),[4,this.save(o)];case 1:return r=a.sent(),i=y(r),[2,n?"data:application/pdf;base64,"+i:i]}}))}))},t.prototype.findPageForAnnotationRef=function(t){for(var e=this.getPages(),n=0,o=e.length;n<o;n++){var r=e[n],i=r.node.Annots();if(void 0!==(null==i?void 0:i.indexOf(t)))return r}},t.prototype.embedAll=function(t){return u(this,0,void 0,(function(){var e,n;return c(this,(function(o){switch(o.label){case 0:e=0,n=t.length,o.label=1;case 1:return e<n?[4,t[e].embed()]:[3,4];case 2:o.sent(),o.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))},t.prototype.updateInfoDict=function(){var t="pdf-lib (https://github.com/Hopding/pdf-lib)",e=new Date,n=this.getInfoDict();this.setProducer(t),this.setModificationDate(e),n.get(Re.of("Creator"))||this.setCreator(t),n.get(Re.of("CreationDate"))||this.setCreationDate(e)},t.prototype.getInfoDict=function(){var t=this.context.lookup(this.context.trailerInfo.Info);if(t instanceof ze)return t;var e=this.context.obj({});return this.context.trailerInfo.Info=this.context.register(e),e},t.prototype.assertFontkit=function(){if(!this.fontkit)throw new Fa;return this.fontkit},t}();function Ps(t){if(!(t instanceof fn||t instanceof bn))throw new _t([fn,bn],t)}(Fs=Ss||(Ss={})).Normal="Normal",Fs.Multiply="Multiply",Fs.Screen="Screen",Fs.Overlay="Overlay",Fs.Darken="Darken",Fs.Lighten="Lighten",Fs.ColorDodge="ColorDodge",Fs.ColorBurn="ColorBurn",Fs.HardLight="HardLight",Fs.SoftLight="SoftLight",Fs.Difference="Difference",Fs.Exclusion="Exclusion";var Ts=function(){function t(t,e,n){this.fontSize=24,this.fontColor=Wi(0,0,0),this.lineHeight=24,this.x=0,this.y=0,Rt(t,"leafNode",[[$e,"PDFPageLeaf"]]),Rt(e,"ref",[[Ve,"PDFRef"]]),Rt(n,"doc",[[Bs,"PDFDocument"]]),this.node=t,this.ref=e,this.doc=n}return t.prototype.setRotation=function(t){var e=Fr(t);Lt(e,"degreesAngle",90),this.node.set(Re.of("Rotate"),this.doc.context.obj(e))},t.prototype.getRotation=function(){var t=this.node.Rotate();return br(t?t.asNumber():0)},t.prototype.setSize=function(t,e){Rt(t,"width",["number"]),Rt(e,"height",["number"]);var n=this.getMediaBox();this.setMediaBox(n.x,n.y,t,e);var o=this.getCropBox(),r=this.getBleedBox(),i=this.getTrimBox(),a=this.getArtBox(),s=this.node.CropBox(),u=this.node.BleedBox(),c=this.node.TrimBox(),h=this.node.ArtBox();s&&Ft(o,n)&&this.setCropBox(n.x,n.y,t,e),u&&Ft(r,n)&&this.setBleedBox(n.x,n.y,t,e),c&&Ft(i,n)&&this.setTrimBox(n.x,n.y,t,e),h&&Ft(a,n)&&this.setArtBox(n.x,n.y,t,e)},t.prototype.setWidth=function(t){Rt(t,"width",["number"]),this.setSize(t,this.getSize().height)},t.prototype.setHeight=function(t){Rt(t,"height",["number"]),this.setSize(this.getSize().width,t)},t.prototype.setMediaBox=function(t,e,n,o){Rt(t,"x",["number"]),Rt(e,"y",["number"]),Rt(n,"width",["number"]),Rt(o,"height",["number"]);var r=this.doc.context.obj([t,e,t+n,e+o]);this.node.set(Re.MediaBox,r)},t.prototype.setCropBox=function(t,e,n,o){Rt(t,"x",["number"]),Rt(e,"y",["number"]),Rt(n,"width",["number"]),Rt(o,"height",["number"]);var r=this.doc.context.obj([t,e,t+n,e+o]);this.node.set(Re.CropBox,r)},t.prototype.setBleedBox=function(t,e,n,o){Rt(t,"x",["number"]),Rt(e,"y",["number"]),Rt(n,"width",["number"]),Rt(o,"height",["number"]);var r=this.doc.context.obj([t,e,t+n,e+o]);this.node.set(Re.BleedBox,r)},t.prototype.setTrimBox=function(t,e,n,o){Rt(t,"x",["number"]),Rt(e,"y",["number"]),Rt(n,"width",["number"]),Rt(o,"height",["number"]);var r=this.doc.context.obj([t,e,t+n,e+o]);this.node.set(Re.TrimBox,r)},t.prototype.setArtBox=function(t,e,n,o){Rt(t,"x",["number"]),Rt(e,"y",["number"]),Rt(n,"width",["number"]),Rt(o,"height",["number"]);var r=this.doc.context.obj([t,e,t+n,e+o]);this.node.set(Re.ArtBox,r)},t.prototype.getSize=function(){var t=this.getMediaBox();return{width:t.width,height:t.height}},t.prototype.getWidth=function(){return this.getSize().width},t.prototype.getHeight=function(){return this.getSize().height},t.prototype.getMediaBox=function(){return this.node.MediaBox().asRectangle()},t.prototype.getCropBox=function(){var t,e=this.node.CropBox();return null!==(t=null==e?void 0:e.asRectangle())&&void 0!==t?t:this.getMediaBox()},t.prototype.getBleedBox=function(){var t,e=this.node.BleedBox();return null!==(t=null==e?void 0:e.asRectangle())&&void 0!==t?t:this.getCropBox()},t.prototype.getTrimBox=function(){var t,e=this.node.TrimBox();return null!==(t=null==e?void 0:e.asRectangle())&&void 0!==t?t:this.getCropBox()},t.prototype.getArtBox=function(){var t,e=this.node.ArtBox();return null!==(t=null==e?void 0:e.asRectangle())&&void 0!==t?t:this.getCropBox()},t.prototype.translateContent=function(t,e){Rt(t,"x",["number"]),Rt(e,"y",["number"]),this.node.normalize(),this.getContentStream();var n=this.createContentStream(Jr(),Ir(t,e)),o=this.doc.context.register(n),r=this.createContentStream(Yr()),i=this.doc.context.register(r);this.node.wrapContentStreams(o,i)},t.prototype.scale=function(t,e){Rt(t,"x",["number"]),Rt(e,"y",["number"]),this.setSize(this.getWidth()*t,this.getHeight()*e),this.scaleContent(t,e),this.scaleAnnotations(t,e)},t.prototype.scaleContent=function(t,e){Rt(t,"x",["number"]),Rt(e,"y",["number"]),this.node.normalize(),this.getContentStream();var n=this.createContentStream(Jr(),Rr(t,e)),o=this.doc.context.register(n),r=this.createContentStream(Yr()),i=this.doc.context.register(r);this.node.wrapContentStreams(o,i)},t.prototype.scaleAnnotations=function(t,e){Rt(t,"x",["number"]),Rt(e,"y",["number"]);var n=this.node.Annots();if(n)for(var o=0;o<n.size();o++){var r=n.lookup(o);r instanceof ze&&this.scaleAnnot(r,t,e)}},t.prototype.resetPosition=function(){this.getContentStream(!1),this.x=0,this.y=0},t.prototype.setFont=function(t){Rt(t,"font",[[rs,"PDFFont"]]),this.font=t,this.fontKey=this.node.newFontDictionary(this.font.name,this.font.ref)},t.prototype.setFontSize=function(t){Rt(t,"fontSize",["number"]),this.fontSize=t},t.prototype.setFontColor=function(t){Rt(t,"fontColor",[[Object,"Color"]]),this.fontColor=t},t.prototype.setLineHeight=function(t){Rt(t,"lineHeight",["number"]),this.lineHeight=t},t.prototype.getPosition=function(){return{x:this.x,y:this.y}},t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t.prototype.moveTo=function(t,e){Rt(t,"x",["number"]),Rt(e,"y",["number"]),this.x=t,this.y=e},t.prototype.moveDown=function(t){Rt(t,"yDecrease",["number"]),this.y-=t},t.prototype.moveUp=function(t){Rt(t,"yIncrease",["number"]),this.y+=t},t.prototype.moveLeft=function(t){Rt(t,"xDecrease",["number"]),this.x-=t},t.prototype.moveRight=function(t){Rt(t,"xIncrease",["number"]),this.x+=t},t.prototype.pushOperators=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];Et(t,"operator",[[He,"PDFOperator"]]);var n=this.getContentStream();n.push.apply(n,t)},t.prototype.drawText=function(t,e){var n,o,r,i,a,s,u;void 0===e&&(e={}),Rt(t,"text",["string"]),Mt(e.color,"options.color",[[Object,"Color"]]),zt(e.opacity,"opacity.opacity",0,1),Mt(e.font,"options.font",[[rs,"PDFFont"]]),Mt(e.size,"options.size",["number"]),Mt(e.rotate,"options.rotate",[[Object,"Rotation"]]),Mt(e.xSkew,"options.xSkew",[[Object,"Rotation"]]),Mt(e.ySkew,"options.ySkew",[[Object,"Rotation"]]),Mt(e.x,"options.x",["number"]),Mt(e.y,"options.y",["number"]),Mt(e.lineHeight,"options.lineHeight",["number"]),Mt(e.maxWidth,"options.maxWidth",["number"]),Mt(e.wordBreaks,"options.wordBreaks",[Array]),Tt(e.blendMode,"options.blendMode",Ss);for(var c=this.setOrEmbedFont(e.font),h=c.oldFont,l=c.newFont,f=c.newFontKey,d=e.size||this.fontSize,p=e.wordBreaks||this.doc.defaultWordBreaks,g=void 0===e.maxWidth?I(T(t)):W(t,p,e.maxWidth,(function(t){return l.widthOfTextAtSize(t,d)})),y=new Array(g.length),v=0,b=g.length;v<b;v++)y[v]=l.encodeText(g[v]);var m=this.maybeEmbedGraphicsState({opacity:e.opacity,blendMode:e.blendMode}),w=this.getContentStream();w.push.apply(w,aa(y,{color:null!==(n=e.color)&&void 0!==n?n:this.fontColor,font:f,size:d,rotate:null!==(o=e.rotate)&&void 0!==o?o:br(0),xSkew:null!==(r=e.xSkew)&&void 0!==r?r:br(0),ySkew:null!==(i=e.ySkew)&&void 0!==i?i:br(0),x:null!==(a=e.x)&&void 0!==a?a:this.x,y:null!==(s=e.y)&&void 0!==s?s:this.y,lineHeight:null!==(u=e.lineHeight)&&void 0!==u?u:this.lineHeight,graphicsState:m})),e.font&&(h?this.setFont(h):this.resetFont())},t.prototype.drawImage=function(t,e){var n,o,r,i,a,s,u;void 0===e&&(e={}),Rt(t,"image",[[is,"PDFImage"]]),Mt(e.x,"options.x",["number"]),Mt(e.y,"options.y",["number"]),Mt(e.width,"options.width",["number"]),Mt(e.height,"options.height",["number"]),Mt(e.rotate,"options.rotate",[[Object,"Rotation"]]),Mt(e.xSkew,"options.xSkew",[[Object,"Rotation"]]),Mt(e.ySkew,"options.ySkew",[[Object,"Rotation"]]),zt(e.opacity,"opacity.opacity",0,1),Tt(e.blendMode,"options.blendMode",Ss);var c=this.node.newXObject("Image",t.ref),h=this.maybeEmbedGraphicsState({opacity:e.opacity,blendMode:e.blendMode}),l=this.getContentStream();l.push.apply(l,sa(c,{x:null!==(n=e.x)&&void 0!==n?n:this.x,y:null!==(o=e.y)&&void 0!==o?o:this.y,width:null!==(r=e.width)&&void 0!==r?r:t.size().width,height:null!==(i=e.height)&&void 0!==i?i:t.size().height,rotate:null!==(a=e.rotate)&&void 0!==a?a:br(0),xSkew:null!==(s=e.xSkew)&&void 0!==s?s:br(0),ySkew:null!==(u=e.ySkew)&&void 0!==u?u:br(0),graphicsState:h}))},t.prototype.drawPage=function(t,e){var n,o,r,i,a;void 0===e&&(e={}),Rt(t,"embeddedPage",[[os,"PDFEmbeddedPage"]]),Mt(e.x,"options.x",["number"]),Mt(e.y,"options.y",["number"]),Mt(e.xScale,"options.xScale",["number"]),Mt(e.yScale,"options.yScale",["number"]),Mt(e.width,"options.width",["number"]),Mt(e.height,"options.height",["number"]),Mt(e.rotate,"options.rotate",[[Object,"Rotation"]]),Mt(e.xSkew,"options.xSkew",[[Object,"Rotation"]]),Mt(e.ySkew,"options.ySkew",[[Object,"Rotation"]]),zt(e.opacity,"opacity.opacity",0,1),Tt(e.blendMode,"options.blendMode",Ss);var s=this.node.newXObject("EmbeddedPdfPage",t.ref),u=this.maybeEmbedGraphicsState({opacity:e.opacity,blendMode:e.blendMode}),c=void 0!==e.width?e.width/t.width:void 0!==e.xScale?e.xScale:1,h=void 0!==e.height?e.height/t.height:void 0!==e.yScale?e.yScale:1,l=this.getContentStream();l.push.apply(l,ua(s,{x:null!==(n=e.x)&&void 0!==n?n:this.x,y:null!==(o=e.y)&&void 0!==o?o:this.y,xScale:c,yScale:h,rotate:null!==(r=e.rotate)&&void 0!==r?r:br(0),xSkew:null!==(i=e.xSkew)&&void 0!==i?i:br(0),ySkew:null!==(a=e.ySkew)&&void 0!==a?a:br(0),graphicsState:u}))},t.prototype.drawSvgPath=function(t,e){var n,o,r,i,a,s,u,c,h;void 0===e&&(e={}),Rt(t,"path",["string"]),Mt(e.x,"options.x",["number"]),Mt(e.y,"options.y",["number"]),Mt(e.scale,"options.scale",["number"]),Mt(e.rotate,"options.rotate",[[Object,"Rotation"]]),Mt(e.borderWidth,"options.borderWidth",["number"]),Mt(e.color,"options.color",[[Object,"Color"]]),zt(e.opacity,"opacity.opacity",0,1),Mt(e.borderColor,"options.borderColor",[[Object,"Color"]]),Mt(e.borderDashArray,"options.borderDashArray",[Array]),Mt(e.borderDashPhase,"options.borderDashPhase",["number"]),Tt(e.borderLineCap,"options.borderLineCap",gr),zt(e.borderOpacity,"options.borderOpacity",0,1),Tt(e.blendMode,"options.blendMode",Ss);var l=this.maybeEmbedGraphicsState({opacity:e.opacity,borderOpacity:e.borderOpacity,blendMode:e.blendMode});"color"in e||"borderColor"in e||(e.borderColor=Wi(0,0,0));var f=this.getContentStream();f.push.apply(f,pa(t,{x:null!==(n=e.x)&&void 0!==n?n:this.x,y:null!==(o=e.y)&&void 0!==o?o:this.y,scale:e.scale,rotate:null!==(r=e.rotate)&&void 0!==r?r:br(0),color:null!==(i=e.color)&&void 0!==i?i:void 0,borderColor:null!==(a=e.borderColor)&&void 0!==a?a:void 0,borderWidth:null!==(s=e.borderWidth)&&void 0!==s?s:0,borderDashArray:null!==(u=e.borderDashArray)&&void 0!==u?u:void 0,borderDashPhase:null!==(c=e.borderDashPhase)&&void 0!==c?c:void 0,borderLineCap:null!==(h=e.borderLineCap)&&void 0!==h?h:void 0,graphicsState:l}))},t.prototype.drawLine=function(t){var e,n,o,r,i;Rt(t.start,"options.start",[[Object,"{ x: number, y: number }"]]),Rt(t.end,"options.end",[[Object,"{ x: number, y: number }"]]),Rt(t.start.x,"options.start.x",["number"]),Rt(t.start.y,"options.start.y",["number"]),Rt(t.end.x,"options.end.x",["number"]),Rt(t.end.y,"options.end.y",["number"]),Mt(t.thickness,"options.thickness",["number"]),Mt(t.color,"options.color",[[Object,"Color"]]),Mt(t.dashArray,"options.dashArray",[Array]),Mt(t.dashPhase,"options.dashPhase",["number"]),Tt(t.lineCap,"options.lineCap",gr),zt(t.opacity,"opacity.opacity",0,1),Tt(t.blendMode,"options.blendMode",Ss);var a=this.maybeEmbedGraphicsState({borderOpacity:t.opacity,blendMode:t.blendMode});"color"in t||(t.color=Wi(0,0,0));var s=this.getContentStream();s.push.apply(s,ca({start:t.start,end:t.end,thickness:null!==(e=t.thickness)&&void 0!==e?e:1,color:null!==(n=t.color)&&void 0!==n?n:void 0,dashArray:null!==(o=t.dashArray)&&void 0!==o?o:void 0,dashPhase:null!==(r=t.dashPhase)&&void 0!==r?r:void 0,lineCap:null!==(i=t.lineCap)&&void 0!==i?i:void 0,graphicsState:a}))},t.prototype.drawRectangle=function(t){var e,n,o,r,i,a,s,u,c,h,l,f,d;void 0===t&&(t={}),Mt(t.x,"options.x",["number"]),Mt(t.y,"options.y",["number"]),Mt(t.width,"options.width",["number"]),Mt(t.height,"options.height",["number"]),Mt(t.rotate,"options.rotate",[[Object,"Rotation"]]),Mt(t.xSkew,"options.xSkew",[[Object,"Rotation"]]),Mt(t.ySkew,"options.ySkew",[[Object,"Rotation"]]),Mt(t.borderWidth,"options.borderWidth",["number"]),Mt(t.color,"options.color",[[Object,"Color"]]),zt(t.opacity,"opacity.opacity",0,1),Mt(t.borderColor,"options.borderColor",[[Object,"Color"]]),Mt(t.borderDashArray,"options.borderDashArray",[Array]),Mt(t.borderDashPhase,"options.borderDashPhase",["number"]),Tt(t.borderLineCap,"options.borderLineCap",gr),zt(t.borderOpacity,"options.borderOpacity",0,1),Tt(t.blendMode,"options.blendMode",Ss);var p=this.maybeEmbedGraphicsState({opacity:t.opacity,borderOpacity:t.borderOpacity,blendMode:t.blendMode});"color"in t||"borderColor"in t||(t.color=Wi(0,0,0));var g=this.getContentStream();g.push.apply(g,ha({x:null!==(e=t.x)&&void 0!==e?e:this.x,y:null!==(n=t.y)&&void 0!==n?n:this.y,width:null!==(o=t.width)&&void 0!==o?o:150,height:null!==(r=t.height)&&void 0!==r?r:100,rotate:null!==(i=t.rotate)&&void 0!==i?i:br(0),xSkew:null!==(a=t.xSkew)&&void 0!==a?a:br(0),ySkew:null!==(s=t.ySkew)&&void 0!==s?s:br(0),borderWidth:null!==(u=t.borderWidth)&&void 0!==u?u:0,color:null!==(c=t.color)&&void 0!==c?c:void 0,borderColor:null!==(h=t.borderColor)&&void 0!==h?h:void 0,borderDashArray:null!==(l=t.borderDashArray)&&void 0!==l?l:void 0,borderDashPhase:null!==(f=t.borderDashPhase)&&void 0!==f?f:void 0,graphicsState:p,borderLineCap:null!==(d=t.borderLineCap)&&void 0!==d?d:void 0}))},t.prototype.drawSquare=function(t){void 0===t&&(t={});var e=t.size;Mt(e,"size",["number"]),this.drawRectangle(s(s({},t),{width:e,height:e}))},t.prototype.drawEllipse=function(t){var e,n,o,r,i,a,s,u,c,h,l;void 0===t&&(t={}),Mt(t.x,"options.x",["number"]),Mt(t.y,"options.y",["number"]),Mt(t.xScale,"options.xScale",["number"]),Mt(t.yScale,"options.yScale",["number"]),Mt(t.rotate,"options.rotate",[[Object,"Rotation"]]),Mt(t.color,"options.color",[[Object,"Color"]]),zt(t.opacity,"opacity.opacity",0,1),Mt(t.borderColor,"options.borderColor",[[Object,"Color"]]),zt(t.borderOpacity,"options.borderOpacity",0,1),Mt(t.borderWidth,"options.borderWidth",["number"]),Mt(t.borderDashArray,"options.borderDashArray",[Array]),Mt(t.borderDashPhase,"options.borderDashPhase",["number"]),Tt(t.borderLineCap,"options.borderLineCap",gr),Tt(t.blendMode,"options.blendMode",Ss);var f=this.maybeEmbedGraphicsState({opacity:t.opacity,borderOpacity:t.borderOpacity,blendMode:t.blendMode});"color"in t||"borderColor"in t||(t.color=Wi(0,0,0));var d=this.getContentStream();d.push.apply(d,da({x:null!==(e=t.x)&&void 0!==e?e:this.x,y:null!==(n=t.y)&&void 0!==n?n:this.y,xScale:null!==(o=t.xScale)&&void 0!==o?o:100,yScale:null!==(r=t.yScale)&&void 0!==r?r:100,rotate:null!==(i=t.rotate)&&void 0!==i?i:void 0,color:null!==(a=t.color)&&void 0!==a?a:void 0,borderColor:null!==(s=t.borderColor)&&void 0!==s?s:void 0,borderWidth:null!==(u=t.borderWidth)&&void 0!==u?u:0,borderDashArray:null!==(c=t.borderDashArray)&&void 0!==c?c:void 0,borderDashPhase:null!==(h=t.borderDashPhase)&&void 0!==h?h:void 0,borderLineCap:null!==(l=t.borderLineCap)&&void 0!==l?l:void 0,graphicsState:f}))},t.prototype.drawCircle=function(t){void 0===t&&(t={});var e=t.size,n=void 0===e?100:e;Mt(n,"size",["number"]),this.drawEllipse(s(s({},t),{xScale:n,yScale:n}))},t.prototype.setOrEmbedFont=function(t){var e=this.font,n=this.fontKey;return t?this.setFont(t):this.getFont(),{oldFont:e,oldFontKey:n,newFont:this.font,newFontKey:this.fontKey}},t.prototype.getFont=function(){if(!this.font||!this.fontKey){var t=this.doc.embedStandardFont(as.Helvetica);this.setFont(t)}return[this.font,this.fontKey]},t.prototype.resetFont=function(){this.font=void 0,this.fontKey=void 0},t.prototype.getContentStream=function(t){return void 0===t&&(t=!0),t&&this.contentStream||(this.contentStream=this.createContentStream(),this.contentStreamRef=this.doc.context.register(this.contentStream),this.node.addContentStream(this.contentStreamRef)),this.contentStream},t.prototype.createContentStream=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this.doc.context.obj({});return Je.of(n,t)},t.prototype.maybeEmbedGraphicsState=function(t){var e=t.opacity,n=t.borderOpacity,o=t.blendMode;if(void 0!==e||void 0!==n||void 0!==o){var r=this.doc.context.obj({Type:"ExtGState",ca:e,CA:n,BM:o});return this.node.newExtGState("GS",r)}},t.prototype.scaleAnnot=function(t,e,n){for(var o=["RD","CL","Vertices","QuadPoints","L","Rect"],r=0,i=o.length;r<i;r++){var a=t.lookup(Re.of(o[r]));a instanceof ke&&a.scalePDFNumbers(e,n)}var s=t.lookup(Re.of("InkList"));if(s instanceof ke)for(r=0,i=s.size();r<i;r++){var u=s.lookup(r);u instanceof ke&&u.scalePDFNumbers(e,n)}},t.of=function(e,n,o){return new t(e,n,o)},t.create=function(e){Rt(e,"doc",[[Bs,"PDFDocument"]]);var n=Ve.of(-1),o=$e.withContextAndParent(e.context,n);return new t(o,e.context.register(o),e)},t}(),Os=function(t){function e(e,n,o){var r=t.call(this,e,n,o)||this;return Rt(e,"acroButton",[[Bo,"PDFAcroPushButton"]]),r.acroField=e,r}return a(e,t),e.prototype.setImage=function(t,e){void 0===e&&(e=Ea.Center);for(var n=this.acroField.getWidgets(),o=0,r=n.length;o<r;o++){var i=n[o],a=this.createImageAppearanceStream(i,t,e);this.updateWidgetAppearances(i,{normal:a})}this.markAsClean()},e.prototype.setFontSize=function(t){Kt(t,"fontSize"),this.acroField.setFontSize(t),this.markAsDirty()},e.prototype.addToPage=function(t,e,n){var o,r,i,a,s,u,c,h,l,f,d;Mt(t,"text",["string"]),Mt(e,"page",[[Ts,"PDFPage"]]),us(n);var p=this.createWidget({x:(null!==(o=null==n?void 0:n.x)&&void 0!==o?o:0)-(null!==(r=null==n?void 0:n.borderWidth)&&void 0!==r?r:0)/2,y:(null!==(i=null==n?void 0:n.y)&&void 0!==i?i:0)-(null!==(a=null==n?void 0:n.borderWidth)&&void 0!==a?a:0)/2,width:null!==(s=null==n?void 0:n.width)&&void 0!==s?s:100,height:null!==(u=null==n?void 0:n.height)&&void 0!==u?u:50,textColor:null!==(c=null==n?void 0:n.textColor)&&void 0!==c?c:Wi(0,0,0),backgroundColor:null!==(h=null==n?void 0:n.backgroundColor)&&void 0!==h?h:Wi(.75,.75,.75),borderColor:null==n?void 0:n.borderColor,borderWidth:null!==(l=null==n?void 0:n.borderWidth)&&void 0!==l?l:0,rotate:null!==(f=null==n?void 0:n.rotate)&&void 0!==f?f:br(0),caption:t,hidden:null==n?void 0:n.hidden,page:e.ref}),g=this.doc.context.register(p.dict);this.acroField.addWidget(g);var y=null!==(d=null==n?void 0:n.font)&&void 0!==d?d:this.doc.getForm().getDefaultFont();this.updateWidgetAppearance(p,y),e.node.addAnnot(g)},e.prototype.needsAppearancesUpdate=function(){var t;if(this.isDirty())return!0;for(var e=this.acroField.getWidgets(),n=0,o=e.length;n<o;n++){if(!((null===(t=e[n].getAppearances())||void 0===t?void 0:t.normal)instanceof Le))return!0}return!1},e.prototype.defaultUpdateAppearances=function(t){Rt(t,"font",[[rs,"PDFFont"]]),this.updateAppearances(t)},e.prototype.updateAppearances=function(t,e){Rt(t,"font",[[rs,"PDFFont"]]),Mt(e,"provider",[Function]);for(var n=this.acroField.getWidgets(),o=0,r=n.length;o<r;o++){var i=n[o];this.updateWidgetAppearance(i,t,e)}},e.prototype.updateWidgetAppearance=function(t,e,n){var o=Ha((null!=n?n:$a)(this,t,e));this.updateWidgetAppearanceWithFont(t,e,o)},e.of=function(t,n,o){return new e(t,n,o)},e}(cs);export{un as AFRelationship,io as AcroButtonFlags,co as AcroChoiceFlags,oo as AcroFieldFlags,so as AcroTextFlags,qo as AnnotationFlags,vo as AppearanceCharacteristics,Ss as BlendMode,Zt as Cache,Ht as CharCodes,wi as ColorTypes,Ia as CombedTextLayoutError,se as CorruptPageTreeError,mn as CustomFontEmbedder,wn as CustomFontSubsetEmbedder,Rn as Duplex,Sa as EncryptedPDFError,Ra as ExceededMaxLengthError,Ta as FieldAlreadyExistsError,Na as FieldExistsAsNonTerminalError,Sn as FileEmbedder,Fa as FontkitNotRegisteredError,Aa as ForeignPageError,Ea as ImageAlignment,ue as IndexOutOfBoundsError,ce as InvalidAcroFieldValueError,Oa as InvalidFieldNamePartError,Ma as InvalidMaxLengthError,ie as InvalidPDFDateStringError,ae as InvalidTargetIndexError,Bn as JpegEmbedder,gr as LineCapStyle,Kr as LineJoinStyle,Jt as MethodNotImplementedError,te as MissingCatalogError,le as MissingDAEntryError,Ce as MissingKeywordError,Pa as MissingOnValueCheckError,xe as MissingPDFHeaderError,ee as MissingPageContentsEmbeddingError,fe as MissingTfOperatorError,he as MultiSelectValueError,ge as NextByteAssertionError,Da as NoSuchFieldError,Pn as NonFullScreenPageMode,de as NumberParsingError,wo as PDFAcroButton,xo as PDFAcroCheckBox,So as PDFAcroChoice,Fo as PDFAcroComboBox,po as PDFAcroField,Lo as PDFAcroForm,To as PDFAcroListBox,Ao as PDFAcroNonTerminal,Bo as PDFAcroPushButton,Po as PDFAcroRadioButton,ko as PDFAcroSignature,mo as PDFAcroTerminal,Do as PDFAcroText,yo as PDFAnnotation,ke as PDFArray,re as PDFArrayIsNotRectangleError,Be as PDFBool,Os as PDFButton,Uo as PDFCatalog,hs as PDFCheckBox,Je as PDFContentStream,Qe as PDFContext,en as PDFCrossRefSection,hn as PDFCrossRefStream,ze as PDFDict,Bs as PDFDocument,ls as PDFDropdown,os as PDFEmbeddedPage,cs as PDFField,Ze as PDFFlateStream,rs as PDFFont,bs as PDFForm,Se as PDFHeader,fn as PDFHexString,is as PDFImage,sn as PDFInvalidObject,ve as PDFInvalidObjectParsingError,ks as PDFJavaScript,Re as PDFName,Me as PDFNull,Ae as PDFNumber,Fe as PDFObject,tn as PDFObjectCopier,ir as PDFObjectParser,ye as PDFObjectParsingError,rn as PDFObjectStream,ar as PDFObjectStreamParser,He as PDFOperator,Ee as PDFOperatorNames,fs as PDFOptionList,Ts as PDFPage,eo as PDFPageEmbedder,$e as PDFPageLeaf,Ko as PDFPageTree,ur as PDFParser,pe as PDFParsingError,ds as PDFRadioGroup,Ue as PDFRawStream,Ve as PDFRef,ps as PDFSignature,Le as PDFStream,be as PDFStreamParsingError,ln as PDFStreamWriter,bn as PDFString,gs as PDFTextField,nn as PDFTrailer,on as PDFTrailerDict,bo as PDFWidgetAnnotation,an as PDFWriter,sr as PDFXRefStreamParser,oe as PageEmbeddingMismatchedContextError,Cs as PageSizes,ys as ParseSpeeds,Wn as PngEmbedder,jn as PrintScaling,Yt as PrivateConstructorError,On as ReadingDirection,ka as RemovePageFromEmptyDocumentError,$t as ReparseError,ja as RichTextFieldReadError,hr as RotationTypes,we as StalledParserError,dn as StandardFontEmbedder,Ct as StandardFontValues,as as StandardFonts,Ri as TextAlignment,Hr as TextRenderingMode,me as UnbalancedParenthesisError,Ba as UnexpectedFieldTypeError,_t as UnexpectedObjectTypeError,ne as UnrecognizedStreamTypeError,Qt as UnsupportedEncodingError,lo as ViewerPreferences,B as addRandomSuffix,kr as adjustDimsForRotation,Qr as appendBezierCurve,$r as appendQuadraticCurve,X as arrayAsString,pr as asNumber,fr as asPDFName,dr as asPDFNumber,Et as assertEachIs,Ut as assertInteger,Rt as assertIs,Pt as assertIsOneOf,Tt as assertIsOneOfOrUndefined,Ot as assertIsSubset,Lt as assertMultiple,Mt as assertOrUndefined,Kt as assertPositive,Wt as assertRange,zt as assertRangeOrUndefined,At as backtick,ji as beginMarkedContent,fi as beginText,W as breakTextIntoLines,q as byAscendingId,mt as bytesFor,$ as canBeConvertedToUint8Array,M as charAtIndex,F as charFromCode,A as charFromHexCode,E as charSplit,T as cleanText,Br as clip,Pr as clipEvenOdd,ti as closePath,zi as cmyk,Xi as colorToComponents,Hi as componentsToColor,jr as concatTransformationMatrix,D as copyStringIntoBuffer,No as createPDFAcroField,Oo as createPDFAcroFields,It as createTypeErrorMsg,Bt as createValueErrorMsg,v as decodeFromBase64,m as decodeFromBase64DataUri,to as decodePDFRawStream,$a as defaultButtonAppearanceProvider,_a as defaultCheckBoxAppearanceProvider,es as defaultDropdownAppearanceProvider,ns as defaultOptionListAppearanceProvider,Qa as defaultRadioGroupAppearanceProvider,ts as defaultTextFieldAppearanceProvider,br as degrees,xr as degreesToRadians,ma as drawButton,va as drawCheckBox,ga as drawCheckMark,da as drawEllipse,fa as drawEllipsePath,sa as drawImage,ca as drawLine,aa as drawLinesOfText,ki as drawObject,Ca as drawOptionList,ua as drawPage,ba as drawRadioButton,ha as drawRectangle,pa as drawSvgPath,ia as drawText,xa as drawTextField,wa as drawTextLines,y as encodeToBase64,Ii as endMarkedContent,ui as endPath,di as endText,wt as error,P as escapeRegExp,O as escapedNewlineChars,ai as fill,si as fillAndStroke,U as findLastMatch,Nt as getType,Ei as grayscale,it as hasSurrogates,yt as hasUtf16BOM,at as highSurrogate,j as isNewlineChar,St as isStandardFont,jt as isType,rt as isWithinBMP,K as last,Ga as layoutCombedText,Ka as layoutMultilineText,Va as layoutSinglelineText,I as lineSplit,ni as lineTo,st as lowSurrogate,V as mergeIntoTypedArray,R as mergeLines,H as mergeUint8Arrays,hi as moveText,ei as moveTo,N as newlineChars,ci as nextLine,Ha as normalizeAppearance,vt as numberToString,k as padStart,L as parseDate,qt as pdfDocEncodingDecode,Q as pluckIndices,Yr as popGraphicsState,Jr as pushGraphicsState,vr as radians,Cr as radiansToDegrees,_ as range,oi as rectangle,Ft as rectanglesAreEqual,Ar as reduceRotation,Ur as restoreDashPattern,J as reverseArray,Wi as rgb,Ai as rotateAndSkewTextDegreesAndTranslate,Fi as rotateAndSkewTextRadiansAndTranslate,Er as rotateDegrees,ya as rotateInPlace,Mr as rotateRadians,Dr as rotateRectangle,Rr as scale,gi as setCharacterSpacing,vi as setCharacterSqueeze,Lr as setDashPattern,Oi as setFillingCmykColor,Gi as setFillingColor,Di as setFillingGrayscaleColor,Pi as setFillingRgbColor,pi as setFontAndSize,Zr as setGraphicsState,Vr as setLineCap,bi as setLineHeight,qr as setLineJoin,_r as setLineWidth,Ni as setStrokingCmykColor,Vi as setStrokingColor,Bi as setStrokingGrayscaleColor,Ti as setStrokingRgbColor,Si as setTextMatrix,Ci as setTextRenderingMode,mi as setTextRise,yi as setWordSpacing,li as showText,kt as singleQuote,bt as sizeInBytes,zr as skewDegrees,Wr as skewRadians,Z as sortedUniq,ri as square,ii as stroke,Y as sum,w as toCharCode,x as toCodePoint,Fr as toDegrees,S as toHexString,C as toHexStringOfMinLength,Sr as toRadians,tt as toUint8Array,Ir as translate,G as typedArrayFor,ct as utf16Decode,ot as utf16Encode,nt as utf8Encode,xt as values,et as waitForTick};
