const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./MySwal-CYyLTihf.js","./sweetalert2.esm.all-BZxvatOx.js","./index-BoH2j3cU.js","./index-DY-hiTTZ.css"])))=>i.map(i=>d[i]);
import{r as e,b3 as n,aQ as i,bj as t,aS as r}from"./index-BoH2j3cU.js";import{u as a,d as s,t as o,S as c,c as l,aH as u,v as d,b as h}from"./MyApp-D93h0aQZ.js";import{checkVIP as m}from"./useVIP-f__zpoad.js";import{a as g}from"./index-p3GZU5lJ.js";import{D as f}from"./index-BwkmqrWl.js";function x(){const{ti:x}=a(),{message:p,notification:y}=s(),[w,k]=e.useState(!1),j=e.useRef(!1),v=async(e={},a=!1)=>{if(w)return!0;const s=(await i((async()=>{const{default:e}=await import("./MySwal-CYyLTihf.js");return{default:e}}),__vite__mapDeps([0,1,2,3]),import.meta.url)).default;return(await s.fire({title:(null==e?void 0:e.title)||x({en:"Confirm",vi:"X√°c nh·∫≠n"}),showCancelButton:!0,cancelButtonText:x({en:"Cancel",vi:"Hu·ª∑"}),confirmButtonText:(null==e?void 0:e.confirmButtonText)||x({en:"OK",vi:"OK"}),html:n.jsxs(c,{direction:"vertical",children:[n.jsx(l.Text,{children:(null==e?void 0:e.text)||x({en:"Are you sure?",vi:"Ch·∫Øc ch·ª©?"})}),a?n.jsxs(n.Fragment,{children:[n.jsx(f,{}),n.jsx(g,{defaultChecked:j.current,name:"bypassError",onChange:e=>j.current=e.target.checked,children:n.jsxs(c,{direction:"vertical",size:0,children:[n.jsx(l.Text,{strong:!0,children:x({en:"Auto skip when error occurs?",vi:"T·ª± ƒë·ªông b·ªè qua khi g·∫∑p l·ªói?"})}),n.jsx(l.Text,{type:"danger",style:{fontStyle:"italic"},children:x({en:"Recommend OFF, avoid Facebook ban when reach limit",vi:"N√™n T·∫ÆT, tr√°nh b·ªã facebook ban khi d√≠nh limit"})})]})})]}):n.jsx(c,{children:n.jsx(t,{size:"small",expandIcon:()=>null,items:[{key:"1",label:n.jsxs(l.Text,{children:[n.jsx("i",{className:"fa-solid fa-eye-slash"})," ",x({en:"Do not show again",vi:"Kh√¥ng hi·ªán l·∫°i"})]}),children:n.jsxs(c,{direction:"vertical",size:0,children:[n.jsx(h,{color:"error",children:x({en:"Warning",vi:"L∆∞u √Ω"})}),n.jsx("ul",{style:{textAlign:"left"},children:x({en:["‚è≥ Please wait few seconds each click","üö´ To prevent ban from Facebook","‚ùå Can not use action when you are banned"],vi:["‚è≥ N√™n ch·ªù v√†i gi√¢y gi·ªØa nh·ªØng l·∫ßn click","üö´ ƒê·ªÉ tr√°nh b·ªã ban b·ªüi Facebook","‚ùå Kh√¥ng d√πng ƒë∆∞·ª£c ch·ª©c nƒÉng n·∫øu b·ªã ban"]}).map(((e,i)=>n.jsx("li",{children:e},i)))}),n.jsx(h,{color:"success",children:x({en:"Recommend",vi:"L·ªùi khuy√™n"})}),n.jsx("ul",{style:{textAlign:"left"},children:x({en:["‚úÖ You can select multiple rows","ü§ñ Then click Bulk Actions","‚ö° FB AIO has built-in wait time"],vi:["‚úÖ H√£y t√≠ch ch·ªçn nhi·ªÅu d√≤ng","ü§ñ R·ªìi b·∫•m ch·ª©c nƒÉng ch·∫°y h√†ng lo·∫°t","‚ö° FB AIO c√≥ s·∫µn c∆° ch·∫ø ch·ªù"]}).map(((e,i)=>n.jsx("li",{children:e},i)))}),n.jsxs(l.Link,{href:r.FB_AIO.banWarning,target:"_blank",onClick:()=>{o("ban_warning")},children:[x({en:"Read more",vi:"Xem th√™m"})," ",n.jsx("i",{className:"fa-solid fa-arrow-up-right-from-square"})]}),n.jsx(g,{name:"confirm",onChange:e=>k(e.target.checked),children:x({en:"Understood. Dont show again",vi:"ƒê√£ hi·ªÉu. Kh√¥ng h·ªâ·ªán l·∫°i"})})]})}]})})]}),...e})).isConfirmed};return{onClickBulkActions:async function({data:e,key:t,actionFn:r,loadingText:a,successText:s,successDesc:h,successDescItem:f,waitTime:w=[2e3,5e3],requireVIP:k=!0,needConfirm:b=!0,showSuccessNoti:T=!0,confirmProps:C}){if(b){if(!(await v(C,!0)))return}if(k&&!(await m()))return;if(!(null==e?void 0:e.length))return;const A=t+":waiting";o(t);let F=!1,B=[];for(let o=0;o<e.length&&(p.destroy(A),!F);o++){const s={key:t,content:n.jsxs(n.Fragment,{children:[a(e[o],o,e)+" ("+(o+1)+"/"+e.length+")",n.jsx("br",{}),n.jsx("i",{children:x({en:"Click to stop",vi:"B·∫•m ƒë·ªÉ d·ª´ng"})})]}),duration:0,onClick:()=>{p.loading({key:t,content:x({en:"Stopping...",vi:"ƒêang d·ª´ng..."}),duration:0}),F=!0}};p.loading(s);try{if(!(await r(e[o])))throw new Error(x({en:"Action failed",vi:"Ch·ª©c nƒÉng kh√¥ng th√†nh c√¥ng"})+": "+x(a(e[o],o,e))+". "+x(null==f?void 0:f(e[o])));B.push(e[o]),p.success(s)}catch(_){if(j.current)y.error({message:_.message,duration:0});else{const e=(await i((async()=>{const{default:e}=await import("./MySwal-CYyLTihf.js");return{default:e}}),__vite__mapDeps([0,1,2,3]),import.meta.url)).default;if(!(await e.fire({title:x({en:"Error occurred",vi:"ƒê√£ x·∫£y ra l·ªói"}),text:_.message,icon:"error",showCancelButton:!0,cancelButtonText:x({en:"Stop",vi:"D·ª´ng"}),confirmButtonText:x({en:"Continue",vi:"Ti·∫øp t·ª•c"}),allowOutsideClick:!1,allowEscapeKey:!1,html:n.jsxs(c,{direction:"vertical",children:[n.jsx(l.Text,{children:_.message}),n.jsx(g,{name:"bypassError",onChange:e=>j.current=e.target.checked,children:x({en:"Auto skip when error occurs",vi:"T·ª± ƒë·ªông b·ªè qua khi g·∫∑p l·ªói"})})]})})).isConfirmed){F=!0;break}}}if(F)break;if(w&&o<e.length-1){const e=u(w[0]||w,w[1]||w);await d(e,(e=>(p.loading({key:A,content:x({en:"Wating "+Math.round(e/1e3)+"s",vi:"ƒêang ƒë·ª£i "+Math.round(e/1e3)+"s"}),duration:0}),F)))}}p.destroy(t),p.destroy(A),T&&y.open({type:"success",duration:0,message:s(B,e)+` (${B.length} / ${e.length})`,description:f?n.jsx("ol",{style:{maxHeight:200,overflowY:"auto",whiteSpace:"pre-wrap"},children:B.map(((e,i)=>n.jsx("li",{children:f(e)},i)))}):null==h?void 0:h(B,e)})},onClickAction:async function({key:e,id:n,record:i,loadingText:t,successText:r,failedText:a,actionFn:s,onSuccess:c,requireVIP:l=!1,needConfirm:u=!0,confirmProps:d,finallyFn:h}){if(u){if(!(await v(d,!1)))return null==h||h(),!1}if(l&&!(await m()))return null==h||h(),!1;o(e),e+=":"+n;try{p.loading({key:e,content:t(i),duration:0});if(await s(i))return null==c||c(),p.success({key:e,content:r(i)}),!0;throw new Error("Action failed")}catch(g){return p.destroy(e),y.open({type:"error",message:a(i),description:g.message}),!1}finally{null==h||h()}}}}export{x as u};
