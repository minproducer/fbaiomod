import{r as i,b3 as e}from"./index-BoH2j3cU.js";import{u as t,t as s,c as r,h as o,i as n,f as a}from"./MyApp-D93h0aQZ.js";import m,{DisplayType as d}from"./Collection-CEHJdMiC.js";import{getStoryViewers as p}from"./stories-BXTaFV6b.js";import{R as j}from"./row-B1CxNhq6.js";import{A as l}from"./index-BMF_2O9_.js";import"./index-CLQrWQaN.js";import"./useCacheState-CRWoF5gI.js";import"./react-hotkeys-hook.esm-V0Xz-7zA.js";import"./index-DD15UiBp.js";import"./index-p3GZU5lJ.js";import"./index-BS-7HFpi.js";import"./index-DWB43XHw.js";import"./Dropdown-C4ZC00F-.js";import"./PurePanel-DNUOZ5MP.js";import"./move-DCq-oE7y.js";import"./index-7X6rB-D6.js";import"./SearchOutlined-BUONfEHJ.js";import"./index-BJjUIN-g.js";import"./useBreakpoint-CUrvcDr2.js";import"./index-CTitp5Qg.js";import"./List-BGWr2xJE.js";import"./index-UsPtaxTh.js";import"./DownOutlined-DRGhK8zp.js";import"./Pagination-CIrtJa5e.js";import"./col-pZhDRk6E.js";import"./index-BwkmqrWl.js";function c({storyId:c,initialViewers:u=[]}){t(),i.useEffect((()=>{s("StoryViewers:onLoad")}),[]);return e.jsx(m,{collectionName:"viewers of "+c,fetchNext:async(i=[],e)=>{var t;const s=await p({storyId:c,cursor:e||(null==(t=i[i.length-1])?void 0:t.cursor)||""}),r=new Set(i.map((i=>i.uid)));return s.filter((i=>!r.has(i.uid)))},rowKey:i=>i.uid,renderItem:(i,t)=>e.jsxs(j,{align:"middle",justify:"space-between",style:{width:"100%"},children:[e.jsxs(r.Link,{href:o(i.uid),target:"_blank",style:{color:"#eee",padding:10},children:[(t||0)+1,".",e.jsx(l,{src:n(i.uid,50),style:{marginRight:10,marginLeft:10},size:40}),i.name," ",i.reactions]},i.uid),e.jsx(r.Text,{style:{},children:a(i.seen_time)})]}),initialData:u,displayType:d.Vertical,centerItems:!1})}export{c as default};
