import{r as e,b3 as t,b8 as o}from"./index-BoH2j3cU.js";import{createComment as n}from"./comments-Db0f97Vq.js";import{getPostIdFromUrl as s}from"./getIds-CXkkWBEB.js";import i from"./MyTable-B-PXqHUM.js";import m from"./useCacheState-CRWoF5gI.js";import{u as r,d as a,S as d,v as l}from"./MyApp-D93h0aQZ.js";import{C as c}from"./col-pZhDRk6E.js";import{D as p}from"./index-BwkmqrWl.js";import{C as j}from"./index-CCn4Ygtp.js";import{I as x}from"./index-7X6rB-D6.js";import{T as h}from"./index-DFDl0PJq.js";import"./videos-CoQTeQLu.js";import"./index-CLQrWQaN.js";import"./Table-CSd7eQib.js";import"./List-BGWr2xJE.js";import"./DownOutlined-DRGhK8zp.js";import"./index-BaNQURuW.js";import"./index-BS-7HFpi.js";import"./index-p3GZU5lJ.js";import"./index-DWB43XHw.js";import"./Dropdown-C4ZC00F-.js";import"./PurePanel-DNUOZ5MP.js";import"./move-DCq-oE7y.js";import"./index-CTitp5Qg.js";import"./index-UsPtaxTh.js";import"./SearchOutlined-BUONfEHJ.js";import"./useBreakpoint-CUrvcDr2.js";import"./Pagination-CIrtJa5e.js";import"./row-B1CxNhq6.js";import"./index-IueWr_3q.js";function u(){const{ti:u}=r(),{message:f}=a(),[g,C]=m("CommentToPost.postID",""),[v,I]=m("CommentToPost.comment",""),[w,T]=m("CommentToPost.maxComment",100),[D,P]=m("CommentToPost.waitTime",1e3),[y,b]=m("CommentToPost.commentHistory",[]),[L,S]=m("CommentToPost.running",!1),[k,F]=e.useState(!1),U=async()=>{if(L||!g||!v)return S(!1);S(!0);const e=[...y];for(;e.length<w;){const t=null==v?void 0:v.replace("{i}",e.length+1+""),o=await n({postID:g,comment:t});if(await l(D),o){const n={index:e.length,time:Date.now(),comment:t,postID:g,url:o};e.unshift(n),b((e=>[n,...e])),f.success({content:"Commented "+t})}else f.error({content:"Failed to comment"})}S(!1)};return t.jsxs(c,{children:[t.jsx(j,{title:u({en:"Config",vi:"Cấu hình"}),children:t.jsxs(d,{direction:"vertical",children:[t.jsx("span",{children:u({en:"Enter Post URL",vi:"Nhập URL bài viết"})}),t.jsx(x,{placeholder:"Post URL/ID",value:g,disabled:k,onChange:async e=>{C(e.target.value);const t="CommentToPost:getPostIdFromUrl";F(!0),f.loading({key:t,content:"Getting post ID from URL...",duration:0});const o=await s(e.target.value);o?(C(o),f.success({key:t,content:"Found post ID: "+o})):(C(""),f.error({key:t,content:"Failed to get post ID"})),F(!1)}}),t.jsx("span",{children:"Comment:"}),t.jsx(x.TextArea,{placeholder:"Comment",value:v,onChange:e=>I(e.target.value)}),t.jsx("span",{children:"Max comment:"}),t.jsx(h,{placeholder:"Max comment",min:0,step:1,value:w,onChange:e=>T(e)}),t.jsx("span",{children:"Wait time:"}),t.jsx(h,{placeholder:"Wait time",min:500,max:1e4,step:100,value:D,onChange:e=>P(e)}),t.jsx(o,{type:"primary",disabled:!g||!v,onClick:U,icon:t.jsx("i",{className:"fa-solid fa-plus"}),children:u({en:"Add job",vi:"Thêm công việc"})})]})}),t.jsx(p,{}),t.jsx("h2",{children:"Comment history"}),t.jsx(i,{columns:[{title:"#",dataIndex:"index",width:50},{title:"Time",dataIndex:"time",render:e=>t.jsx(t.Fragment,{children:new Date(e).toLocaleString()}),width:150},{title:"Comment",dataIndex:"comment",width:200},{title:"URL",dataIndex:"url",render:e=>t.jsx("a",{href:e,children:t.jsx("i",{className:"fa-solid fa-arrow-up-right-from-square"})}),width:50}],data:y,searchable:!0})]})}export{u as default};
