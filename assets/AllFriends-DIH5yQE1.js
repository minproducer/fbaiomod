import{bf as e,aV as n,aT as i,r as t,b3 as s,b8 as l,bn as r,bl as a,aS as o}from"./index-BoH2j3cU.js";import{d}from"./dayjs.min-BtTaSKBf.js";import c from"./MyTable-B-PXqHUM.js";import{E as u}from"./ExportButton-bON9fXxS.js";import{u as h,d as g,a as m,m as f,n as v,t as k,I as p,i as y,S as x,c as b,h as j,s as F,b as w,e as S,f as C,p as T,q as N,T as D,v as $,o as E,w as q,x as A}from"./MyApp-D93h0aQZ.js";import I from"./useCacheState-CRWoF5gI.js";import{u as B}from"./useForceStop-BT3l6lDG.js";import{QuickFilterType as U,getAllFriends as R,QuickFilterLang as H,unfriend as Q,pokeFriend as P,addFriend as L,findBuddy as M,getProfileFriendsSection as _,FriendSection as Y,getFriendBirthdays as O,getAddFriendTime as W,getUnfriended as K,getFollowers as G}from"./friends-CuTZrwTt.js";import{getPostsInteractions as X}from"./posts-DhPOCJyC.js";import{d as V}from"./messages-BuA_OyFY.js";import{checkVIP as z}from"./useVIP-f__zpoad.js";import J from"./WordStatisticButton-DGDRooso.js";import{u as Z}from"./useAction-B53X_KY4.js";import ee from"./UploadModal-3gkwUyvU.js";import{B as ne}from"./BadgeWrapper-D2jAMD-I.js";import{u as ie}from"./useDevMode-BCrlvjeP.js";import{S as te}from"./Screen-BEv7M6xj.js";import{G as se}from"./gender-D7cqwEK5.js";import{R as le}from"./row-B1CxNhq6.js";import{A as re}from"./index-BMF_2O9_.js";import{D as ae}from"./index-DWB43XHw.js";import{P as oe}from"./index-DD15UiBp.js";import{P as de}from"./index-DSCn1aBo.js";import"./index-CLQrWQaN.js";import"./index-DFDl0PJq.js";import"./DownOutlined-DRGhK8zp.js";import"./Table-CSd7eQib.js";import"./List-BGWr2xJE.js";import"./index-BaNQURuW.js";import"./index-BS-7HFpi.js";import"./index-p3GZU5lJ.js";import"./index-CTitp5Qg.js";import"./PurePanel-DNUOZ5MP.js";import"./index-UsPtaxTh.js";import"./move-DCq-oE7y.js";import"./SearchOutlined-BUONfEHJ.js";import"./useBreakpoint-CUrvcDr2.js";import"./Pagination-CIrtJa5e.js";import"./index-7X6rB-D6.js";import"./videos-CoQTeQLu.js";import"./sweetalert2.esm.all-BZxvatOx.js";import"./getIds-CXkkWBEB.js";import"./index-IueWr_3q.js";import"./Dropdown-C4ZC00F-.js";import"./index-Q-uEsnt7.js";import"./index-DZ4ORVOX.js";import"./index-BwkmqrWl.js";import"./index-BLln5m9F.js";import"./index-CiopurE2.js";import"./progress-DawwBHfL.js";import"./col-pZhDRk6E.js";const ce={FRIEND:"Friend",POKED:"Poked",UNFRIENDED:"Unfriended",REQUESTED:"Requested friend",NEW:"New friend",FOLLOWER:"Follower"},ue={[ce.POKED]:"green",[ce.UNFRIENDED]:"red",[ce.NEW]:"blue",[ce.REQUESTED]:"pink",[ce.FOLLOWER]:"orange"},he={[ce.FRIEND]:{en:"Friend",vi:"B·∫°n b√®"},[ce.POKED]:{en:"Poked",vi:"ƒê√£ ch·ªçc"},[ce.UNFRIENDED]:{en:"Unfriended",vi:"ƒê√£ hu·ª∑ k·∫øt b·∫°n"},[ce.REQUESTED]:{en:"Requested friend",vi:"ƒê√£ g·ª≠i k·∫øt b·∫°n"},[ce.NEW]:{en:"New friend",vi:"Ch∆∞a k·∫øt b·∫°n"},[ce.FOLLOWER]:{en:"Follower",vi:"Ng∆∞·ªùi theo d√µi"}},ge=e=>{const n=(null==e?void 0:e.statuses)||[];return!n.includes(ce.REQUESTED)&&(n.includes(ce.NEW)||n.includes(ce.UNFRIENDED)||n.includes(ce.FOLLOWER))},me=e=>{const n=(null==e?void 0:e.statuses)||[];return!n.includes(ce.NEW)&&!n.includes(ce.UNFRIENDED)};function fe(){const fe=e(),ve=B(),{ti:ke}=h(),{message:pe,notification:ye}=g(),{onClickAction:xe,onClickBulkActions:be}=Z(),{devMode:je}=ie(),{profile:Fe}=m(),we=n(i.friendsByUid),Se=n(i.setFriendsByUid),[Ce,Te]=I("AllFriends.data",[]),[Ne,De]=I("AllFriends.interactions",[]),[$e,Ee]=I("AllFriends.ranking",[]),qe=t.useMemo((()=>{var e,n;const i=new Map,t=new Map;for(let s of Ne)null==(e=s.reactions_uid)||e.forEach((e=>i.set(e,(i.get(e)||0)+1))),null==(n=s.comments_uid)||n.forEach((e=>t.set(e,(t.get(e)||0)+1)));return{reactions:i,comments:t}}),[Ne]),Ae=t.useMemo((()=>(null==Ce?void 0:Ce.map(((e,n)=>{var i,t,s;return{...e,recent:n,comments:(null==(i=null==qe?void 0:qe.comments)?void 0:i.get(e.uid))||0,reactions:(null==(t=null==qe?void 0:qe.reactions)?void 0:t.get(e.uid))||0,ranking:null==$e?void 0:$e.indexOf(e.uid),quickFilters:Array.from(new Set([...e.quickFilters||[],(null==(s=e.uid)?void 0:s.startsWith("1000"))?null:U.StrangeUid,f(e.avatar)?U.NoAvatar:null,/\d/.test(e.name)?U.NameContainsNumbers:null,v(e.name)?U.NameContainsSpecialCharacters:null].filter(Boolean)))}})))||[]),[Ce,qe,$e]),[Ie,Be]=t.useState(!1),[Ue,Re]=t.useState(0),[He,Qe]=t.useState(!1),[Pe,Le]=t.useState(!1),[Me,_e]=t.useState(!1),[Ye,Oe]=t.useState(!1),[We,Ke]=t.useState(!1),[Ge,Xe]=t.useState(!1),[Ve,ze]=t.useState(!1),[Je,Ze]=t.useState(!1),[en,nn]=t.useState(!1),[tn,sn]=t.useState(!1),ln=t.useRef(null);t.useEffect((()=>{(null==Fe?void 0:Fe.uid)&&!(null==Ce?void 0:Ce.length)&&an()}),[]);const rn=(e,n,i=!1,t=!1)=>{Te((s=>a(s,(s=>{Array.isArray(e)||(e=[e]);let l=[];for(let r of e){let e=s.findIndex((e=>e.uid==((null==r?void 0:r.uid)||r))),a=s[e];a?(a.statuses||(a.statuses=[]),i||a.statuses.includes(n)?(Array.isArray(n)||(n=[n]),a.statuses=n):a.statuses.push(n),t&&l.push({index:e,data:a})):t?s.unshift({...r,statuses:[n]}):s.push({...r,statuses:[n]})}for(let{index:e,data:n}of l)s.splice(e,1),s.unshift(n);return s}))))},an=()=>{if(Ie)return;k("AllFriends:onClickReload");const e="onClickReload";pe.loading({key:e,content:ke({en:"Fetching friends...",vi:"ƒêang t·∫£i b·∫°n b√®..."}),duration:0}),Be(!0),R({myUid:null==Fe?void 0:Fe.uid}).then((n=>{var i;if(((e=Ce)=>{let n=!1;const i=(null==we?void 0:we[null==Fe?void 0:Fe.uid])||[],t=e.map((e=>e.uid)),l=i.map((e=>e.uid)),r=new Set(t),a=new Set(l),o=t.filter((e=>!a.has(e))),d=l.filter((e=>!r.has(e)));o.length&&(n=!0,console.log("New friends: ",o),rn(o,ce.NEW,!0),(null==i?void 0:i.length)?ye.open({type:"success",duration:0,message:ke({en:`Find ${o.length} new friends`,vi:`T√¨m th·∫•y ${o.length} b·∫°n m·ªõi`}),description:s.jsx("div",{style:{maxHeight:300,overflowY:"auto",overflowX:"hidden"},children:s.jsx("ol",{children:o.map((n=>{const i=e.find((e=>e.uid==n));return s.jsx("li",{children:s.jsx("a",{href:j(n),target:"_blank",children:(null==i?void 0:i.name)||n})},n)}))})})}):ye.open({type:"success",duration:0,message:ke({en:`Saved friends to cache: ${o.length}`,vi:`ƒê√£ l∆∞u danh s√°ch b·∫°n b√®: ${o.length}`}),description:ke({en:"Will notify if you have new friends / someone unfriended to you in future",vi:"S·∫Ω th√¥ng b√°o n·∫øu c√≥ b·∫°n m·ªõi / ng∆∞·ªùi hu·ª∑ k·∫øt b·∫°n v·ªõi b·∫°n trong t∆∞∆°ng lai"})})),d.length&&(n=!0,console.log("Deleted friends: ",d),ye.open({type:"info",duration:0,message:ke({en:`Find ${d.length} unfriended`,vi:`C√≥ ${d.length} ng∆∞·ªùi hu·ª∑ k·∫øt b·∫°n`}),description:s.jsx("div",{style:{maxHeight:300,overflowY:"auto",overflowX:"hidden"},children:s.jsx("ol",{children:d.map((e=>{const n=i.find((n=>n.uid==e));return s.jsx("li",{children:s.jsx("a",{href:j(e),target:"_blank",children:(null==n?void 0:n.name)||e})},e)}))})})})),n&&Se(null==Fe?void 0:Fe.uid,e.map((e=>({uid:e.uid,name:e.name}))))})(n),!(null==n?void 0:n.length))return pe.error({key:e,content:ke({en:"No data to show",vi:"Kh√¥ng c√≥ d·ªØ li·ªáu"})});Te(n),console.log(n),pe.success({key:e,content:ke({en:`Found ${n.length} friends`,vi:`T·∫£i xong ${n.length} b·∫°n b√®`})}),null==(i=ln.current)||i.clearFilter()})).catch((n=>{pe.error({key:e,content:ke({en:"Failed to fetch friends",vi:"L·ªói t·∫£i b·∫°n b√®"})+": "+n.message}),console.log(n)})).finally((()=>{Be(!1)}))},on=(e,n=!1)=>xe({key:"AllFriends:onClickUnfriendOne",id:e.uid,record:e,loadingText:e=>ke({en:"Unfriending...",vi:"ƒêang hu·ª∑ k·∫øt b·∫°n..."})+" "+e.name,successText:e=>ke({en:"Unfriend completed",vi:"ƒê√£ hu·ª∑ k·∫øt b·∫°n"})+": "+e.name,actionFn:e=>je?$(1e3):Q({myUid:null==Fe?void 0:Fe.uid,targetUid:null==e?void 0:e.uid}),onSuccess:()=>rn(e,ce.UNFRIENDED),failedText:e=>ke({en:"Failed to unfriend",vi:"L·ªói hu·ª∑ k·∫øt b·∫°n"})+": "+e.name,needConfirm:n,confirmProps:{title:ke({en:"Unfriend ü´Ç",vi:"Hu·ª∑ k·∫øt b·∫°n ü´Ç"}),text:ke({en:"Unfriend with ",vi:"Hu·ª∑ k·∫øt b·∫°n v·ªõi "})+e.name+"?"}}),dn=async(e,n=!1)=>xe({key:"AllFriends:onClickPokeFriend",id:e.uid,record:e,loadingText:e=>ke({en:"Poking...",vi:"ƒêang ch·ªçc..."})+" "+e.name,successText:e=>ke({en:"Poke completed",vi:"Ch·ªçc th√†nh c√¥ng"})+": "+e.name,actionFn:e=>je?$(1e3):P({myUid:null==Fe?void 0:Fe.uid,targetUid:null==e?void 0:e.uid}),onSuccess:()=>rn(e,ce.POKED),failedText:e=>ke({en:"Failed to poke",vi:"Ch·ªçc th·∫•t b·∫°i"})+": "+e.name,needConfirm:n,confirmProps:{title:ke({en:"Poke friend üëâ",vi:"Ch·ªçc b·∫°n b√® üëâ"}),text:ke({en:"Poke ",vi:"Ch·ªçc "})+e.name+"?"}}),cn=async(e,n=!1)=>xe({key:"AllFriends:onClickAddFriend",id:e.uid,record:e,loadingText:e=>ke({en:"Sending friend request...",vi:"ƒêang g·ª≠i k·∫øt b·∫°n..."})+" "+e.name,successText:e=>ke({en:"Send friend request success",vi:"G·ª≠i k·∫øt b·∫°n th√†nh c√¥ng"})+": "+e.name,actionFn:e=>je?$(1e3):L({myUid:null==Fe?void 0:Fe.uid,targetUid:null==e?void 0:e.uid}),onSuccess:()=>rn(e,ce.REQUESTED),failedText:e=>ke({en:"Failed to send friend request",vi:"L·ªói g·ª≠i k·∫øt b·∫°n"})+": "+e.name,needConfirm:n,confirmProps:{title:ke({en:"Send friend request üôè",vi:"G·ª≠i k·∫øt b·∫°n üôè"}),text:ke({en:"Send friend request to ",vi:"G·ª≠i k·∫øt b·∫°n t·ªõi "})+e.name+"?"}}),un=async e=>{var n;if(!e)return pe.error(ke({en:"File empty",vi:"File r·ªóng"}));k("AllFriends:onUploadFriendsFile");try{const i=A(e,[]);if(!Array.isArray(i)||!(null==i?void 0:i.length))return pe.error(ke({en:"No data",vi:"Kh√¥ng c√≥ d·ªØ li·ªáu"}));const t=i.map((e=>e.uid)).filter(Boolean);if(!t.length)return pe.error(ke({en:"No friends data in file",vi:"Kh√¥ng c√≥ d·ªØ li·ªáu b·∫°n b√® trong file"}));const l=new Set(t),r=[];for(let e of Ce)l.has(e.uid)||r.push(e);const a=new Set(Ce.map((e=>e.uid))),o=[];for(let e of i)a.has(e.uid)||o.push(e);rn(r,ce.NEW,!1,!0),rn(o,ce.UNFRIENDED,!1,!0),[{title:ke({en:`Found ${r.length} new friends`,vi:`T√¨m th·∫•y ${r.length} b·∫°n m·ªõi`}),text:s.jsx("div",{style:{maxHeight:300,overflowY:"auto",overflowX:"hidden"},children:s.jsx("ol",{children:r.map((e=>s.jsx("li",{children:s.jsx("a",{href:j(e.uid),target:"_blank",children:e.name})},e.uid)))})})},{title:ke({en:`Found ${o.length} unfriended`,vi:`T√¨m th·∫•y ${o.length} ng∆∞·ªùi hu·ª∑ k·∫øt b·∫°n`}),text:s.jsx("div",{style:{maxHeight:300,overflowY:"auto",overflowX:"hidden"},children:s.jsx("ol",{children:o.map((e=>s.jsx("li",{children:s.jsx("a",{href:j(e.uid),target:"_blank",children:e.name})},e.uid)))})})}].forEach((({title:e,text:n})=>ye.open({type:"success",message:e,description:n,duration:0}))),(o.length||r.length)&&(null==(n=ln.current)||n.setDataSelected([...o,...r]))}catch(i){pe.error(i.message)}},hn=async()=>{if(!(await z())||Pe)return;Le(!0);const e=ve.start(),n="AllFriends:onClickScanInteractions";k(n),pe.loading({key:n,duration:0,content:ke({en:"Loading posts...",vi:"ƒêang t·∫£i b√†i vi·∫øt..."})});let i=!1;const t=await X(1/0,(e=>{var t;De([...e]);const l=e.reduce(((e,n)=>{var i;return e+((null==(i=n.comments_uid)?void 0:i.length)||0)}),0),r=e.reduce(((e,n)=>{var i;return e+((null==(i=n.reactions_uid)?void 0:i.length)||0)}),0),a=new Date((null==(t=e[e.length-1])?void 0:t.created_time)||0),o=q(a);pe.loading({key:n,duration:0,content:s.jsxs(s.Fragment,{children:[ke({en:`Loading ${o}: ${e.length} posts, ${r} reactions, ${l} comments...`,vi:`ƒêang t·∫£i ${o}: ${e.length} b√†i vi·∫øt, ${r} l∆∞·ª£t th√≠ch, ${l} b√¨nh lu·∫≠n...`}),s.jsx("br",{}),s.jsx("i",{children:ke({en:"Click to stop",vi:"B·∫•m ƒë·ªÉ d·ª´ng"})})]}),onClick:()=>i=!0})}),(()=>i||e.value())),l=t.reduce(((e,n)=>{var i;return e+((null==(i=n.comments_uid)?void 0:i.length)||0)}),0),r=t.reduce(((e,n)=>{var i;return e+((null==(i=n.reactions_uid)?void 0:i.length)||0)}),0);pe.destroy(n);const a=t[t.length-1],o=q(new Date((null==a?void 0:a.created_time)||0));ye.open({type:"success",duration:0,message:ke({en:"Scan interactions finished",vi:"Qu√©t t∆∞∆°ng t√°c xong"}),description:s.jsxs(s.Fragment,{children:[ke({en:`Scanned ${t.length} posts, ${r} reactions, ${l} comments, last post ${o} `,vi:`Qu√©t ƒë∆∞·ª£c ${t.length} b√†i vi·∫øt, ${r} l∆∞·ª£t th√≠ch, ${l} b√¨nh lu·∫≠n, b√†i vi·∫øt cu·ªëi ${o} `}),s.jsx("a",{href:j(null==a?void 0:a.postId),target:"_blank",children:j(null==a?void 0:a.postId)})]})}),De(t),Le(!1)},gn=async()=>{const e="AllFriends:onClickFindBuddy";k(e),pe.loading({key:e,duration:0,content:ke({en:"Scanning ranking friends...",vi:"ƒêang t·∫£i x·∫øp h·∫°ng b·∫°n b√®..."})});const n=await M(Ce.length||100);console.log(n),pe.destroy(e),ye.open({type:"success",duration:0,message:ke({en:`Scan ranking completed: ${n.length} friends`,vi:`Qu√©t x·∫øp h·∫°ng b·∫°n b√® xong: ${n.length} b·∫°n`}),description:s.jsxs(s.Fragment,{children:["Top 20:",s.jsx("br",{}),s.jsx("ol",{children:n.slice(0,20).map(((e,n)=>s.jsxs("div",{children:[s.jsx("a",{href:j(e.uid),target:"_blank",children:n+1+": "+e.name}),s.jsx("br",{})]},e.uid)))})]})}),Ee(n.map((e=>e.uid)));const i=new Set(Ce.map((e=>e.uid))),t=n.filter((e=>!i.has(e.uid)));t.length&&rn(t,ce.NEW,!0)},mn=async()=>{if(!(await z()))return;Qe(!0);const e="AllFriends:onClickDeepScan";k(e),pe.loading({key:e,content:ke({en:"Deep Scanning...",vi:"ƒêang qu√©t chuy√™n s√¢u..."}),duration:0});const n=[];let i=null,t=!1;for(;!t;){const l=await _({cursor:i,section:Y.friends});if(!l.length)break;Te((e=>a(e,(e=>(l.forEach((n=>{if(!n.uid)return;const i=e.find((e=>e.uid===n.uid));i?(i.mutualFriendCount=n.mutualFriendCount,i.gender=n.gender,i.quickFilters||(i.quickFilters=[]),n.isLocked&&!i.quickFilters.includes(U.Locked)&&i.quickFilters.push(U.Locked)):n.isLocked&&e.push({...n,quickFilters:[U.Locked]})})),e))))),n.push(...l),i=l[l.length-1].cursor,pe.loading({key:e,content:s.jsxs(s.Fragment,{children:[ke({en:"Deep Scanning...",vi:"ƒêang qu√©t chuy√™n s√¢u..."})+`${~~(n.length/Ce.length*100)}% (${n.length}/${Ce.length})`,s.jsx("br",{}),ke({en:"Click to stop",vi:"B·∫•m ƒë·ªÉ d·ª´ng"})]}),onClick:()=>t=!0,duration:0}),await $(200)}const l=n.filter((e=>e.isLocked));pe.destroy(e),ye.open({type:"success",message:ke({en:"Deep Scanning completed",vi:"Ho√†n t·∫•t Qu√©t chuy√™n s√¢u"})+` (${n.length}/${Ce.length})`,description:ke({en:`Found ${l.length} locked friends.\nPlease see in "Quick filters" column`,vi:`T√¨m th·∫•y ${l.length} b·∫°n b·ªã kho√°.\nVui l√≤ng xem c·ªôt "B·ªô l·ªçc"`})}),Qe(!1)},fn=async()=>{var e;if(!(await z()))return;_e(!0);const n="AllFriends:onClickScanRemovedFriends";k(n),pe.loading({key:n,content:ke({en:"Scanning removed friends...",vi:"ƒêang qu√©t b·∫°n c≈©..."}),duration:0});const i=[];let t="",l=!1;for(;!l;){const r=await K(t);if(!(null==r?void 0:r.length))break;i.push(...r),t=(null==(e=r[r.length-1])?void 0:e.cursor)||"",Te((e=>a(e,(e=>(r.forEach((n=>{if(!n.uid)return;const i=e.find((e=>e.uid===n.uid));i?(i.statuses||(i.statuses=[]),i.statuses.includes(ce.UNFRIENDED)||i.statuses.push(ce.UNFRIENDED),i.time=n.time,i.desc=n.desc,i.cursor=n.cursor):e.push({...n,statuses:[ce.UNFRIENDED]})})),e))))),pe.loading({key:n,content:s.jsxs(s.Fragment,{children:[ke({en:`Scanning removed friends... ${i.length}`,vi:`ƒêang qu√©t b·∫°n c≈©... ${i.length}`}),s.jsx("br",{}),ke({en:"Click to stop",vi:"B·∫•m ƒë·ªÉ d·ª´ng"})]}),duration:0,onClick:()=>{l=!0}}),await $(1e3)}pe.destroy(n),ye.open({type:"success",message:ke({en:"Scan removed friends completed",vi:"Ho√†n t·∫•t Qu√©t b·∫°n c≈©"}),description:ke({en:`Found ${i.length} removed friends.\nPlease filter in "Status" column`,vi:`T√¨m th·∫•y ${i.length} b·∫°n c≈©.\nVui l√≤ng xem c·ªôt "Tr·∫°ng th√°i"`})}),_e(!1)},vn=async()=>{var e;Oe(!0);const n="AllFriends:onClickScanAddedTime";k(n),pe.loading({key:n,content:ke({en:"Scanning added time...",vi:"ƒêang qu√©t th·ªùi gian..."}),duration:0});const i=[];let t="",l=!1;for(;!l;){const r=await W(t);if(!(null==r?void 0:r.length))break;i.push(...r),t=(null==(e=r[r.length-1])?void 0:e.cursor)||"",Te((e=>a(e,(e=>(r.forEach((n=>{if(!n.uid)return;const i=e.find((e=>e.uid===n.uid));i?(i.time=n.time,i.cursor=n.cursor):e.push(n)})),e))))),pe.loading({key:n,content:s.jsxs(s.Fragment,{children:[ke({en:`Scanning added time... ${i.length}`,vi:`ƒêang qu√©t th·ªùi gian... ${i.length}`}),s.jsx("br",{}),ke({en:"Click to stop",vi:"B·∫•m ƒë·ªÉ d·ª´ng"})]}),duration:0,onClick:()=>{l=!0}}),await $(1e3)}pe.destroy(n),ye.open({type:"success",message:ke({en:"Scan added time completed",vi:"Ho√†n t·∫•t Qu√©t th·ªùi gian"}),description:ke({en:`Scanned ${i.length} friends.`,vi:`ƒê√£ qu√©t ${i.length} b·∫°n.`})}),Oe(!1)},kn=async()=>{var e;if(!(await z()))return;Ke(!0);const n="AllFriends:onClickScanBirthday";k(n),pe.loading({key:n,content:ke({en:"Scanning birthday...",vi:"ƒêang qu√©t ng√†y sinh..."})});let i="1";const t=[];for(;;){const s=await O(i);if(console.log(s),!(null==s?void 0:s.length))break;t.push(...s),i=null==(e=s[s.length-1])?void 0:e.cursor,pe.loading({key:n,content:ke({en:`Scanning birthday... ${t.length}`,vi:`ƒêang qu√©t ng√†y sinh... ${t.length}`}),duration:0}),Te((e=>a(e,(e=>(t.forEach((n=>{const i=e.find((e=>e.uid===n.uid));i?i.birthday=n.birthday:console.log("new friend birthday",n)})),e))))),await $(500)}pe.destroy(n),ye.open({type:"success",message:ke({en:"üéÇ Scan birthday completed",vi:"Ho√†n t·∫•t üéÇ Qu√©t sinh nh·∫≠t"}),description:ke({en:`Found ${t.length} friend birthdays.`,vi:`T√¨m ƒë∆∞·ª£c ${t.length} sinh nh·∫≠t.`}),duration:0}),Ke(!1)},pn=async({section:e,key:n,quickFilterType:i,setLoading:t,getFriendsFn:l,addIfNotExists:r=!0})=>{k(n),t(!0);const o=ke(H[i]);pe.loading({key:n,content:ke({en:`Scanning ${o}...`,vi:`ƒêang qu√©t b·∫°n ${o}...`})});const d=[];let c=null,u=!1;for(;!u;){const t=l?await l(c):await _({cursor:c,section:e});if(!t.length)break;console.log(t),Te((e=>a(e,(e=>(t.forEach((n=>{if(!n.uid)return;const t=e.find((e=>e.uid===n.uid));t?(t.quickFilters||(t.quickFilters=[]),t.quickFilters.includes(i)||t.quickFilters.push(i)):r&&e.push({...n,quickFilters:[i],statuses:[ce.NEW]})})),e))))),d.push(...t),c=t[t.length-1].cursor,pe.loading({key:n,content:s.jsxs(s.Fragment,{children:[ke({en:`Scanning ${o}...`,vi:`ƒêang qu√©t ${o}...`})," ",d.length,s.jsx("br",{}),ke({en:"Click to stop",vi:"B·∫•m ƒë·ªÉ d·ª´ng"})]}),onClick:()=>u=!0,duration:0}),await $(200)}pe.destroy(n),ye.open({type:"success",message:ke({en:`Scan ${o} completed`,vi:`Ho√†n t·∫•t qu√©t ${o}`}),description:ke({en:`Found ${d.length} friends.\nPlease see in "Quick filters" column`,vi:`T√¨m th·∫•y ${d.length} b·∫°n b√®.\nVui l√≤ng xem c·ªôt "B·ªô l·ªçc"`}),duration:0}),t(!1)},yn=()=>{pn({section:Y.current_city,key:"AllFriends:onClickScanCurrentCity",quickFilterType:U.CurrentCity,setLoading:Xe})},xn=()=>{pn({section:Y.hometown,key:"AllFriends:onClickScanHomeTown",quickFilterType:U.Hometown,setLoading:ze})},bn=()=>{pn({section:Y.high_school,key:"AllFriends:onClickScanHighSchool",quickFilterType:U.Highschool,setLoading:Ze})},jn=()=>{pn({section:Y.works,key:"AllFriends:onClickScanWork",quickFilterType:U.Work,setLoading:nn})},Fn=()=>{pn({key:"AllFriends:onClickScanFollowers",quickFilterType:U.Follower,setLoading:sn,getFriendsFn:G})},wn=new Date,Sn=[{title:"#",key:"recent",dataIndex:"recent",sorter:(e,n)=>e.recent-n.recent,render:(e,n,i)=>n.recent+1,width:70,align:"center"},{title:ke({en:"Name",vi:"T√™n"}),dataIndex:"name",key:"name",sorter:(e,n)=>e.name.localeCompare(n.name),onSearch:(e,n,i)=>{const t=(null==i?void 0:i.name)+(null==i?void 0:i.uid);return F(e,t)},render:(e,n,i)=>s.jsxs(le,{align:"middle",justify:"start",style:{flex:1},children:[s.jsx(re,{shape:"square",src:s.jsx(p,{src:y(n.uid),fallback:n.avatar}),size:50}),s.jsxs(x,{direction:"vertical",size:0,style:{marginLeft:10},children:[s.jsx(b.Link,{href:n.url||j(n.uid),target:"_blank",strong:!0,children:n.name}),s.jsx(b.Text,{type:"secondary",children:n.uid}),!!n.desc&&s.jsx(b.Text,{type:"secondary",children:n.desc})]})]})},{title:ke({en:"Quick Filters",vi:"B·ªô l·ªçc"}),dataIndex:"quickFilters",key:"quickFilters",render:(e,n,i)=>{var t;return(null==(t=n.quickFilters)?void 0:t.map((e=>{var n;return s.jsx(w,{color:(null==(n=H[e])?void 0:n.color)||"default",children:ke(H[e])},e)})))||""},filters:Object.entries(H).map((([e,n])=>({text:ke(n)+" ("+Ae.filter((n=>{var i;return null==(i=n.quickFilters)?void 0:i.includes(e)})).length+")",value:e}))),onFilter:(e,n)=>{var i;return null==(i=n.quickFilters)?void 0:i.includes(e)},width:150},...Ce.find((e=>e.gender))?[{title:ke({en:"Gender",vi:"Gi·ªõi t√≠nh"}),key:"gender",dataIndex:"gender",render:(e,n,i)=>{var t;const l=ke(se[n.gender])||"-";return s.jsx(w,{color:(null==(t=se[n.gender])?void 0:t.color)||"default",children:l})},filters:Object.entries(se).map((([e,n])=>({text:ke(n)+" ("+Ce.filter((n=>n.gender===e)).length+")",value:e}))),onFilter:(e,n)=>n.gender==e,width:120}]:[],...Ce.find((e=>e.mutualFriendCount))?[{title:ke({en:"Mutual",vi:"B·∫°n chung"}),key:"mutualFriendCount",dataIndex:"mutualFriendCount",sorter:(e,n)=>(e.mutualFriendCount||0)-(n.mutualFriendCount||0),width:120,align:"right",rangeFilter:{getValue:e=>e.mutualFriendCount}}]:[],...$e.length?[{title:ke({en:"Ranking",vi:"X·∫øp h·∫°ng"}),key:"ranking",dataIndex:"ranking",render:(e,n,i)=>-1==e?"_":e+1,sorter:(e,n)=>(-1==e.ranking?1/0:e.ranking)-(-1==n.ranking?1/0:n.ranking),width:120,align:"right",rangeFilter:{getValue:e=>e.ranking}}]:[],...(null==Ne?void 0:Ne.length)?[{title:ke({en:"Reactions",vi:"Th√≠ch"}),key:"reactions",dataIndex:"reactions",sorter:(e,n)=>e.reactions-n.reactions,width:100,align:"right"},{title:ke({en:"Comments",vi:"B√¨nh lu·∫≠n"}),key:"comments",dataIndex:"comments",sorter:(e,n)=>e.comments-n.comments,width:100,align:"right"}]:[],...Ce.find((e=>e.time))?[{title:ke({en:"Time",vi:"Th·ªùi gian"}),key:"time",dataIndex:"time",render:(e,n,i)=>{if(!n.time)return"";const t=new Date(n.time);return s.jsxs(x,{direction:"vertical",size:0,children:[s.jsx(b.Text,{children:S(t.getTime())}),s.jsx(b.Text,{type:"secondary",children:C(t)})]})},sorter:(e,n)=>(e.time||0)-(n.time||0),width:"16ch"}]:[],...Ce.find((e=>e.birthday))?[{title:ke({en:"Birthday",vi:"Sinh nh·∫≠t"}),key:"birthday",dataIndex:"birthday",render:(e,n,i)=>{const{year:t,month:l,day:r}=n.birthday||{};if(!l)return"-";const a=new Date,o=l===a.getMonth()+1&&r===a.getDate();a.setFullYear(a.getFullYear(),l-1,r);const d=a.getTime()-Date.now(),c=d>0,u=T(Math.abs(d)),h=Math.floor(d/864e5);return s.jsxs(x,{direction:"vertical",size:0,children:[t&&s.jsxs(b.Text,{strong:!0,children:[N(t,l,r)," ",ke({en:"years",vi:"tuoÃÇÃâi"})]}),s.jsxs(b.Text,{type:"secondary",children:[r,"/",l,t?"/"+t:""]}),s.jsx(w,{color:o?"red":c?c&&h<10?"orange":"green":"blue",children:o?ke({en:"Today",vi:"H√¥m nay"}):s.jsxs(s.Fragment,{children:[u," ",ke(d<0?{en:"ago",vi:"tr∆∞·ªõc"}:{en:"left",vi:"sau"})]})})]})},sorter:(e,n)=>{const{year:i=0,month:t=0,day:s=0}=e.birthday||{},{year:l=0,month:r=0,day:a=0}=n.birthday||{};return 1e4*i+100*t+s-1e4*l-100*r-a},filters:[{text:ke({en:"Has birthday",vi:"C√≥ ng√†y sinh"})+` (${Ce.filter((e=>e.birthday)).length})`,value:"yes"},{text:ke({en:"No birthday",vi:"Kh√¥ng ng√†y sinh"})+` (${Ce.filter((e=>!e.birthday)).length})`,value:"no"},{text:ke({en:"Know ages",vi:"Bi·∫øt tu·ªïi"})+` (${Ce.filter((e=>{var n;return null==(n=e.birthday)?void 0:n.year})).length})`,value:"year"},{text:ke({en:"Today",vi:"H√¥m nay"})+` (${Ce.filter((e=>{const{month:n,day:i}=e.birthday||{};return i==wn.getDate()&&n==wn.getMonth()+1})).length})`,value:"today"},...Array.from({length:12}).map(((e,n)=>({text:ke({en:"Month ",vi:"Th√°ng "})+(n+1)+` (${Ce.filter((e=>{var i;return(null==(i=e.birthday)?void 0:i.month)===n+1})).length})`,value:n+1})))],onFilter:(e,n)=>{const{year:i,month:t,day:s}=n.birthday||{};return"year"==e?!!i:"yes"==e?!!n.birthday:"no"==e?!n.birthday:"today"==e?s==wn.getDate()&&t==wn.getMonth()+1:t==e},width:120}]:[],{title:ke({en:"Friend status",vi:"Tr·∫°ng th√°i"}),dataIndex:"status",key:"status",width:150,filters:Object.entries(ce).map((([e,n])=>({text:ke(he[n]||n)+" ("+Ce.filter((e=>{var i,t;return(null==(i=e.statuses)?void 0:i.includes(n))||n===ce.FRIEND&&!(null==(t=e.statuses)?void 0:t.length)})).length+")",value:n}))),onFilter:(e,n)=>{var i,t;return(null==(i=n.statuses)?void 0:i.includes(e))||e==ce.FRIEND&&!(null==(t=n.statuses)?void 0:t.length)},render:(e,n,i)=>{var t;return(null==(t=null==n?void 0:n.statuses)?void 0:t.length)?n.statuses.map((e=>({key:e,value:ke(he[e]||e)}))).map((({key:e,value:n})=>s.jsx(w,{color:ue[e],children:n},e))):ke({en:"Friend",vi:"B·∫°n b√®"})},align:"right"},{title:ke({en:"Action",vi:"H√†nh ƒë·ªông"}),dataIndex:"action",key:"download",render:(e,n,i)=>{var t,a;return s.jsxs(x.Compact,{children:[s.jsx(D,{title:ke({en:"Friendship",vi:"Xem t√¨nh b·∫°n"}),children:s.jsx(l,{type:"default",onClick:()=>(e=>{k("AllFriends:onClickViewFriendship");const n=`https://www.facebook.com/friendship/${null==Fe?void 0:Fe.uid}/${e.uid}`;window.open(n,"_blank")})(n),icon:s.jsx("i",{className:"fa-solid fa-eye"})})}),s.jsx(D,{title:ke({en:"Bulk Downloader",vi:"T·∫£i h√†ng lo·∫°t"}),children:s.jsx(l,{type:"default",onClick:()=>{return e=n.uid,void fe("/bulk-downloader",{state:{targetId:e,platform:r.Facebook}});var e},icon:s.jsx("i",{className:"fa-solid fa-download"})})}),s.jsx(D,{title:ke({en:"Poke",vi:"Ch·ªçc"}),children:s.jsx(l,{type:"default",onClick:()=>dn(n,!0),icon:s.jsx("i",{className:"fa-regular fa-hand-point-right"})})}),(null==(t=n.statuses)?void 0:t.includes(ce.UNFRIENDED))||(null==(a=n.statuses)?void 0:a.includes(ce.NEW))?s.jsx(D,{title:ke({en:"Request friend",vi:"G·ª≠i k·∫øt b·∫°n"}),children:s.jsx(l,{type:"default",onClick:()=>cn(n,!0),icon:s.jsx("i",{className:"fa-solid fa-user-plus"})})}):s.jsx(D,{title:ke({en:"Unfriend",vi:"Hu·ª∑ k·∫øt b·∫°n"}),children:s.jsx(l,{danger:!0,onClick:()=>on(n,!0),icon:s.jsx("i",{className:"fa-solid fa-trash-can"})})})]})},width:150,align:"right"}],Cn=e=>[{type:"group",label:ke({en:"Interaction",vi:"T∆∞∆°ng t√°c"}),children:[{key:"ranking",label:s.jsx(oe,{placement:"right",title:ke({en:"Ranking",vi:"X·∫øp h·∫°ng"}),content:s.jsx("ul",{children:ke({en:"üìä Rank who has interacted with you the most recently\n                                ‚ùì Also called Recent interactions",vi:"üìä Xem ai t∆∞∆°ng t√°c v·ªõi b·∫°n nhi·ªÅu nh·∫•t th·ªùi gian g·∫ßn ƒë√¢y\n                                ‚ùì C√≤n g·ªçi l√† T∆∞∆°ng t√°c g·∫ßn ƒë√¢y"}).split("\n").map(((e,n)=>s.jsx("li",{children:e.trim()},n)))}),children:s.jsx(l,{onClick:gn,icon:s.jsx("i",{className:"fa-solid fa-ranking-star"}),children:ke({en:"Ranking",vi:"X·∫øp h·∫°ng"})})})},{key:"deep-scan",label:s.jsx(ne,{type:"hot",children:s.jsx(oe,{placement:"right",title:ke({en:"Deep Scan",vi:"Qu√©t Chuy√™n S√¢u"}),content:s.jsxs(s.Fragment,{children:[ke({en:"üîé Scan all friends to filter:",vi:"üîé Qu√©t t·∫•t c·∫£ b·∫°n b√® ƒë·ªÉ l·ªçc:"}),s.jsx("ul",{children:ke({en:"üéØ gender\n                                                        üîí locked friends\n                                                        ü´Ç mutual friends",vi:"üéØ gi·ªõi t√≠nh\n                                                        üîí b·∫°n b√® b·ªã kho√°\n                                                        ü´Ç b·∫°n chung"}).split("\n").map(((e,n)=>s.jsx("li",{children:e.trim()},n)))})]}),children:s.jsx(l,{loading:!!He,onClick:mn,icon:s.jsx("i",{className:"fa-solid fa-magnifying-glass"}),children:ke({en:"Deep scan",vi:"Qu√©t chuy√™n s√¢u"})})})})},{key:"scan-interactions",label:s.jsx(ne,{type:"hot",children:s.jsx(oe,{placement:"right",title:ke({en:"Interaction Scan",vi:"Qu√©t T∆∞∆°ng T√°c"}),content:s.jsx("ul",{children:ke({en:"üëçüí¨ Count friend's reactions and comments on all of your profile's posts\n                                ‚ùì Also called Total interactions",vi:"üëçüí¨ ƒê·∫øm like v√† comment c·ªßa b·∫°n b√® tr√™n t·∫•t c·∫£ b√†i vi·∫øt c·ªßa b·∫°n\n                                ‚ùì C√≤n g·ªçi l√† T∆∞∆°ng t√°c t·ªïng"}).split("\n").map(((e,n)=>s.jsx("li",{children:e.trim()},n)))}),children:s.jsx(l,{loading:Pe,icon:s.jsx("i",{className:"fa-solid fa-thumbs-up"}),onClick:hn,children:ke({en:"Scan interactions",vi:"Qu√©t t∆∞∆°ng t√°c"})})})})},{key:"detect-unfriend",label:s.jsx(ee,{accept:".json",title:ke({en:"Upload friends file",vi:"T·∫£i l√™n file b·∫°n b√® ƒë√£ l∆∞u"}),text:ke({en:"Click or drag file to this area to upload",vi:"Click ch·ªçn ho·∫∑c k√©o th·∫£ file v√†o ƒë√¢y"}),hint:ke({en:"Support only .json backup file",vi:"Ch·ªâ h·ªó tr·ª£ file .json ƒë∆∞·ª£c xu·∫•t t·ª´ trang n√†y"}),onSubmit:un,renderButton:({showModal:e})=>s.jsx(oe,{placement:"right",title:ke({en:"Check who unfriend you",vi:"Ki·ªÉm tra ai hu·ª∑ k·∫øt b·∫°n v·ªõi b·∫°n"}),content:s.jsx("ul",{children:ke({en:"‚ùì How it work: Export friends data to file, then compare it later\n                                    ‚úÖ FB AIO can automatically detect who unfriend you\n                                    üö® Only use this feature if you want manual check",vi:"‚ùì C√°ch ho·∫°t ƒë·ªông: L∆∞u danh s√°ch b·∫°n b√® ra file tr∆∞·ªõc, sau ƒë√≥ so s√°nh\n                                    ‚úÖ FB AIO s·∫Ω t·ª± ƒë·ªông th√¥ng b√°o khi c√≥ ng∆∞·ªùi hu·ª∑ k·∫øt b·∫°n\n                                    üö® Ch·ªâ s·ª≠ d·ª•ng ch·ª©c nƒÉng n√†y n·∫øu b·∫°n mu·ªën ch·ªß ƒë·ªông ki·ªÉm tra b·∫±ng tay"}).split("\n").map(((e,n)=>s.jsx("li",{children:e.trim()},n)))}),children:s.jsx(l,{onClick:e,icon:s.jsx("i",{className:"fa-solid fa-user-slash"}),children:ke({en:"Detect unfriend",vi:"Qu√©t hu·ª∑ k·∫øt b·∫°n"})})})})},{key:"detect-block-msg",label:s.jsx(oe,{placement:"right",title:ke({en:"Check who is blocking your messages",vi:"Xem ai ƒëang ch·∫∑n tin nh·∫Øn c·ªßa b·∫°n"}),content:s.jsx("ul",{children:ke({en:"‚úÖ You still can message them\n                                ‚úÖ They can still read your messages\n                                ‚ùå But facebook will never mark as read",vi:"‚úÖ B·∫°n v·∫´n nh·∫Øn ƒë∆∞·ª£c cho h·ªç\n                                ‚úÖ H·ªç v·∫´n ƒë·ªçc ƒë∆∞·ª£c tin nh·∫Øn\n                                ‚ùå Nh∆∞ng facebook s·∫Ω kh√¥ng c·∫≠p nh·∫≠t tr·∫°ng th√°i ƒë√£ xem"}).split("\n").map(((e,n)=>s.jsx("li",{children:e.trim()},n)))}),children:s.jsx(de,{title:ke(ke({en:"Check who is blocking your messages",vi:"Xem ai ƒëang ch·∫∑n tin nh·∫Øn c·ªßa b·∫°n"})),description:s.jsxs("ul",{children:[s.jsx("li",{children:ke({en:`Are you sure to check ${(null==e?void 0:e.length)||Ae.length} friends?.\n `,vi:`B·∫°n c√≥ ch·∫Øc mu·ªën ki·ªÉm tra ${(null==e?void 0:e.length)||Ae.length} b·∫°n b√®?.`})}),s.jsx("li",{children:ke({en:"You can select friends to check, instead of check all, to reduce load time.",vi:"B·∫°n c√≥ th·ªÉ ch·ªçn b·∫°n b√® ƒë·ªÉ ki·ªÉm tra, thay v√¨ ki·ªÉm tra t·∫•t c·∫£, ƒë·ªÉ gi·∫£m th·ªùi gian x·ª≠ l√Ω."})})]}),onConfirm:()=>{(async()=>{var e,n;if(Ue)return;const i="AllFriends:onClickFindBlockedMessages";k(i);const t=null==(e=ln.current)?void 0:e.getDataSelected(),l=(null==t?void 0:t.length)?t:Ce;let r=0;const o=[];let d=!1;for(let u=0;u<l.length&&!d;u++){Re(!0),pe.loading({key:i,duration:0,content:s.jsxs(s.Fragment,{children:[ke({en:"Finding blocked messages...",vi:"ƒêang t√¨m b·∫°n b√® ch·∫∑n tin nh·∫Øn..."})+`${o.length}/${u+1} - ${~~(u/l.length*100)}%`,s.jsx("br",{}),s.jsx("i",{children:ke({en:"Click to stop",vi:"B·∫•m ƒë·ªÉ d·ª´ng"})})]}),onClick:()=>d=!0});const e=l[u];await V(e.uid)||(o.push(e),null==(n=ln.current)||n.setDataSelected(o.map((e=>Ce.find((n=>n.uid===e.uid))||e))),Te((n=>a(n,(n=>{var i;const t=n.find((n=>n.uid===e.uid));t&&!(null==(i=t.quickFilters)?void 0:i.includes(U.BlockedMessages))&&(t.quickFilters||(t.quickFilters=[]),t.quickFilters.push(U.BlockedMessages))})))),pe.success({key:i,content:ke({en:"Found",vi:"T√¨m th·∫•y"})+" "+e.name+" ("+o.length+")"})),r++}Re(!1);const c=o.length?s.jsxs(s.Fragment,{children:[ke({en:`Found ${o.length} friends blocking your messages`,vi:`T√¨m th·∫•y ${o.length} b·∫°n b√® ch·∫∑n tin nh·∫Øn`}),s.jsx("br",{}),s.jsx("ul",{children:o.map((e=>s.jsx("li",{children:e.name},e.uid)))})]}):ke({en:"No one block messages you",vi:"Kh√¥ng ai ch·∫∑n tin nh·∫Øn c·ªßa b·∫°n"});pe.success({key:i,content:c}),ye.open({type:"success",message:ke({en:"Scan block message success "+r+" users",vi:"Ho√†n t·∫•t Qu√©t ch·∫∑n tin nh·∫Øn "+r+" ng∆∞·ªùi"}),description:c,duration:0})})()},okText:ke({en:"Yes",vi:"Ki·ªÉm tra"}),cancelText:ke({en:"No",vi:"Hu·ª∑"}),children:s.jsx(l,{loading:!!Ue,icon:s.jsx("i",{className:"fa-solid fa-comment-slash"}),children:ke({en:"Block messages",vi:"Ch·∫∑n tin nh·∫Øn"})})})})}]},{type:"group",label:ke({en:"Similarity",vi:"ƒêi·ªÉm chung"}),children:[{key:"birthday",label:s.jsx(oe,{placement:"right",title:ke({en:"Scan Birthday",vi:"Qu√©t Sinh nh·∫≠t"}),content:ke({en:"üéÇ Scan all friend's birthday",vi:"üéÇ Qu√©t sinh nh·∫≠t c·ªßa t·∫•t c·∫£ b·∫°n b√®"}),children:s.jsx(l,{loading:We,onClick:kn,icon:s.jsx("i",{className:"fa-solid fa-birthday-cake"}),children:ke({en:"Scan Birthday",vi:"Qu√©t sinh nh·∫≠t"})})})},{key:"current-city",label:s.jsx(oe,{placement:"right",title:ke({en:"Current city",vi:"C√πng t·ªânh th√†nh"}),content:ke({en:"üèôÔ∏è Scan all friends that live in the same city as you",vi:"üèôÔ∏è Qu√©t t·∫•t c·∫£ b·∫°n b√® ƒëang s·ªëng c√πng t·ªânh th√†nh v·ªõi b·∫°n"}),children:s.jsx(l,{loading:Ge,onClick:yn,icon:s.jsx("i",{className:"fa-solid fa-location"}),children:ke({en:"Current city",vi:"C√πng t·ªânh th√†nh"})})})},{key:"hometown",label:s.jsx(oe,{placement:"right",title:ke({en:"Hometown",vi:"C√πng qu√™"}),content:ke({en:"üè° Scan all friends that has same hometown as you",vi:"üè° Qu√©t t·∫•t c·∫£ b·∫°n b√® c√πng qu√™ qu√°n v·ªõi b·∫°n"}),children:s.jsx(l,{loading:Ve,onClick:xn,icon:s.jsx("i",{className:"fa-solid fa-home"}),children:ke({en:"Hometown",vi:"C√πng qu√™"})})})},{key:"high-school",label:s.jsx(oe,{placement:"right",title:ke({en:"High school",vi:"C√πng trung h·ªçc"}),content:ke({en:"üìö Scan all friends that has same high school as you",vi:"üìö Qu√©t t·∫•t c·∫£ b·∫°n b√® c√πng tr∆∞·ªùng trung h·ªçc v·ªõi b·∫°n"}),children:s.jsx(l,{loading:Je,onClick:bn,icon:s.jsx("i",{className:"fa-solid fa-graduation-cap"}),children:ke({en:"High school",vi:"C√πng trung h·ªçc"})})})},{key:"work",label:s.jsx(oe,{placement:"right",title:ke({en:"Scan work",vi:"C√πng c√¥ng vi·ªác"}),content:ke({en:"üíº Scan all friends that work at your company",vi:"üíº Qu√©t t·∫•t c·∫£ b·∫°n b√® c√πng c√¥ng vi·ªác (c√¥ng ty) v·ªõi b·∫°n"}),children:s.jsx(l,{loading:en,onClick:jn,icon:s.jsx("i",{className:"fa-solid fa-building"}),children:ke({en:"Scan work",vi:"C√πng c√¥ng vi·ªác"})})})},{key:"follower",label:s.jsx(ne,{type:"new",children:s.jsx(oe,{placement:"right",title:ke({en:"Scan followers",vi:"Ng∆∞·ªùi theo d√µi"}),content:ke({en:"üëâ Scan all your followers",vi:"üëâ Qu√©t t·∫•t ng∆∞·ªùi theo d√µi c·ªßa b·∫°n"}),children:s.jsx(l,{loading:tn,onClick:Fn,icon:s.jsx("i",{className:"fa-solid fa-person-walking-arrow-right"}),children:ke({en:"Scan followers",vi:"Ng∆∞·ªùi theo d√µi"})})})})}]},{type:"group",label:ke({en:"History",vi:"L·ªãch s·ª≠"}),children:[{key:"scan-added-time",label:s.jsx(oe,{placement:"right",title:ke({en:"Scan Added Time",vi:"Qu√©t Th·ªùi Gian"}),content:ke({en:"üïì Scan the time you make friend with all your friends",vi:"üïì Qu√©t th·ªùi gian m√† b·∫°n k·∫øt b·∫°n v·ªõi t·∫•t c·∫£ b·∫°n b√®"}),children:s.jsx(l,{loading:Ye,onClick:vn,icon:s.jsx("i",{className:"fa-solid fa-clock"}),children:ke({en:"Scan time",vi:"Qu√©t th·ªùi gian"})})})},{key:"scan-removed",label:s.jsx(oe,{placement:"right",title:ke({en:"Scan Removed Friends",vi:"Qu√©t B·∫°n C≈©"}),content:ke({en:"üóëÔ∏è Scan to show all your removed friends",vi:"üóëÔ∏è Qu√©t t·∫•t c·∫£ b·∫°n b√® b·∫°n ƒë√£ hu·ª∑ k·∫øt b·∫°n trong qu√° kh·ª©"}),children:s.jsx(l,{loading:Me,onClick:fn,icon:s.jsx("i",{className:"fa-solid fa-user-minus"}),children:ke({en:"Scan removed",vi:"Qu√©t b·∫°n c≈©"})})})}]},{key:"topid",label:s.jsx(oe,{placement:"right",title:ke({en:"TopID - Auto make friends using AI",vi:"TopID - T·ª± ƒë·ªông k·∫øt b·∫°n b·∫±ng AI"}),content:s.jsx("ul",{children:ke({vi:"üë´ K·∫øt b·∫°n theo ti√™u ch√≠: b·∫°n chung, gi·ªõi t√≠nh\n                    üö´ B·ªè qua n·∫øu kh√¥ng th·ªèa ti√™u ch√≠\n                    üëÄ K·∫øt b·∫°n v·ªõi danh s√°ch b·∫°n c·ªßa ng∆∞·ªùi kh√°c\n                    ü´∂ K·∫øt b·∫°n v·ªõi danh s√°ch g·ª£i √Ω b·∫°n b√® c·ªßa Facebook\n                    üéØ T·∫≠n d·ª•ng b·ªô l·ªçc c√≥ s·∫µn: c√πng t·ªânh, c√πng qu√™, m·ªõi th√™m g·∫ßn ƒë√¢y, ...\n                    ‚è≥ Th√™m th·ªùi gian ch·ªù: t·ª± ƒë·ªông b·∫•m th·ªß c√¥ng tr√™n giao di·ªán ƒë·ªÉ tr√°nh b·ªã ban",en:"üë´ Add friends based on criteria: mutual friends, gender\n                    üö´ Skip if criteria not met\n                    üëÄ Add friends of others\n                    ü´∂ Add friends from Facebook's suggested list\n                    üéØ Filter options: same province, hometown, recently added, etc.\n                    ‚è≥ Include wait time: manually click to avoid getting banned"}).split("\n").map(((e,n)=>s.jsx("li",{children:e.trim()},n)))}),children:s.jsx(l,{target:"_blank",href:o.TopID.webstore,icon:s.jsx("i",{className:"fa-solid fa-robot"}),children:ke({en:"TopID",vi:"TopID"})})})}];return s.jsx(te,{title:ke({en:"Friends manager",vi:"Qu·∫£n l√Ω b·∫°n b√®"}),titleSuffix:s.jsx(w,{style:{marginLeft:"10px",fontWeight:"bold",color:"#888"},children:Ae.length}),children:s.jsx(c,{ref:ln,data:Ae,columns:Sn,size:"small",searchable:!0,selectable:!0,keyExtractor:e=>e.uid,renderTitle:e=>{var n,i;const t=null==(n=null==e?void 0:e.filter)?void 0:n.call(e,ge),r=null==(i=null==e?void 0:e.filter)?void 0:i.call(e,me);return s.jsxs(s.Fragment,{children:[s.jsx(l,{type:"primary",icon:Ie?s.jsx("i",{className:"fa-solid fa-rotate-right fa-spin"}):s.jsx("i",{className:"fa-solid fa-rotate-right"}),onClick:an,children:ke({en:"Reload",vi:"T·∫£i l·∫°i"})}),s.jsx(u,{data:e.length?e:Ce,options:[{key:"uid",label:".txt (friend uid)",prepareData:e=>({fileName:"friends_"+d().format("YYYY-MM-DD-HHmmss")+".txt",data:e.map((e=>e.uid)).join("\n")})},{key:"uid_name",label:".csv (friend uid+name)",prepareData:e=>({fileName:"friends_uid_name_"+d().format("YYYY-MM-DD-HHmmss")+".csv",data:E(e.map((e=>({uid:e.uid,name:e.name}))))})},{key:"json",label:".json",prepareData:e=>({fileName:"friends"+d().format("YYYY-MM-DD-HHmmss")+".json",data:JSON.stringify(e,null,4)})},{key:"csv",label:".csv",prepareData:e=>({fileName:"friends"+d().format("YYYY-MM-DD-HHmmss")+".csv",data:E(e)})}]}),s.jsx(ne,{type:"new",children:s.jsx(ae,{menu:{items:Cn(e)},arrow:!0,children:s.jsx(l,{icon:s.jsx("i",{className:"fa-solid fa-toolbox"}),children:ke({en:"Tools",vi:"CoÃÇng cuÃ£"})})})}),s.jsx(J,{name:"AllFriends",text:Ce.map((e=>e.name)).join(" ")}),s.jsx(x.Compact,{children:(null==e?void 0:e.length)?s.jsxs(s.Fragment,{children:[s.jsx(D,{title:ke({en:`Poke ${e.length} selected friends`,vi:`Ch·ªçc ${e.length} ng∆∞·ªùi ƒë∆∞·ª£c ch·ªçn`}),children:s.jsx(l,{type:"default",icon:s.jsx("i",{className:"fa-solid fa-hand-point-right"}),onClick:()=>(async e=>be({key:"AllFriends:onClickPokeSelected",data:e,loadingText:e=>ke({en:"Poking...",vi:"ƒêang ch·ªçc..."}),successText:(e,n)=>ke({en:"Poke friends completed",vi:"Ch·ªçc b·∫°n b√® xong"}),actionFn:dn,waitTime:[500,1e3],successDescItem:e=>e.name,confirmProps:{title:ke({en:"Poke "+e.length+" users?",vi:"Ch·ªçc "+e.length+" ng∆∞·ªùi?"})}}))(e),children:e.length?" "+e.length:""})}),(null==t?void 0:t.length)>0?s.jsx(D,{title:ke({en:`Request friend with ${t.length} selected users`,vi:`G·ª≠i k·∫øt b·∫°n v·ªõi ${t.length} ng∆∞·ªùi ƒë∆∞·ª£c ch·ªçn`}),children:s.jsx(l,{icon:s.jsx("i",{className:"fa-solid fa-user-plus"}),onClick:()=>(async e=>be({key:"AllFriends:onClickAddFriendSelected",data:e,loadingText:e=>ke({en:"Sending friend request...",vi:"ƒêang g·ª≠i k·∫øt b·∫°n..."}),successText:(e,n)=>ke({en:"Send friend requests completed",vi:"G·ª≠i k·∫øt b·∫°n xong"}),actionFn:cn,waitTime:[500,1e3],successDescItem:e=>e.name,confirmProps:{title:ke({en:"Send friend request to "+e.length+" users?",vi:"G·ª©i k·∫øt b·∫°n t·ªõi "+e.length+" ng∆∞·ªùi?"})}}))(t),children:t.length})}):null,(null==r?void 0:r.length)>0?s.jsx(D,{title:ke({en:`Unfriend ${r.length} selected friends`,vi:`Hu·ª∑ k·∫øt b·∫°n ${r.length} ng∆∞·ªùi ƒë∆∞·ª£c ch·ªçn`}),children:s.jsx(l,{danger:!0,icon:s.jsx("i",{className:"fa-solid fa-trash-can"}),onClick:()=>(async e=>be({key:"AllFriends:onClickUnfriendSelected",data:e,loadingText:e=>ke({en:"Unfriending...",vi:"ƒêang hu·ª∑ k·∫øt b·∫°n..."}),successText:(e,n)=>ke({en:"Unfriend completed",vi:"Hu·ª∑ k·∫øt b·∫°n xong"}),actionFn:on,waitTime:[500,1e3],successDescItem:e=>e.name,confirmProps:{title:ke({en:"Unfriend "+e.length+" users?",vi:"Hu·ª∑ k·∫øt b·∫°n "+e.length+" ng∆∞·ªùi?"})}}))(r),children:r.length})}):null]}):null})]})}})})}export{fe as default};
