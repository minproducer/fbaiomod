import{y as i,W as e,x as l,h as n,aB as o}from"./MyApp-D93h0aQZ.js";import"./index-BoH2j3cU.js";async function d({uid:e="",cursor:n}){const d=await i({fb_api_req_friendly_name:"ProfileCometAppCollectionGridRendererPaginationQuery",variables:{count:8,scale:1,cursor:n??null,id:btoa(`app_collection:${e}:2409997254:96`)},doc_id:"2983410188445167"}),a=l(d);console.log(a);const{edges:t=[],page_info:r={}}=o(a);return t.map((i=>{var e,l,n,o,d;return{id:(null==(e=i.node.node)?void 0:e.id)||atob(i.node.id).split(":").at(-1),name:i.node.title.text,subTitle:null==(l=i.node.subtitle_text)?void 0:l.text,url:i.node.url,image:i.node.image.uri,cursor:i.cursor,total:(null==(d=null==(o=null==(n=null==a?void 0:a.data)?void 0:n.node)?void 0:o.items)?void 0:d.count)||0}}))}var a=(i=>(i.ADMIN="admin",i.LIKED="liked",i.UNLIKED="unliked",i.UNFOLLOWED="unfollowed",i.INVITED="invited",i.DECLINED="declined",i))(a||{});async function t(n=""){const d=await i({fb_api_req_friendly_name:"PagesCometAllLikedPagesSectionPaginationQuery",variables:{cursor:n||null,count:20,ranking_model:"INTEGRITY_SIGNALS",scale:2,id:await e(),__relay_internal__pv__StoriesRingrelayprovider:!1},doc_id:"7763290630455552"}),a=l(d),{edges:t=[],page_info:r={}}=o(a);return console.log(a),t.map((i=>{var e,l,n,o,d,a,t,r,u,v,_,c,s,p,m,g,f,b,y,w,I;return{id:(null==(l=null==(e=null==i?void 0:i.node)?void 0:e.node)?void 0:l.id)||(null==(n=null==i?void 0:i.node)?void 0:n.id),name:(null==(d=null==(o=null==i?void 0:i.node)?void 0:o.title)?void 0:d.text)||(null==(a=null==i?void 0:i.node)?void 0:a.name),url:null==(t=null==i?void 0:i.node)?void 0:t.url,image:(null==(u=null==(r=null==i?void 0:i.node)?void 0:r.image)?void 0:u.uri)||(null==(_=null==(v=null==i?void 0:i.node)?void 0:v.profile_picture)?void 0:_.uri),cursor:null==i?void 0:i.cursor,userType:(null==(c=null==i?void 0:i.node)?void 0:c.is_viewer_admin)?"admin":"liked",category:null==(s=null==i?void 0:i.node)?void 0:s.category_name,verified:null==(p=null==i?void 0:i.node)?void 0:p.is_verified,ctaLabel:null==(f=null==(g=null==(m=null==i?void 0:i.node)?void 0:m.comet_page_cta_renderer)?void 0:g.label)?void 0:f.text,ctaSubtext:null==(y=null==(b=null==i?void 0:i.node)?void 0:b.comet_page_cta_renderer)?void 0:y.subtext,canLike:null==(w=null==i?void 0:i.node)?void 0:w.can_viewer_like,subscribe_status:null==(I=null==i?void 0:i.node)?void 0:I.subscribe_status}}))}async function r(e=""){var n,o,d;const a=await i({fb_api_req_friendly_name:"CometProfilePlusUnlikeMutation",variables:{input:{is_tracking_encrypted:!1,page_id:e,source:"page_profile",tracking:null,actor_id:"me",client_mutation_id:"1"},scale:3},doc_id:"5358677870817645"}),t=l(a);return(null==(d=null==(o=null==(n=null==t?void 0:t.data)?void 0:n.page_unlike)?void 0:o.page)?void 0:d.id)===e}async function u(e=""){var n,o,d;const a=await i({fb_api_req_friendly_name:"CometUserUnfollowMutation",variables:{action_render_location:"WWW_COMET_PROFILE",input:{attribution_id_v2:"ProfileCometTimelineListViewRoot.react,comet.profile.timeline.list,via_cold_start,1724165629822,111511,250100865708545,,",is_tracking_encrypted:!1,subscribe_location:"PROFILE",tracking:null,unsubscribee_id:e,actor_id:"me"},scale:2},doc_id:"7959683157389920"}),t=l(a);return null==(d=null==(o=null==(n=null==t?void 0:t.data)?void 0:n.actor_unsubscribe)?void 0:o.unsubscribee)?void 0:d.id}async function v(){var o,d,a;const t=await i({fb_api_req_friendly_name:"PageCometLaunchpointInvitesRootQuery",variables:{id:await e()},doc_id:"7224925170868877"}),r=l(t);return console.log(r),null==(a=null==(d=null==(o=null==r?void 0:r.data)?void 0:o.user)?void 0:d.profile_plus_follower_invites)?void 0:a.map((i=>{var e,l,o,d,a;const t=(null==(e=null==i?void 0:i.delegate_page)?void 0:e.id)||(null==i?void 0:i.delegate_page_id);return{id:t,name:(null==(l=null==i?void 0:i.delegate_page)?void 0:l.name)||"???",category:null==(o=null==i?void 0:i.delegate_page)?void 0:o.category_name,image:null==(d=null==i?void 0:i.delegate_page)?void 0:d.profile_picture_uri,url:n(t),userType:"invited",cursor:"",inviteId:null==i?void 0:i.follower_invite_id,inviterId:null==i?void 0:i.inviter_id,inviterName:null==i?void 0:i.inviter_name,inviterAvatar:null==(a=null==i?void 0:i.inviter_profile_photo)?void 0:a.uri}}))}async function _(e=""){var n,o;const d=await i({fb_api_req_friendly_name:"CometProfilePlusDeclineFollowerInviteCommitMutation",variables:{input:{actor_id:"me",follower_invite_id:e,ref:"pending_invites"}},doc_id:"5270202713012831"}),a=l(d);return null==(o=null==(n=null==a?void 0:a.data)?void 0:n.decline_follower_invite)?void 0:o.follower_invite}export{a as UserTypeInPage,_ as declinePageInvite,t as getMyLikedPages,d as getOtherLikedPages,v as getPageInvites,u as unFollowPage,r as unlikePage};
