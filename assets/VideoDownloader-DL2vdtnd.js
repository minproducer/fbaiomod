const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./VideoViewer-HdQ6aks3.js","./index-BoH2j3cU.js","./index-DY-hiTTZ.css","./videos-CoQTeQLu.js","./MyApp-D93h0aQZ.js","./core-BLoORU4h.js","./core-DWvzmykr.js","./core-B8xC1vbi.js","./window-Dhlqh9T1.js","./core-CXPAvy4D.js","./getIds-CXkkWBEB.js"])))=>i.map(i=>d[i]);
import{bo as e,r as o,aQ as i,b3 as t,bn as r,b4 as a,b8 as n,bj as s,cQ as l,bq as c}from"./index-BoH2j3cU.js";import{u as d,d as m,t as u,S as g,c as p,T as f,k as w}from"./MyApp-D93h0aQZ.js";import h from"./useCacheState-CRWoF5gI.js";import{B as v}from"./BadgeWrapper-D2jAMD-I.js";import{S as j}from"./Screen-BEv7M6xj.js";import{I as _}from"./index-7X6rB-D6.js";import"./col-pZhDRk6E.js";import"./row-B1CxNhq6.js";import"./useBreakpoint-CUrvcDr2.js";import"./SearchOutlined-BUONfEHJ.js";const y=a((()=>i((()=>import("./VideoViewer-HdQ6aks3.js")),__vite__mapDeps([0,1,2,3,4]),import.meta.url)),{fallback:w}),V={[r.Bilibili]:"https://www.facebook.com/groups/fbaio/posts/1576991539622195",[r.GGDrive]:"https://www.facebook.com/groups/fbaio/posts/1576580342996648",[r.Tiktok]:"https://www.facebook.com/groups/fbaio/posts/1571823256805690",[r.Facebook]:"https://www.facebook.com/groups/fbaio/posts/1499830124005004",[r.Douyin]:"https://www.facebook.com/groups/fbaio/posts/1585404348780914"};function b(){const{ti:r}=d(),{message:a}=m(),[w,b]=e(),[x,k]=h("videoDownloader.url",""),[D,L]=h("videoDownloader.videoInfo",null),[R,E]=o.useState(!1);o.useEffect((()=>{u("VideoDownloader:onLoad")}),[]),o.useEffect((()=>{const e=w.get("url");if(console.log("url ne",e,w),e){const o=setTimeout((()=>{k(e),I(e),w.delete("url"),b(w)}),200);return()=>clearTimeout(o)}}),[w]);const I=async(e=x)=>{const o="VideoDownloader:onSearch";u(o),E(!0),a.loading({key:o,content:r({en:"Finding data...",vi:"Đang tìm dữ liệu..."}),duration:0});try{let t;if(e.includes("douyin.com")){const{extractRealDouyinUrl:o,getDouyinVideoDetail:r}=await i((async()=>{const{extractRealDouyinUrl:e,getDouyinVideoDetail:o}=await import("./core-BLoORU4h.js");return{extractRealDouyinUrl:e,getDouyinVideoDetail:o}}),__vite__mapDeps([5,1,2]),import.meta.url),a=await o(e);a!=e&&k(a),t=await r(a)}else if(e.includes("tiktok.com")){const{getTiktokVideoFromURL:o}=await i((async()=>{const{getTiktokVideoFromURL:e}=await import("./core-DWvzmykr.js");return{getTiktokVideoFromURL:e}}),__vite__mapDeps([6,1,2,4]),import.meta.url);t=await o(e)}else if(e.includes("drive.google.com")){const{getGoogleDriveVideoFromURL:o}=await i((async()=>{const{getGoogleDriveVideoFromURL:e}=await import("./core-B8xC1vbi.js");return{getGoogleDriveVideoFromURL:e}}),__vite__mapDeps([7,1,2,4,8]),import.meta.url);t=await o(e)}else if(e.includes("bilibili.tv")){const{getBilibiliVideoFromURL:o}=await i((async()=>{const{getBilibiliVideoFromURL:e}=await import("./core-CXPAvy4D.js");return{getBilibiliVideoFromURL:e}}),__vite__mapDeps([9,1,2]),import.meta.url);t=await o(e)}else{const{getVideoIdFromUrl:n}=await i((async()=>{const{getVideoIdFromUrl:e}=await import("./getIds-CXkkWBEB.js");return{getVideoIdFromUrl:e}}),__vite__mapDeps([10,1,2,4]),import.meta.url),s=await n(e);if(!s)throw E(!1),new Error(r({en:"Video not found",vi:"Không tìm thấy video"}));a.success({content:r({en:"Found video id: ",vi:"Tìm thấy ID video: "})+s}),a.loading({key:o,content:r({en:"Fetching video info...",vi:"Đang tải thông tin video..."}),duration:0});const{getVideoInfo:l}=await i((async()=>{const{getVideoInfo:e}=await import("./videos-CoQTeQLu.js");return{getVideoInfo:e}}),__vite__mapDeps([3,1,2,4]),import.meta.url);t=await l(s)}if(console.log(t),!t)throw E(!1),new Error(r({en:"Cannot fetch file info",vi:"Không tải được file"}));a.success({key:o,content:r({en:"Fetched file info",vi:"Tải thông tin file thành công"})}),L(t)}catch(t){a.error({key:o,content:r({en:"Error",vi:"Lỗi"})+": "+t.message})}finally{E(!1)}};return t.jsx(j,{mode:"center",title:r({en:"Video downloader",vi:"Tải Video"})+" 🎬",children:t.jsxs(g,{align:"center",direction:"vertical",style:{width:"100%"},children:[t.jsx(_.Search,{placeholder:r({en:"Enter video/reel URL",vi:"Nhập LINK video/reel"}),size:"large",style:{width:350,maxWidth:"90vw"},value:x,onChange:e=>{var o;return k(null==(o=e.target.value)?void 0:o.trim())},onSearch:()=>I(),enterButton:R?null:t.jsx("i",{className:"fa-solid fa-magnifying-glass"}),loading:R}),D?t.jsxs("div",{style:{position:"relative"},children:[t.jsx(y,{buttonTop:!0,info:D}),t.jsx(n,{type:"text",icon:t.jsx("i",{className:"fa-solid fa-xmark"}),onClick:()=>{k(""),L(null)},style:{position:"absolute",right:5,top:5,zIndex:2}})]}):t.jsx(v,{type:"new",children:t.jsx(s,{style:{maxWidth:"90vw"},defaultActiveKey:[0],items:[{label:r({en:"Supported URL formats ?",vi:"Các định dạng LINK được hỗ trợ ?"}),children:Object.entries(l).map((([e,o])=>t.jsxs("div",{children:[t.jsx("i",{className:c[e]})," ",t.jsx(p.Text,{strong:!0,children:V[e]?t.jsx(f,{title:r({en:"Tutorial",vi:"Hướng dẫn"}),children:t.jsxs(p.Link,{href:V[e],target:"_blank",children:[e," ",t.jsx("i",{className:"fa-solid fa-arrow-up-right-from-square"})]})}):e}),t.jsx("ul",{children:o.map((e=>t.jsx("li",{children:e},e)))})]},e)))}]})})]})})}export{V as TutorialPostURLs,b as default};
