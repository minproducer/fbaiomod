const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./Collection-CEHJdMiC.js","./index-BoH2j3cU.js","./index-DY-hiTTZ.css","./index-CLQrWQaN.js","./MyApp-D93h0aQZ.js","./useCacheState-CRWoF5gI.js","./react-hotkeys-hook.esm-V0Xz-7zA.js","./index-DD15UiBp.js","./index-p3GZU5lJ.js","./index-BS-7HFpi.js","./index-DWB43XHw.js","./Dropdown-C4ZC00F-.js","./PurePanel-DNUOZ5MP.js","./move-DCq-oE7y.js","./index-7X6rB-D6.js","./SearchOutlined-BUONfEHJ.js","./index-BJjUIN-g.js","./useBreakpoint-CUrvcDr2.js","./index-CTitp5Qg.js","./List-BGWr2xJE.js","./index-UsPtaxTh.js","./DownOutlined-DRGhK8zp.js","./row-B1CxNhq6.js","./Pagination-CIrtJa5e.js","./col-pZhDRk6E.js","./index-BwkmqrWl.js","./core-B8xC1vbi.js","./window-Dhlqh9T1.js","./core-SVOFfoDQ.js","./pdf-vWCctSwB.js","./useVIP-f__zpoad.js","./sweetalert2.esm.all-BZxvatOx.js","./getIds-CXkkWBEB.js","./index-IueWr_3q.js"])))=>i.map(i=>d[i]);
import{bo as e,r as t,aQ as i,b3 as s,bn as o,bj as n,bq as a,b8 as r,b4 as l}from"./index-BoH2j3cU.js";import{u as c,d,t as m,S as h,c as g,T as u,A as p,b as x,I as f,k as j}from"./MyApp-D93h0aQZ.js";import w from"./useCacheState-CRWoF5gI.js";import{S as v}from"./Screen-BEv7M6xj.js";import{I as D}from"./index-7X6rB-D6.js";import{C as y}from"./index-CCn4Ygtp.js";import{L as b}from"./index-BJjUIN-g.js";import{S as P}from"./index-Q-uEsnt7.js";import{a as k}from"./index-DrhEInvH.js";import"./col-pZhDRk6E.js";import"./row-B1CxNhq6.js";import"./useBreakpoint-CUrvcDr2.js";import"./SearchOutlined-BUONfEHJ.js";import"./index-IueWr_3q.js";import"./Dropdown-C4ZC00F-.js";import"./index-CTitp5Qg.js";import"./List-BGWr2xJE.js";import"./PurePanel-DNUOZ5MP.js";import"./index-UsPtaxTh.js";import"./move-DCq-oE7y.js";import"./DownOutlined-DRGhK8zp.js";import"./Pagination-CIrtJa5e.js";const F=l((()=>i((()=>import("./Collection-CEHJdMiC.js")),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25]),import.meta.url)),{fallback:j}),_={[o.GGDrive]:["📕PDF: https://drive.google.com/file/d/..."],[o.Scribd]:["📕 https://www.scribd.com/document/..."]},T={[o.GGDrive]:"https://www.facebook.com/groups/fbaio/posts/1665602100761138/",[o.Scribd]:"https://www.facebook.com/groups/fbaio/posts/1607278516593497"};function C(){const{ti:o}=c(),{message:l}=d(),[j,C]=e(),[I,N]=w("DocDownloader.url",""),[S,L]=t.useState(!1),[E,O]=w("videoDownloader.pdfInfo",null),[A,R]=t.useState(!1),[U,V]=w("DocDownloader.pdfPageWidth",1e3),[B,W]=w("DocDownloader.injectText",!1),G=t.useMemo((()=>E?E.pages.map((e=>e.replace(/\&w=\d+/,`&w=${U}`))):[]),[E,U]);t.useEffect((()=>{m("DocDownloader:onLoad")}),[]),t.useEffect((()=>{const e=j.get("url");if(e){const t=setTimeout((()=>{N(e),$(e),j.delete("url"),C(j)}),200);return()=>clearTimeout(t)}}),[j]);const $=async(e=I)=>{const t="DocDownloader:onSearch";m(t),L(!0),l.loading({key:t,content:o({en:"Finding data...",vi:"Đang tìm dữ liệu..."}),duration:0});try{if(e.includes("drive.google.com")){const{getGoogleDrivePDFFromURL:s}=await i((async()=>{const{getGoogleDrivePDFFromURL:e}=await import("./core-B8xC1vbi.js");return{getGoogleDrivePDFFromURL:e}}),__vite__mapDeps([26,1,2,4,27]),import.meta.url),n=await s(e);n&&(O(n),V(Math.min(n.maxPageWidth,1e3)),l.success({key:t,content:o({en:"Download doc success",vi:"Tải tài liệu thành công"})}))}else{if(!e.includes("scribd.com"))throw new Error(o({en:"Unsupported URL",vi:"LINK không được hỗ trợ"}));{const s=(await i((async()=>{const{default:e}=await import("./sweetalert2.esm.all-BZxvatOx.js");return{default:e}}),[],import.meta.url)).default,n=await s.fire({title:o({en:"Scribd will open new tab",vi:"Scribd sẽ mở tab mới"}),text:o({en:"FB AIO will auto scroll to end of document. Then you can Ctrl+P to print the document",vi:"FB AIO sẽ tự động cuộn đến cuối tài liệu. Sau đó bạn có thể Ctrl+P để in tài liệu"}),icon:"info",confirmButtonText:o({en:"Start",vi:"Bắt đầu"}),showCancelButton:!0});l.destroy(t),n.isConfirmed&&i((()=>import("./core-SVOFfoDQ.js")),__vite__mapDeps([28,1,2]),import.meta.url).then((t=>{t.downloadScribdDocument(e)}))}}}catch(s){console.log(s),l.error({key:t,content:o({en:"Download doc fail",vi:"Lỗi tải tài liệu"})+": "+s})}finally{L(!1)}},H=async(e=G)=>{const t="VideoDownloader:downloadPDF";if(!A){R(!0);try{l.loading({key:t,content:o({en:"Loading library...",vi:"Đang tải thư viện..."}),duration:0});const{downloadPDFFromImageUrls:s}=await i((async()=>{const{downloadPDFFromImageUrls:e}=await import("./pdf-vWCctSwB.js");return{downloadPDFFromImageUrls:e}}),__vite__mapDeps([29,1,2]),import.meta.url);await s({injectText:B,imgUrls:e,contentUrls:e.map((e=>e.replace("/img?","/presspage?"))),fileName:E.title,onProgress:(e,i)=>{l.loading({key:t,content:o({en:"Creating PDF...",vi:"Đang tạo PDF..."})+`${e}/${i}`,duration:0})}}),l.success({key:t,content:o({en:"PDF created",vi:"Tạo PDF thành công"})})}catch(s){console.log(s),l.error({key:t,content:o({en:"Download PDF fail",vi:"Tải PDF lỗi"})+" "+s})}finally{R(!1)}}};return s.jsx(v,{mode:"center",title:o({en:"Document downloader",vi:"Tải tài liệu"})+" 📚",children:s.jsxs(h,{align:"center",direction:"vertical",style:{width:"100%"},children:[s.jsx(D.Search,{placeholder:o({en:"Enter document URL",vi:"Nhập LINK tài liệu"}),size:"large",style:{width:350,maxWidth:"90vw"},value:I,onChange:e=>{var t;return N(null==(t=e.target.value)?void 0:t.trim())},onSearch:()=>$(),enterButton:S?null:s.jsx("i",{className:"fa-solid fa-magnifying-glass"}),loading:S}),(null==G?void 0:G.length)?s.jsxs("div",{style:{position:"relative"},children:[s.jsx(y,{children:s.jsx(F,{initialData:G,collectionName:E.title,pageSize:5,showPagination:!0,downloadItem:(e,t)=>({name:t+".jpg",url:e}),renderItem:(e,t)=>s.jsx(b.Item,{children:s.jsx(f,{src:e,style:{maxWidth:300,maxHeight:300},fallback:"https://placehold.co/300x300",crossOrigin:E.isNeedAuth?"use-credentials":void 0},t)}),rowKey:e=>e,header:()=>s.jsxs(h,{direction:"vertical",children:[s.jsx(p,{type:"success",showIcon:!0,message:o({en:s.jsxs(g.Text,{children:["Support both"," ",s.jsx(u,{title:"Anyone can view",children:s.jsxs(x,{children:[s.jsx("i",{className:"fa-solid fa-globe"})," Public"]})})," ","and"," ",s.jsx(u,{title:"Only your google account can view",children:s.jsxs(x,{children:[s.jsx("i",{className:"fa-solid fa-user"})," Private"]})})," ","shared PDF",s.jsxs(g.Link,{href:"https://www.facebook.com/groups/fbaio/posts/1665602100761138/",target:"_blank",children:["See more"," ",s.jsx("i",{className:"fa-solid fa-arrow-up-right-from-square"})]})]}),vi:s.jsxs(g.Text,{children:["Hỗ trợ cả file PDF chia sẻ"," ",s.jsx(u,{title:"Ai cũng xem được",children:s.jsxs(x,{children:[s.jsx("i",{className:"fa-solid fa-globe"})," Công khai"]})})," ","và"," ",s.jsx(u,{title:"Chỉ tài khoản google của bạn mới xem được",children:s.jsxs(x,{children:[s.jsx("i",{className:"fa-solid fa-user"})," Riêng tư"]})})," ",s.jsxs(g.Link,{href:"https://www.facebook.com/groups/fbaio/posts/1665602100761138/",target:"_blank",children:["Xem thêm"," ",s.jsx("i",{className:"fa-solid fa-arrow-up-right-from-square"})]})]})})}),s.jsx(p,{type:"info",showIcon:!0,message:s.jsxs(s.Fragment,{children:[o({en:"Feature not working? Try ",vi:"Chức năng không hoạt động? Hãy thử "}),s.jsxs(g.Link,{href:"https://www.facebook.com/groups/fbaio/posts/1608246173163398",target:"_blank",children:["Useful Script"," ",s.jsx("i",{className:"fa-solid fa-arrow-up-right-from-square"})]})]})}),s.jsx(y,{children:s.jsxs(h,{direction:"vertical",style:{width:"100%"},children:[s.jsxs(g.Title,{level:3,style:{margin:0,marginBottom:15},children:[E.title," (",null==G?void 0:G.length," ",o({en:"pages",vi:"trang"}),")"]}),s.jsxs(u,{title:o({en:s.jsxs(s.Fragment,{children:[s.jsx("i",{className:"fa-solid fa-crown",style:{color:"yellow"}})," ","ON: Can search text in PDF",s.jsx("br",{})," OFF: Can only view PDF (Scan version)"]}),vi:s.jsxs(s.Fragment,{children:[s.jsx("i",{className:"fa-solid fa-crown",style:{color:"yellow"}})," ","BẬT: Có thể tìm kiếm văn bản trong PDF",s.jsx("br",{})," TẮT: Chỉ có thể xem PDF (Bản Scan)"]})}),children:[s.jsxs(g.Text,{children:[s.jsx("i",{className:"fa-solid fa-search fa-lg"})," ",o({en:"Support text search",vi:"Hỗ trợ tìm kiếm văn bản"})," ",s.jsx("i",{className:"fa-solid fa-crown",style:{color:"yellow"}}),":"," "]}),s.jsx(P,{checked:B,onChange:async e=>{const{checkVIP:t}=await i((async()=>{const{checkVIP:e}=await import("./useVIP-f__zpoad.js");return{checkVIP:e}}),__vite__mapDeps([30,1,2,4,31,32,14,15,33,11]),import.meta.url);e&&!(await t())||W(e)},checkedChildren:o({en:"Yes",vi:"Có"}),unCheckedChildren:o({en:"No",vi:"Không"})})]}),s.jsx(u,{title:o({en:"Larger width will result in sharper images, but the PDF file will be larger (recommend: 1000)",vi:"Lớn hơn sẽ nét hơn, nhưng file PDF nặng hơn (khuyên dùng: 1000)"}),children:s.jsxs(g.Text,{children:[s.jsx("i",{className:"fa-solid fa-ruler fa-lg"})," ",o({en:"Page width",vi:"Chiều rộng trang"}),":"," ",s.jsxs(x,{color:"success",children:[U,"px"]})]})}),s.jsx(k,{defaultValue:U,max:E.maxPageWidth,min:100,step:100,onChangeComplete:e=>V(e),dots:!0,marks:{100:"100px",1e3:"1000px",[E.maxPageWidth]:E.maxPageWidth+"px"},tooltip:{forceRender:!0,formatter:e=>`${e}px`}})]})})]}),downloadOptions:[{key:"pdf",labelFn:e=>o({en:`📕 Download PDF ${e.length} pages`,vi:`📕 Tải PDF ${e.length} trang`}),onClick(e){H(e)}}],headerButtons:()=>s.jsx(r,{loading:A,type:"primary",icon:s.jsx("i",{className:"fa-solid fa-file-pdf"}),onClick:()=>H(),children:o({en:"Download PDF",vi:"Tải PDF"})})})}),s.jsx(r,{type:"text",icon:s.jsx("i",{className:"fa-solid fa-xmark"}),onClick:()=>{N(""),O(null)},style:{position:"absolute",right:5,top:5,zIndex:2}})]}):s.jsx(n,{style:{maxWidth:"90vw"},defaultActiveKey:[0],items:[{label:o({en:"Supported URL formats ?",vi:"Các định dạng LINK được hỗ trợ ?"}),children:Object.entries(_).map((([e,t])=>s.jsxs("div",{children:[s.jsx("i",{className:a[e]})," ",s.jsx(g.Text,{strong:!0,children:T[e]?s.jsx(u,{title:o({en:"Tutorial",vi:"Hướng dẫn"}),children:s.jsxs(g.Link,{href:T[e],target:"_blank",children:[e," ",s.jsx("i",{className:"fa-solid fa-arrow-up-right-from-square"})]})}):e}),s.jsx("ul",{children:t.map((e=>s.jsx("li",{children:e},e)))})]},e)))}]})]})})}export{T as TutorialPostURLs,C as default};
