const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./VideoWithMuted-B9CeRI4b.js","./index-BoH2j3cU.js","./index-DY-hiTTZ.css","./AudioWithMuted-Ch5roe_f.js"])))=>i.map(i=>d[i]);
import{c9 as e,a_ as s,aN as o,ca as i,cb as r,cc as t,cd as n,r as a,aQ as l,bl as m,b3 as d,ce as u,b8 as _,bj as c,b4 as j}from"./index-BoH2j3cU.js";import{S as p}from"./Screen-BEv7M6xj.js";import h from"./useCacheState-CRWoF5gI.js";import{r as g}from"./_copyArray-_bDJu6nu.js";import{d as f,u as E,t as v,S as x,ai as T,B as P,c as y,b as L,I,k as A}from"./MyApp-D93h0aQZ.js";import O from"./Collection-CEHJdMiC.js";import{S as R}from"./index-CTitp5Qg.js";import{D}from"./index-BwkmqrWl.js";import{E as k}from"./index-UsPtaxTh.js";import"./col-pZhDRk6E.js";import"./row-B1CxNhq6.js";import"./useBreakpoint-CUrvcDr2.js";import"./index-CLQrWQaN.js";import"./react-hotkeys-hook.esm-V0Xz-7zA.js";import"./index-DD15UiBp.js";import"./index-p3GZU5lJ.js";import"./index-BS-7HFpi.js";import"./index-DWB43XHw.js";import"./Dropdown-C4ZC00F-.js";import"./PurePanel-DNUOZ5MP.js";import"./move-DCq-oE7y.js";import"./index-7X6rB-D6.js";import"./SearchOutlined-BUONfEHJ.js";import"./index-BJjUIN-g.js";import"./Pagination-CIrtJa5e.js";import"./List-BGWr2xJE.js";import"./DownOutlined-DRGhK8zp.js";var V,b,w,M,N,S,C,F,W,z,H,$,B,q,G,K;function U(){if(M)return w;M=1;var e=function(){if(b)return V;b=1;var e=Math.floor,s=Math.random;return V=function(o,i){return o+e(s()*(i-o+1))}}();return w=function(s,o){var i=-1,r=s.length,t=r-1;for(o=void 0===o?r:o;++i<o;){var n=e(i,t),a=s[n];s[n]=s[i],s[i]=a}return s.length=o,s}}function Q(){if(z)return W;z=1;var e=F?C:(F=1,C=function(e,s){for(var o=-1,i=null==e?0:e.length,r=Array(i);++o<i;)r[o]=s(e[o],o,e);return r});return W=function(s,o){return e(o,(function(e){return s[e]}))}}function X(){if(q)return B;q=1;var s=U(),o=function(){if($)return H;$=1;var s=Q(),o=e();return H=function(e){return null==e?[]:s(e,o(e))}}();return B=function(e){return s(o(e))}}const Y=o(function(){if(K)return G;K=1;var e=function(){if(S)return N;S=1;var e=g(),s=U();return N=function(o){return s(e(o))}}(),o=X(),i=s();return G=function(s){return(i(s)?e:o)(s)}}());var Z,J,ee,se,oe,ie,re,te,ne,ae,le,me,de,ue,_e,ce,je,pe,he,ge;function fe(){if(te)return re;te=1;var e=J?Z:(J=1,Z=function(e,s,o,i){for(var r=e.length,t=o+(i?1:-1);i?t--:++t<r;)if(s(e[t],t,e))return t;return-1}),s=se?ee:(se=1,ee=function(e){return e!=e}),o=ie?oe:(ie=1,oe=function(e,s,o){for(var i=o-1,r=e.length;++i<r;)if(e[i]===s)return i;return-1});return re=function(i,r,t){return r==r?o(i,r,t):e(i,s,t)}}function Ee(){if(ce)return _e;ce=1;var e=i(),s=ue?de:(ue=1,de=function(){}),o=r(),t=e&&1/o(new e([,-0]))[1]==1/0?function(s){return new e(s)}:s;return _e=t}function ve(){if(pe)return je;pe=1;var e=t(),s=function(){if(ae)return ne;ae=1;var e=fe();return ne=function(s,o){return!(null==s||!s.length)&&e(s,o,0)>-1}}(),o=me?le:(me=1,le=function(e,s,o){for(var i=-1,r=null==e?0:e.length;++i<r;)if(o(s,e[i]))return!0;return!1}),i=n(),a=Ee(),l=r();return je=function(r,t,n){var m=-1,d=s,u=r.length,_=!0,c=[],j=c;if(n)_=!1,d=o;else if(u>=200){var p=t?null:a(r);if(p)return l(p);_=!1,d=i,j=new e}else j=t?[]:c;e:for(;++m<u;){var h=r[m],g=t?t(h):h;if(h=n||0!==h?h:0,_&&g==g){for(var f=j.length;f--;)if(j[f]===g)continue e;t&&j.push(g),c.push(h)}else d(j,g,n)||(j!==c&&j.push(g),c.push(h))}return c}}const xe=o(function(){if(ge)return he;ge=1;var e=ve();return he=function(s){return s&&s.length?e(s):[]}}()),Te=j((()=>l((()=>import("./VideoWithMuted-B9CeRI4b.js")),__vite__mapDeps([0,1,2]),import.meta.url)),{fallback:A}),Pe=j((()=>l((()=>import("./AudioWithMuted-Ch5roe_f.js")),__vite__mapDeps([3,1,2]),import.meta.url)),{fallback:A}),ye=["artstation","girl","anime","meme","cosplay","waifu","lolii","phongcanh","wibu","ausand","ig","gaiIG","naughty","gentle","du","donate","vdchill","xoa","spar","hug","creepy","vddoraemon","puch","kiss","slap","vdtet","domixi","cosplaygenshin","itachi","jimmy","vdgai","linhngocdam","autosend","jack3cu","gura","videochill","APIsKem","saumui","couple","khanhhuyen","lebong","videogaixinh","vdanime","ngoctrinh","man","chitanda","nhacmp3"];function Le(){var e,s;const{message:o}=f(),{ti:i}=E(),[r,t]=h("TinderNew.category",ye[0],!0),[n,j]=h("TinderNew.mediaStacks",{}),[g,I]=h("Tinder.count",{skip:0,like:0},!0),[A,V]=h("Tinder.lovedUrls",[],!0),[b,w]=a.useState(!1),[M,N]=a.useState(new Set);a.useEffect((()=>{v("Tinder.onLoad")}),[]),a.useEffect((()=>{n[r]||(w(!0),((e,s,o)=>{const i=e[s];return i?"function"==typeof i?i():Promise.resolve(i):new Promise(((e,i)=>{("function"==typeof queueMicrotask?queueMicrotask:setTimeout)(i.bind(null,new Error("Unknown variable dynamic import: "+s+(s.split("/").length!==o?". Note that variables only represent file names one level deep.":""))))}))})(Object.assign({"../../assets/json/img/APIsKem.json":()=>l((()=>import("./APIsKem-DFAVi_5O.js")),[],import.meta.url),"../../assets/json/img/anime.json":()=>l((()=>import("./anime-DM8wUqSD.js")),[],import.meta.url),"../../assets/json/img/artstation.json":()=>l((()=>import("./artstation-MjJCVLdZ.js")),[],import.meta.url),"../../assets/json/img/ausand.json":()=>l((()=>import("./ausand-BnVZRE9R.js")),[],import.meta.url),"../../assets/json/img/autosend.json":()=>l((()=>import("./autosend-C98BDuJg.js")),[],import.meta.url),"../../assets/json/img/chitanda.json":()=>l((()=>import("./chitanda-C4VBzwhJ.js")),[],import.meta.url),"../../assets/json/img/cosplay.json":()=>l((()=>import("./cosplay-DujLTsCz.js")),[],import.meta.url),"../../assets/json/img/cosplaygenshin.json":()=>l((()=>import("./cosplaygenshin-Ca4p8Ake.js")),[],import.meta.url),"../../assets/json/img/couple.json":()=>l((()=>import("./couple-BxOM_kSh.js")),[],import.meta.url),"../../assets/json/img/creepy.json":()=>l((()=>import("./creepy-Ds19T0ez.js")),[],import.meta.url),"../../assets/json/img/domixi.json":()=>l((()=>import("./domixi-CDmSaTWS.js")),[],import.meta.url),"../../assets/json/img/donate.json":()=>l((()=>import("./donate-DHyNNudV.js")),[],import.meta.url),"../../assets/json/img/du.json":()=>l((()=>import("./du-DUAy_v35.js")),[],import.meta.url),"../../assets/json/img/gaiIG.json":()=>l((()=>import("./gaiIG-CeCsJgRZ.js")),[],import.meta.url),"../../assets/json/img/gentle.json":()=>l((()=>import("./gentle-R-s-WnGS.js")),[],import.meta.url),"../../assets/json/img/girl.json":()=>l((()=>import("./girl-AEcjtsCD.js")),[],import.meta.url),"../../assets/json/img/gura.json":()=>l((()=>import("./gura-DWWyYfb2.js")),[],import.meta.url),"../../assets/json/img/help.json":()=>l((()=>import("./help-C1oz5beS.js")),[],import.meta.url),"../../assets/json/img/hug.json":()=>l((()=>import("./hug-CD6hRunE.js")),[],import.meta.url),"../../assets/json/img/ig.json":()=>l((()=>import("./ig-CeCsJgRZ.js")),[],import.meta.url),"../../assets/json/img/itachi.json":()=>l((()=>import("./itachi-SaAfTYc6.js")),[],import.meta.url),"../../assets/json/img/jack3cu.json":()=>l((()=>import("./jack3cu-D8WUrHoa.js")),[],import.meta.url),"../../assets/json/img/jimmy.json":()=>l((()=>import("./jimmy-fBcePqWQ.js")),[],import.meta.url),"../../assets/json/img/khanhhuyen.json":()=>l((()=>import("./khanhhuyen-CloNkM9d.js")),[],import.meta.url),"../../assets/json/img/kiss.json":()=>l((()=>import("./kiss-DRx_mTbM.js")),[],import.meta.url),"../../assets/json/img/lebong.json":()=>l((()=>import("./lebong-Bd_6j0b3.js")),[],import.meta.url),"../../assets/json/img/linhngocdam.json":()=>l((()=>import("./linhngocdam-DCMMjih6.js")),[],import.meta.url),"../../assets/json/img/lolii.json":()=>l((()=>import("./lolii-tiadadMi.js")),[],import.meta.url),"../../assets/json/img/man.json":()=>l((()=>import("./man-DDM6aXCQ.js")),[],import.meta.url),"../../assets/json/img/meme.json":()=>l((()=>import("./meme-BYrSPw85.js")),[],import.meta.url),"../../assets/json/img/naughty.json":()=>l((()=>import("./naughty-D8pkLkiX.js")),[],import.meta.url),"../../assets/json/img/ngoctrinh.json":()=>l((()=>import("./ngoctrinh-BgYDOZu0.js")),[],import.meta.url),"../../assets/json/img/nhacmp3.json":()=>l((()=>import("./nhacmp3-BQvD_Mro.js")),[],import.meta.url),"../../assets/json/img/nude.json":()=>l((()=>import("./nude-CBT8PlrJ.js")),[],import.meta.url),"../../assets/json/img/phongcanh.json":()=>l((()=>import("./phongcanh-BqlBA_Kk.js")),[],import.meta.url),"../../assets/json/img/puch.json":()=>l((()=>import("./puch-CDPKKJC1.js")),[],import.meta.url),"../../assets/json/img/saumui.json":()=>l((()=>import("./saumui-CE5CRqF-.js")),[],import.meta.url),"../../assets/json/img/slap.json":()=>l((()=>import("./slap-DecAk_eL.js")),[],import.meta.url),"../../assets/json/img/spar.json":()=>l((()=>import("./spar-DGQJfWSM.js")),[],import.meta.url),"../../assets/json/img/vdanime.json":()=>l((()=>import("./vdanime-BR_0z3OY.js")),[],import.meta.url),"../../assets/json/img/vdchill.json":()=>l((()=>import("./vdchill-iZ3k91tm.js")),[],import.meta.url),"../../assets/json/img/vddoraemon.json":()=>l((()=>import("./vddoraemon-DfbLDw3h.js")),[],import.meta.url),"../../assets/json/img/vdgai.json":()=>l((()=>import("./vdgai-DebIhX-o.js")),[],import.meta.url),"../../assets/json/img/vdtet.json":()=>l((()=>import("./vdtet-C0-eAh7Q.js")),[],import.meta.url),"../../assets/json/img/videochill.json":()=>l((()=>import("./videochill-DFAVi_5O.js")),[],import.meta.url),"../../assets/json/img/videogaixinh.json":()=>l((()=>import("./videogaixinh-BqS_oyz-.js")),[],import.meta.url),"../../assets/json/img/waifu.json":()=>l((()=>import("./waifu-CTGaoqkO.js")),[],import.meta.url),"../../assets/json/img/wibu.json":()=>l((()=>import("./wibu-CaLuXU3x.js")),[],import.meta.url),"../../assets/json/img/xoa.json":()=>l((()=>import("./xoa-njJXdVtL.js")),[],import.meta.url)}),`../../assets/json/img/${r}.json`,6).then((e=>{v("Tinder.loadCategory:"+r);const s=xe(Y(e.default));j(m((e=>{e[r]={urls:s,loadedMedia:[],index:0}})))})).catch((e=>{console.error("Failed to load category:",r,e),o.error(`Failed to load category: ${r}`)})).finally((()=>w(!1))))}),[r,n]);const S=a.useRef({});a.useEffect((()=>{const e=n[r];if(!e)return;const s=e.loadedMedia.length,o=Math.min(e.index+5,e.urls.length);for(let i=s;i<o;i++){const s=e.urls[i];!s||S.current[s]||e.loadedMedia.includes(s)||(S.current[s]=!0,N((e=>(e.add(s),e))),Oe(s).then((e=>{e||console.error("Failed to preload media:",s),j(m((o=>(e?o[r].loadedMedia.push(s):o[r].urls=o[r].urls.filter((e=>e!==s)),o))))})).finally((()=>{S.current[s]=!1,N((e=>(e.delete(s),e)))})))}}),[r,n]);const C=()=>{j(m((e=>{const s=e[r].urls.length,o=e[r].index;e[r].index=(o+1)%s})))},F=(e,s)=>d.jsx(x,{wrap:!0,children:s.loadedMedia.map(((i,r)=>{const t=r===s.index,n=A.includes(i);return d.jsxs("div",{style:{border:t?"2px solid red":"none",borderRadius:10,padding:2,position:"relative"},className:"show-on-hover-trigger",children:[d.jsx(Re,{url:i,onLoad:()=>{},onError:()=>{o.error(`Failed to load media: ${i}`)},maxWidth:100,maxHeight:100,autoPlay:!1}),d.jsxs(x,{size:3,style:{position:"absolute",bottom:5,right:5},children:[d.jsx(_,{danger:!0,icon:d.jsx("i",{className:"fa-solid fa-trash"}),className:"show-on-hover-item",onClick:()=>((e,s)=>{j(m((o=>{o[e].urls=o[e].urls.filter((e=>e!==s)),o[e].loadedMedia=o[e].loadedMedia.filter((e=>e!==s))})))})(e,i)}),d.jsx(_,{danger:n,icon:d.jsx("i",{className:"fa-solid fa-heart"}),onClick:()=>(e=>{v("Tinder.toggleLoved"),V((s=>s.includes(e)?s.filter((s=>s!==e)):[...s,e]))})(i),className:n?"":"show-on-hover-item"})]})]},i)}))},e),W=n[r],z=(null==(e=null==W?void 0:W.loadedMedia)?void 0:e.length)>0,H=null==(s=null==W?void 0:W.loadedMedia)?void 0:s[null==W?void 0:W.index],$=!H||M.has(H);return d.jsx(p,{title:d.jsxs(d.Fragment,{children:["Tinder mini ",d.jsx("i",{className:"fa-solid fa-heart",style:{color:"red"}})]}),mode:"center",children:d.jsxs(x,{direction:"vertical",align:"center",children:[d.jsx(R,{options:ye.map((e=>{var s,o;return{label:e+(n[e]?" ("+(null==(o=null==(s=n[e])?void 0:s.urls)?void 0:o.length)+")":""),value:e}})),value:r,onChange:t,showSearch:!0,popupMatchSelectWidth:!1}),z&&!$?d.jsx(Re,{url:H,maxWidth:"95vw",maxHeight:"75vh",resizeMode:"contain",fixedSize:!1}):d.jsxs(d.Fragment,{children:[d.jsx(u,{active:!0}),d.jsx(T,{size:"default"})]}),d.jsxs(x,{size:"middle",style:{justifyContent:"center"},children:[d.jsx(P,{count:g.skip,color:"gray",children:d.jsx(_,{icon:d.jsx("i",{className:"fa-solid fa-xmark fa-lg"}),size:"large",onClick:()=>{v("Tinder.skip"),C(),I(m((e=>{e.skip=e.skip+1})))},disabled:b,children:i({en:"Skip",vi:"Bỏ qua"})})}),d.jsx(P,{count:g.like,color:"pink",children:d.jsx(_,{type:"primary",danger:!0,icon:d.jsx("i",{className:"fa-solid fa-heart fa-lg"}),size:"large",onClick:()=>{v("Tinder.love"),C(),V((e=>[...e.filter((e=>e!==H)),H])),I(m((e=>{e.like=e.like+1})))},disabled:b||$,children:i({en:"Love",vi:"Thích"})})})]}),(g.skip>0||g.like>0)&&d.jsx(_,{type:"text",onClick:()=>{v("Tinder.reset"),I({skip:0,like:0})},icon:d.jsx("i",{className:"fa-solid fa-rotate-left"}),children:i({en:"Reset count",vi:"Đếm lại"})}),d.jsx(D,{}),d.jsxs(c,{bordered:!1,style:{minWidth:300},destroyOnHidden:!0,children:[d.jsx(c.Panel,{header:d.jsxs(y.Text,{children:[i({en:"Your Love",vi:"Đã thích"})," ",d.jsx(L,{color:"pink",children:null==A?void 0:A.length})]}),children:(null==A?void 0:A.length)>0?d.jsx(O,{collectionName:"MiniTinder",renderItem:e=>d.jsxs("div",{style:{position:"relative",padding:5},className:"show-on-hover-trigger",children:[d.jsx(Re,{url:e,maxWidth:120,maxHeight:120},e),d.jsx(_,{className:"show-on-hover-item",icon:d.jsx("i",{className:"fa-solid fa-close"}),onClick:()=>{V((s=>s.filter((s=>s!==e))))},style:{position:"absolute",bottom:5,right:5}})]}),initialData:A,rowKey:e=>e,stop:!0,downloadItem:(e,s)=>({url:e,name:`TinderSaved-${s}.${Ae(e)}`}),headerButtons:()=>[d.jsx(_,{danger:!0,icon:d.jsx("i",{className:"fa-solid fa-trash"}),onClick:()=>V([]),children:i({en:"Clear",vi:"Xóa"})},"clear")]}):d.jsx(k,{description:"No love yet"})},"loved"),d.jsx(c.Panel,{header:d.jsxs(y.Text,{children:[i({en:"History",vi:"Lịch sử"})," ",d.jsx(L,{color:"blue",children:Object.keys(n).reduce(((e,s)=>{var o,i;return e+((null==(i=null==(o=null==n?void 0:n[s])?void 0:o.loadedMedia)?void 0:i.length)??0)}),0)})]}),children:d.jsx(c,{bordered:!1,destroyOnHidden:!0,children:Object.keys(n).length>0?Object.entries(n).map((([e,s])=>d.jsx(c.Panel,{header:d.jsxs(x,{align:"center",style:{justifyContent:"space-between",width:"100%"},children:[d.jsxs(y.Text,{children:[e," - ",s.loadedMedia.length,"/",s.urls.length," "]}),d.jsx(_,{icon:d.jsx("i",{className:"fa-solid fa-close"}),onClick:()=>{j(m((s=>(delete s[e],s))))}})]}),children:F(e,s)},e))):d.jsx(k,{description:"No history yet"})})},"a")]})]})})}function Ie(e){const s=Ae(e);return"mp4"===s||"webm"===s?"video":"mp3"===s||"wav"===s?"audio":"image"}function Ae(e){var s;return(null==(s=e.split(".").pop())?void 0:s.toLowerCase())??".jpg"}function Oe(e){return new Promise(((s,o)=>{switch(Ie(e)){case"image":{const o=new Image;o.onload=()=>{s(!0)},o.onerror=()=>{console.error("Failed to preload image:",e),s(!1)},o.src=e;break}case"video":{const o=document.createElement("video");o.onloadeddata=()=>{s(!0)},o.onerror=()=>{console.error("Failed to preload video:",e),s(!1)},o.src=e;break}case"audio":{const o=new Audio;o.oncanplaythrough=()=>{s(!0)},o.onerror=()=>{console.error("Failed to preload audio:",e),s(!1)},o.src=e;break}default:s(!1)}}))}function Re({url:e,onLoad:s=()=>{},onError:o=()=>{},maxWidth:i=500,maxHeight:r=500,autoPlay:t=!0,resizeMode:n="cover",fixedSize:a=!0}){switch(Ie(e)){case"video":return d.jsx(Te,{src:e,controls:!0,style:{maxWidth:i,maxHeight:r,borderRadius:10},onLoadedData:s,onError:o,autoPlay:t});case"audio":return d.jsx("div",{style:{width:i,padding:20,background:"#f0f0f0",borderRadius:10},children:d.jsx(Pe,{src:e,controls:!0,style:{width:"100%"},onLoadedData:s,onError:o,autoPlay:t})});default:return d.jsx(I,{src:e,style:{...a?{width:i,height:r}:{maxWidth:i,maxHeight:r},objectFit:n,borderRadius:10,cursor:"pointer"},onLoad:s,onError:o,preview:{mask:null}})}}export{Le as default};
